<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>C++ API Documentation &mdash; Bitwuzla  documentation</title>
      <link rel="stylesheet" type="text/css" href="../static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../static/css/theme.css?v=19f00094" />
      <link rel="stylesheet" type="text/css" href="../static/tabs.css?v=a5c4661c" />
      <link rel="stylesheet" type="text/css" href="../static/custom.css?v=3b6f11eb" />

  
  <!--[if lt IE 9]>
    <script src="../static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../static/jquery.js?v=5d32c60e"></script>
        <script src="../static/sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../static/documentation_options.js?v=5929fcd5"></script>
        <script src="../static/doctools.js?v=9bcbadda"></script>
        <script src="../static/sphinx_highlight.js?v=dc90522c"></script>
        <script src="../static/tabs.js?v=3030b3cb"></script>
    <script src="../static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="C++ Interface" href="interface.html" />
    <link rel="prev" title="API Documentation" href="../api.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            Bitwuzla
          </a>
              <div class="version">
                0.8.1
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../install.html">Installation and Build Instructions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../binary.html">Command Line Interface</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../api.html">API Documentation</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">C++ API Documentation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="interface.html">C++ Interface</a></li>
<li class="toctree-l3"><a class="reference internal" href="options.html">Options</a></li>
<li class="toctree-l3"><a class="reference internal" href="enums/kind.html">Term Kinds</a></li>
<li class="toctree-l3"><a class="reference internal" href="#quickstart">Quickstart</a></li>
<li class="toctree-l3"><a class="reference internal" href="#examples">Examples</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#quickstart-example">Quickstart Example</a></li>
<li class="toctree-l4"><a class="reference internal" href="#options-example">Options Example</a></li>
<li class="toctree-l4"><a class="reference internal" href="#option-info-example">Option Info Example</a></li>
<li class="toctree-l4"><a class="reference internal" href="#incremental-example-with-push-and-pop">Incremental Example with push and pop</a></li>
<li class="toctree-l4"><a class="reference internal" href="#incremental-example-with-check-sat-assuming">Incremental Example with check-sat-assuming</a></li>
<li class="toctree-l4"><a class="reference internal" href="#unsat-core-example">Unsat Core Example</a></li>
<li class="toctree-l4"><a class="reference internal" href="#unsat-assumptions-example">Unsat Assumptions Example</a></li>
<li class="toctree-l4"><a class="reference internal" href="#reset-example">Reset Example</a></li>
<li class="toctree-l4"><a class="reference internal" href="#reset-assertions-example">Reset Assertions Example</a></li>
<li class="toctree-l4"><a class="reference internal" href="#parsing-example">Parsing Example</a></li>
<li class="toctree-l4"><a class="reference internal" href="#printing-example">Printing Example</a></li>
<li class="toctree-l4"><a class="reference internal" href="#termination-callback-example">Termination Callback Example</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../c/api.html">C API Documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../python/api.html">Python API Documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ocaml/api.html">OCaml API Documentation</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../references.html">References</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Bitwuzla</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../api.html">API Documentation</a></li>
      <li class="breadcrumb-item active">C++ API Documentation</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="c-api-documentation">
<h1>C++ API Documentation<a class="headerlink" href="#c-api-documentation" title="Link to this heading"></a></h1>
<p>The <a class="reference internal" href="interface.html"><span class="doc">C++ API</span></a> of Bitwuzla is its primary API.
This section provides a <a class="reference internal" href="#quickstart"><span class="std std-ref">quickstart</span></a> guide to give an
introduction on how to use the C++ API and a comprehensive set of
<a class="reference internal" href="#examples"><span class="std std-ref">examples</span></a> to cover basic and common use cases. A
comprehensive description of the interface is given <a class="reference internal" href="interface.html"><span class="doc">here</span></a>.</p>
<hr class="docutils" />
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="interface.html">C++ Interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="options.html">Options</a></li>
<li class="toctree-l1"><a class="reference internal" href="enums/kind.html">Term Kinds</a></li>
</ul>
</div>
<nav class="contents local" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#quickstart" id="id4">Quickstart</a></p></li>
<li><p><a class="reference internal" href="#examples" id="id5">Examples</a></p>
<ul>
<li><p><a class="reference internal" href="#quickstart-example" id="id6">Quickstart Example</a></p></li>
<li><p><a class="reference internal" href="#options-example" id="id7">Options Example</a></p></li>
<li><p><a class="reference internal" href="#option-info-example" id="id8">Option Info Example</a></p></li>
<li><p><a class="reference internal" href="#incremental-example-with-push-and-pop" id="id9">Incremental Example with push and pop</a></p></li>
<li><p><a class="reference internal" href="#incremental-example-with-check-sat-assuming" id="id10">Incremental Example with check-sat-assuming</a></p></li>
<li><p><a class="reference internal" href="#unsat-core-example" id="id11">Unsat Core Example</a></p></li>
<li><p><a class="reference internal" href="#unsat-assumptions-example" id="id12">Unsat Assumptions Example</a></p></li>
<li><p><a class="reference internal" href="#reset-example" id="id13">Reset Example</a></p></li>
<li><p><a class="reference internal" href="#reset-assertions-example" id="id14">Reset Assertions Example</a></p></li>
<li><p><a class="reference internal" href="#parsing-example" id="id15">Parsing Example</a></p></li>
<li><p><a class="reference internal" href="#printing-example" id="id16">Printing Example</a></p></li>
<li><p><a class="reference internal" href="#termination-callback-example" id="id17">Termination Callback Example</a></p></li>
</ul>
</li>
</ul>
</nav>
<hr class="docutils" />
<section id="quickstart">
<h2><a class="toc-backref" href="#id4" role="doc-backlink">Quickstart</a><a class="headerlink" href="#quickstart" title="Link to this heading"></a></h2>
<p>First, create a <code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">TermManager</span></code> instance that allows us to
create sorts and terms later:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="w">  </span><span class="n">TermManager</span><span class="w"> </span><span class="n">tm</span><span class="p">;</span>
</pre></div>
</div>
<p>Then, create a <a class="reference internal" href="classes/options.html#_CPPv4N8bitwuzla7OptionsE" title="bitwuzla::Options"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">bitwuzla::Options</span></code></a> instance:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="w">  </span><span class="n">Options</span><span class="w"> </span><span class="n">options</span><span class="p">;</span>
</pre></div>
</div>
<p>This instance can be configured via <a class="reference internal" href="classes/options.html#_CPPv4N8bitwuzla7Options3setE6Option8uint64_t" title="bitwuzla::Options::set"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">bitwuzla::Options::set()</span></code></a>.
For example, to enable model generation
(SMT-LIB: <code class="code docutils literal notranslate"><span class="pre">(set-option</span> <span class="pre">:produce-models</span> <span class="pre">true)</span></code>):</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="w">  </span><span class="n">options</span><span class="p">.</span><span class="n">set</span><span class="p">(</span><span class="n">Option</span><span class="o">::</span><span class="n">PRODUCE_MODELS</span><span class="p">,</span><span class="w"> </span><span class="nb">true</span><span class="p">);</span>
</pre></div>
</div>
<p>Some options have <strong>modes</strong>, which can be configured via the string
representation of their modes. For example, to enable CaDiCaL as back end SAT
solver (this is for illustration purposes only, CaDiCaL is configured by
default):</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="w">  </span><span class="n">options</span><span class="p">.</span><span class="n">set</span><span class="p">(</span><span class="n">Option</span><span class="o">::</span><span class="n">SAT_SOLVER</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;cadical&quot;</span><span class="p">);</span>
</pre></div>
</div>
<p>For more details on available options, see <a class="reference internal" href="options.html"><span class="doc">Options</span></a>.</p>
<p>Then, create a <a class="reference internal" href="../c/types/bitwuzla.html#_CPPv48Bitwuzla" title="Bitwuzla"><code class="xref cpp cpp-type docutils literal notranslate"><span class="pre">Bitwuzla</span></code></a> <strong>solver</strong> instance with a term manager
and configured options (configuration options are now frozen and cannot be
changed for this instance):</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="w">  </span><span class="n">Bitwuzla</span><span class="w"> </span><span class="nf">bitwuzla</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span><span class="w"> </span><span class="n">options</span><span class="p">);</span>
</pre></div>
</div>
<p>Next, you will want to <strong>create</strong> some <strong>expressions</strong> via the term manager
<cite>tm</cite> and <strong>assert formulas</strong>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Sorts and terms can be shared between multiple solver instances as long as
these solvers use the same term manager.</p>
</div>
<p>For example, consider the following SMT-LIB input:</p>
<div class="highlight-smtlib notranslate"><div class="highlight"><pre><span></span>(<span class="k">set-logic</span> QF_ABV)
(<span class="k">set-option</span> <span class="na">:produce-models</span> <span class="s">true</span>)
(<span class="k">declare-const</span> <span class="n">x</span> (_ <span class="na">BitVec</span> <span class="m">8</span>))
(<span class="k">declare-const</span> <span class="n">y</span> (_ <span class="na">BitVec</span> <span class="m">8</span>))
(<span class="k">declare-fun</span> <span class="n">f</span> ((_ <span class="na">BitVec</span> <span class="m">8</span>) (_ <span class="na">BitVec</span> <span class="m">4</span>)) (_ <span class="na">BitVec</span> <span class="m">8</span>))
(<span class="k">declare-const</span> <span class="n">a</span> (<span class="n">Array</span> (_ <span class="na">BitVec</span> <span class="m">8</span>) (_ <span class="na">BitVec</span> <span class="m">8</span>)))
(<span class="k">assert</span>
    (<span class="o">distinct</span>
        ((_ <span class="o">extract</span> <span class="m">3</span> <span class="m">0</span>) (<span class="o">bvsdiv</span> <span class="n">x</span> (_ <span class="s">bv2</span> <span class="m">8</span>)))
        ((_ <span class="o">extract</span> <span class="m">3</span> <span class="m">0</span>) (<span class="o">bvashr</span> <span class="n">y</span> (_ <span class="s">bv1</span> <span class="m">8</span>)))))
(<span class="k">assert</span> (<span class="o">=</span> (<span class="n">f</span> <span class="n">x</span> ((_ <span class="o">extract</span> <span class="m">6</span> <span class="m">3</span>) <span class="n">x</span>)) <span class="n">y</span>))
(<span class="k">assert</span> (<span class="o">=</span> (<span class="n">select</span> <span class="n">a</span> <span class="n">x</span>) <span class="n">y</span>))
(<span class="k">check-sat</span>)
(<span class="k">get-model</span>)
(<span class="k">get-value</span> (<span class="n">x</span> <span class="n">y</span> <span class="n">f</span> <span class="n">a</span> (<span class="o">bvmul</span> <span class="n">x</span> <span class="n">x</span>)))
(<span class="k">exit</span>)
</pre></div>
</div>
<p>This input is created and asserted as follows:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="w">  </span><span class="c1">// Create bit-vector sorts of size 4 and 8.</span>
<span class="w">  </span><span class="n">Sort</span><span class="w"> </span><span class="n">sortbv4</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">tm</span><span class="p">.</span><span class="n">mk_bv_sort</span><span class="p">(</span><span class="mi">4</span><span class="p">);</span>
<span class="w">  </span><span class="n">Sort</span><span class="w"> </span><span class="n">sortbv8</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">tm</span><span class="p">.</span><span class="n">mk_bv_sort</span><span class="p">(</span><span class="mi">8</span><span class="p">);</span>
<span class="w">  </span><span class="c1">// Create function sort.</span>
<span class="w">  </span><span class="n">Sort</span><span class="w"> </span><span class="n">sortfun</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">tm</span><span class="p">.</span><span class="n">mk_fun_sort</span><span class="p">({</span><span class="n">sortbv8</span><span class="p">,</span><span class="w"> </span><span class="n">sortbv4</span><span class="p">},</span><span class="w"> </span><span class="n">sortbv8</span><span class="p">);</span>
<span class="w">  </span><span class="c1">// Create array sort.</span>
<span class="w">  </span><span class="n">Sort</span><span class="w"> </span><span class="n">sortarr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">tm</span><span class="p">.</span><span class="n">mk_array_sort</span><span class="p">(</span><span class="n">sortbv8</span><span class="p">,</span><span class="w"> </span><span class="n">sortbv8</span><span class="p">);</span>

<span class="w">  </span><span class="c1">// Create two bit-vector constants of that sort.</span>
<span class="w">  </span><span class="n">Term</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">tm</span><span class="p">.</span><span class="n">mk_const</span><span class="p">(</span><span class="n">sortbv8</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;x&quot;</span><span class="p">);</span>
<span class="w">  </span><span class="n">Term</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">tm</span><span class="p">.</span><span class="n">mk_const</span><span class="p">(</span><span class="n">sortbv8</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;y&quot;</span><span class="p">);</span>
<span class="w">  </span><span class="c1">// Create fun const.</span>
<span class="w">  </span><span class="n">Term</span><span class="w"> </span><span class="n">f</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">tm</span><span class="p">.</span><span class="n">mk_const</span><span class="p">(</span><span class="n">sortfun</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;f&quot;</span><span class="p">);</span>
<span class="w">  </span><span class="c1">// Create array const.</span>
<span class="w">  </span><span class="n">Term</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">tm</span><span class="p">.</span><span class="n">mk_const</span><span class="p">(</span><span class="n">sortarr</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;a&quot;</span><span class="p">);</span>
<span class="w">  </span><span class="c1">// Create bit-vector values one and two of the same sort.</span>
<span class="w">  </span><span class="n">Term</span><span class="w"> </span><span class="n">one</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">tm</span><span class="p">.</span><span class="n">mk_bv_one</span><span class="p">(</span><span class="n">sortbv8</span><span class="p">);</span>
<span class="w">  </span><span class="c1">// Alternatively, you can create bit-vector value one with:</span>
<span class="w">  </span><span class="c1">// Term one = tm.mk_bv_value(sortbv8, &quot;1&quot;, 2);</span>
<span class="w">  </span><span class="c1">// Term one = tm.mk_bv_value_uint64(sortbv8, 1);</span>
<span class="w">  </span><span class="n">Term</span><span class="w"> </span><span class="n">two</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">tm</span><span class="p">.</span><span class="n">mk_bv_value_uint64</span><span class="p">(</span><span class="n">sortbv8</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">);</span>

<span class="w">  </span><span class="c1">// (bvsdiv x (_ bv2 8))</span>
<span class="w">  </span><span class="n">Term</span><span class="w"> </span><span class="n">sdiv</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">tm</span><span class="p">.</span><span class="n">mk_term</span><span class="p">(</span><span class="n">Kind</span><span class="o">::</span><span class="n">BV_SDIV</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">two</span><span class="p">});</span>
<span class="w">  </span><span class="c1">// (bvashr y (_ bv1 8))</span>
<span class="w">  </span><span class="n">Term</span><span class="w"> </span><span class="n">ashr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">tm</span><span class="p">.</span><span class="n">mk_term</span><span class="p">(</span><span class="n">Kind</span><span class="o">::</span><span class="n">BV_ASHR</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="n">y</span><span class="p">,</span><span class="w"> </span><span class="n">one</span><span class="p">});</span>
<span class="w">  </span><span class="c1">// ((_ extract 3 0) (bvsdiv x (_ bv2 8)))</span>
<span class="w">  </span><span class="n">Term</span><span class="w"> </span><span class="n">sdive</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">tm</span><span class="p">.</span><span class="n">mk_term</span><span class="p">(</span><span class="n">Kind</span><span class="o">::</span><span class="n">BV_EXTRACT</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="n">sdiv</span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">});</span>
<span class="w">  </span><span class="c1">// ((_ extract 3 0) (bvashr x (_ bv1 8)))</span>
<span class="w">  </span><span class="n">Term</span><span class="w"> </span><span class="n">ashre</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">tm</span><span class="p">.</span><span class="n">mk_term</span><span class="p">(</span><span class="n">Kind</span><span class="o">::</span><span class="n">BV_EXTRACT</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="n">ashr</span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">});</span>

<span class="w">  </span><span class="c1">// (assert</span>
<span class="w">  </span><span class="c1">//     (distinct</span>
<span class="w">  </span><span class="c1">//         ((_ extract 3 0) (bvsdiv x (_ bv2 8)))</span>
<span class="w">  </span><span class="c1">//         ((_ extract 3 0) (bvashr y (_ bv1 8)))))</span>
<span class="w">  </span><span class="n">bitwuzla</span><span class="p">.</span><span class="n">assert_formula</span><span class="p">(</span><span class="n">tm</span><span class="p">.</span><span class="n">mk_term</span><span class="p">(</span><span class="n">Kind</span><span class="o">::</span><span class="n">DISTINCT</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="n">sdive</span><span class="p">,</span><span class="w"> </span><span class="n">ashre</span><span class="p">}));</span>
<span class="w">  </span><span class="c1">// (assert (= (f x ((_ extract 6 3) x)) y))</span>
<span class="w">  </span><span class="n">bitwuzla</span><span class="p">.</span><span class="n">assert_formula</span><span class="p">(</span>
<span class="w">      </span><span class="n">tm</span><span class="p">.</span><span class="n">mk_term</span><span class="p">(</span><span class="n">Kind</span><span class="o">::</span><span class="n">EQUAL</span><span class="p">,</span>
<span class="w">                 </span><span class="p">{</span><span class="n">tm</span><span class="p">.</span><span class="n">mk_term</span><span class="p">(</span><span class="n">Kind</span><span class="o">::</span><span class="n">APPLY</span><span class="p">,</span>
<span class="w">                             </span><span class="p">{</span><span class="n">f</span><span class="p">,</span><span class="w"> </span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">tm</span><span class="p">.</span><span class="n">mk_term</span><span class="p">(</span><span class="n">Kind</span><span class="o">::</span><span class="n">BV_EXTRACT</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="n">x</span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="mi">6</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">})}),</span>
<span class="w">                  </span><span class="n">y</span><span class="p">}));</span>
<span class="w">  </span><span class="c1">// (assert (= (select a x) y))</span>
<span class="w">  </span><span class="n">bitwuzla</span><span class="p">.</span><span class="n">assert_formula</span><span class="p">(</span>
<span class="w">      </span><span class="n">tm</span><span class="p">.</span><span class="n">mk_term</span><span class="p">(</span><span class="n">Kind</span><span class="o">::</span><span class="n">EQUAL</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="n">tm</span><span class="p">.</span><span class="n">mk_term</span><span class="p">(</span><span class="n">Kind</span><span class="o">::</span><span class="n">ARRAY_SELECT</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">x</span><span class="p">}),</span><span class="w"> </span><span class="n">y</span><span class="p">}));</span>
</pre></div>
</div>
<p>Alternatively, you can <strong>parse</strong> an <strong>input file</strong> in BTOR2 format
<span id="id1">[<a class="reference internal" href="../references.html#id4" title="Aina Niemetz, Mathias Preiner, Clifford Wolf, and Armin Biere. Btor2 , BtorMC and Boolector 3.0. In Hana Chockler and Georg Weissenbacher, editors, Computer Aided Verification - 30th International Conference, CAV 2018, Held as Part of the Federated Logic Conference, FloC 2018, Oxford, UK, July 14-17, 2018, Proceedings, Part I, volume 10981 of Lecture Notes in Computer Science, 587–595. Springer, 2018. doi:10.1007/978-3-319-96145-3\_32.">NPWB18</a>]</span> or SMT-LIB v2 format <span id="id2">[<a class="reference internal" href="../references.html#id5" title="Clark Barrett, Pascal Fontaine, and Cesare Tinelli. The SMT-LIB Standard: Version 2.6. Technical Report, Department of Computer Science, The University of Iowa, 2017. URL: https://smtlib.cs.uiowa.edu/papers/smt-lib-reference-v2.6-r2017-07-18.pdf.">BFT17</a>]</span> by creating a parser
<a class="reference internal" href="classes/parser.html#_CPPv4N8bitwuzla6parser6ParserE" title="bitwuzla::parser::Parser"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">bitwuzla::parser::Parser</span></code></a> and then parsing the input file via
<a class="reference internal" href="classes/parser.html#_CPPv4N8bitwuzla6parser6Parser5parseERKNSt6stringEbb" title="bitwuzla::parser::Parser::parse"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">bitwuzla::parser::Parser::parse()</span></code></a>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The input parser creates a <a class="reference internal" href="../c/types/bitwuzla.html#_CPPv48Bitwuzla" title="Bitwuzla"><code class="xref cpp cpp-type docutils literal notranslate"><span class="pre">Bitwuzla</span></code></a> instance, which can be
configured via the <a class="reference internal" href="classes/options.html#_CPPv4N8bitwuzla7OptionsE" title="bitwuzla::Options"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">bitwuzla::Options</span></code></a> instance passed into the
parser. This Bitwuzla instance can be retrieved via
<a class="reference internal" href="classes/parser.html#_CPPv4N8bitwuzla6parser6Parser8bitwuzlaEv" title="bitwuzla::parser::Parser::bitwuzla"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">bitwuzla::parser::Parser::bitwuzla()</span></code></a>.</p>
</div>
<p>For example, to parse an example file <cite>examples/smt2/quickstart.smt2</cite> in SMT-LIB format:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="w">  </span><span class="c1">// First, create a term manager instance.</span>
<span class="w">  </span><span class="n">TermManager</span><span class="w"> </span><span class="n">tm</span><span class="p">;</span>
<span class="w">  </span><span class="c1">// Create a Bitwuzla options instance.</span>
<span class="w">  </span><span class="n">Options</span><span class="w"> </span><span class="n">options</span><span class="p">;</span>

<span class="w">  </span><span class="c1">// We will parse example file `smt2/quickstart.smt2`.</span>
<span class="w">  </span><span class="c1">// Create parser instance.</span>
<span class="w">  </span><span class="n">parser</span><span class="o">::</span><span class="n">Parser</span><span class="w"> </span><span class="nf">parser</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span><span class="w"> </span><span class="n">options</span><span class="p">);</span>
<span class="w">  </span><span class="k">try</span>
<span class="w">  </span><span class="p">{</span>
<span class="w">    </span><span class="n">parser</span><span class="p">.</span><span class="n">parse</span><span class="p">(</span><span class="s">&quot;../smt2/quickstart.smt2&quot;</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="w">  </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">bitwuzla</span><span class="o">::</span><span class="n">parser</span><span class="o">::</span><span class="n">Exception</span><span class="o">&amp;</span><span class="w"> </span><span class="n">e</span><span class="p">)</span>
<span class="w">  </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// We expect no error to occur.</span>
<span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;unexpected parser exception&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="w">  </span><span class="p">}</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If the input is given in SMT-LIB format, commands like <code class="code docutils literal notranslate"><span class="pre">check-sat</span></code>
or <code class="code docutils literal notranslate"><span class="pre">get-value</span></code> will be executed while parsing if argument <cite>parse_only</cite>
is passed into <a class="reference internal" href="classes/parser.html#_CPPv4N8bitwuzla6parser6Parser5parseERKNSt6stringEbb" title="bitwuzla::parser::Parser::parse"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">bitwuzla::parser::Parser::parse()</span></code></a> as <code class="code docutils literal notranslate"><span class="pre">true</span></code>.</p>
</div>
<p>After parsing from an input file, the <strong>parsed assertions</strong> can be retrieved
via <a class="reference internal" href="classes/bitwuzla.html#_CPPv4N8bitwuzla8Bitwuzla14get_assertionsEv" title="bitwuzla::Bitwuzla::get_assertions"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">bitwuzla::Bitwuzla::get_assertions()</span></code></a>:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="w">    </span><span class="c1">// Now we retrieve the set of asserted formulas and print them.</span>
<span class="w">    </span><span class="k">auto</span><span class="w"> </span><span class="n">assertions</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">parser</span><span class="p">.</span><span class="n">bitwuzla</span><span class="p">()</span><span class="o">-&gt;</span><span class="n">get_assertions</span><span class="p">();</span>
<span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Assertions:&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;{&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="k">auto</span><span class="o">&amp;</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">assertions</span><span class="p">)</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">      </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;  &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;}&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
</pre></div>
</div>
<p>Alternatively, Bitwuzla also supports <strong>parsing from strings</strong> via
<a class="reference internal" href="classes/parser.html#_CPPv4N8bitwuzla6parser6Parser5parseERKNSt6stringEbb" title="bitwuzla::parser::Parser::parse"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">bitwuzla::parser::Parser::parse()</span></code></a>. The quickstart input above can
be parsed as one huge input string, or any its subsets of commands.</p>
<p>Bitwuzla also allows to <strong>add onto</strong> input parsed from a file.
For example, after parsing in <code class="docutils literal notranslate"><span class="pre">examples/smt2/quickstart.smt2</span></code>, which is
satisfiable, we add an assertion (which now makes the input formula
unsatisfiable) via parsing from string as follows:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="w">    </span><span class="n">parser</span><span class="p">.</span><span class="n">parse</span><span class="p">(</span><span class="s">&quot;(assert (distinct (select a x) y))&quot;</span><span class="p">,</span><span class="w"> </span><span class="nb">true</span><span class="p">,</span><span class="w"> </span><span class="nb">false</span><span class="p">);</span>
</pre></div>
</div>
<p>Bitwuzla also supports <strong>parsing terms and sorts from strings</strong> via
<a class="reference internal" href="classes/parser.html#_CPPv4N8bitwuzla6parser6Parser10parse_termERKNSt6stringE" title="bitwuzla::parser::Parser::parse_term"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">bitwuzla::parser::Parser::parse_term()</span></code></a> and
<a class="reference internal" href="classes/parser.html#_CPPv4N8bitwuzla6parser6Parser10parse_sortERKNSt6stringE" title="bitwuzla::parser::Parser::parse_sort"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">bitwuzla::parser::Parser::parse_sort()</span></code></a>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Declarations like <code class="code docutils literal notranslate"><span class="pre">declare-const</span></code> are commands (not terms) in
the SMT-LIB language. Commands must be parsed in via
<a class="reference internal" href="classes/parser.html#_CPPv4N8bitwuzla6parser6Parser5parseERKNSt6stringEbb" title="bitwuzla::parser::Parser::parse"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">bitwuzla::parser::Parser::parse()</span></code></a>.
Function <a class="reference internal" href="classes/parser.html#_CPPv4N8bitwuzla6parser6Parser10parse_termERKNSt6stringE" title="bitwuzla::parser::Parser::parse_term"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">bitwuzla::parser::Parser::parse_term()</span></code></a> and
<a class="reference internal" href="classes/parser.html#_CPPv4N8bitwuzla6parser6Parser10parse_sortERKNSt6stringE" title="bitwuzla::parser::Parser::parse_sort"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">bitwuzla::parser::Parser::parse_sort()</span></code></a> only support
parsing SMT-LIB terms and sorts, respectively.</p>
</div>
<p>For example, to <strong>parse</strong> a bit-vector <strong>sort</strong> of size 16 from string and show
that it corresponds to the bit-vector sort of size 16 created via
<code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">bitwuzla::mk_bv_sort()</span></code>:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="w">    </span><span class="c1">// Declare bit-vector sort of size 16.</span>
<span class="w">    </span><span class="n">Sort</span><span class="w"> </span><span class="n">bv16</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">parser</span><span class="p">.</span><span class="n">parse_sort</span><span class="p">(</span><span class="s">&quot;(_ BitVec 16)&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="c1">// Create bit-vector sort of size 16 and show that it corresponds to</span>
<span class="w">    </span><span class="c1">// its string representation &#39;(_ BitVec16)&#39;.</span>
<span class="w">    </span><span class="n">assert</span><span class="p">(</span><span class="n">bv16</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">tm</span><span class="p">.</span><span class="n">mk_bv_sort</span><span class="p">(</span><span class="mi">16</span><span class="p">));</span>
</pre></div>
</div>
<p>Then, to <strong>declare</strong> Boolean constants <code class="code docutils literal notranslate"><span class="pre">c</span></code> and <code class="code docutils literal notranslate"><span class="pre">d</span></code> and a bit-vector
constant <code class="code docutils literal notranslate"><span class="pre">b</span></code>:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="w">    </span><span class="n">parser</span><span class="p">.</span><span class="n">parse</span><span class="p">(</span><span class="s">&quot;(declare-const c Bool)(declare-const d Bool)&quot;</span><span class="p">,</span><span class="w"> </span><span class="nb">true</span><span class="p">,</span><span class="w"> </span><span class="nb">false</span><span class="p">);</span>
<span class="w">    </span><span class="n">parser</span><span class="p">.</span><span class="n">parse</span><span class="p">(</span><span class="s">&quot;(declare-const b (_ BitVec 16))&quot;</span><span class="p">,</span><span class="w"> </span><span class="nb">true</span><span class="p">,</span><span class="w"> </span><span class="nb">false</span><span class="p">);</span>
</pre></div>
</div>
<p>These terms can be retrieved via
<a class="reference internal" href="classes/parser.html#_CPPv4N8bitwuzla6parser6Parser10parse_termERKNSt6stringE" title="bitwuzla::parser::Parser::parse_term"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">bitwuzla::parser::Parser::parse_term()</span></code></a>:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="w">    </span><span class="c1">// Retrieve term representing &#39;b&#39;.</span>
<span class="w">    </span><span class="n">Term</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">parser</span><span class="p">.</span><span class="n">parse_term</span><span class="p">(</span><span class="s">&quot;b&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="c1">// Retrieve term representing &#39;c&#39;.</span>
<span class="w">    </span><span class="n">Term</span><span class="w"> </span><span class="n">c</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">parser</span><span class="p">.</span><span class="n">parse_term</span><span class="p">(</span><span class="s">&quot;c&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="c1">// Retrieve term representing &#39;d&#39;.</span>
<span class="w">    </span><span class="n">Term</span><span class="w"> </span><span class="n">d</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">parser</span><span class="p">.</span><span class="n">parse_term</span><span class="p">(</span><span class="s">&quot;d&quot;</span><span class="p">);</span>
</pre></div>
</div>
<p>Now, to <strong>parse</strong> in <strong>terms</strong> using these constants via
<a class="reference internal" href="classes/parser.html#_CPPv4N8bitwuzla6parser6Parser10parse_termERKNSt6stringE" title="bitwuzla::parser::Parser::parse_term"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">bitwuzla::parser::Parser::parse_term()</span></code></a>:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="w">    </span><span class="c1">// Create xor over &#39;c&#39; and &#39;d&#39; and show that it corresponds to term</span>
<span class="w">    </span><span class="c1">// parsed in from its string representation &#39;(xor c d)&#39;.</span>
<span class="w">    </span><span class="n">assert</span><span class="p">(</span><span class="n">parser</span><span class="p">.</span><span class="n">parse_term</span><span class="p">(</span><span class="s">&quot;(xor c d)&quot;</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">tm</span><span class="p">.</span><span class="n">mk_term</span><span class="p">(</span><span class="n">Kind</span><span class="o">::</span><span class="n">XOR</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="n">c</span><span class="p">,</span><span class="w"> </span><span class="n">d</span><span class="p">}));</span>
<span class="w">    </span><span class="c1">// Create bit-vector addition over &#39;b&#39; and bit-vector value</span>
<span class="w">    </span><span class="c1">// &#39;1011111010001010&#39; and show that it corresponds to the term parsed in</span>
<span class="w">    </span><span class="c1">// from its string representation &#39;(bvadd b #b1011111010001010)&#39;.</span>
<span class="w">    </span><span class="n">assert</span><span class="p">(</span><span class="n">parser</span><span class="p">.</span><span class="n">parse_term</span><span class="p">(</span><span class="s">&quot;(bvadd b #b1011111010001010)&quot;</span><span class="p">)</span>
<span class="w">           </span><span class="o">==</span><span class="w"> </span><span class="n">tm</span><span class="p">.</span><span class="n">mk_term</span><span class="p">(</span><span class="n">Kind</span><span class="o">::</span><span class="n">BV_ADD</span><span class="p">,</span>
<span class="w">                         </span><span class="p">{</span><span class="n">b</span><span class="p">,</span><span class="w"> </span><span class="n">tm</span><span class="p">.</span><span class="n">mk_bv_value</span><span class="p">(</span><span class="n">bv16</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;1011111010001010&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">)}));</span>
</pre></div>
</div>
<p>After parsing input and asserting formulas, <strong>satisfiability</strong> can be
determined via <a class="reference internal" href="classes/bitwuzla.html#_CPPv4N8bitwuzla8Bitwuzla9check_satERKNSt6vectorI4TermEE" title="bitwuzla::Bitwuzla::check_sat"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">bitwuzla::Bitwuzla::check_sat()</span></code></a>.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="w">  </span><span class="n">Result</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla</span><span class="p">.</span><span class="n">check_sat</span><span class="p">();</span>
</pre></div>
</div>
<p>Formulas can also be <strong>assumed</strong> via passing a vector of assumptions into
<a class="reference internal" href="classes/bitwuzla.html#_CPPv4N8bitwuzla8Bitwuzla9check_satERKNSt6vectorI4TermEE" title="bitwuzla::Bitwuzla::check_sat"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">bitwuzla::Bitwuzla::check_sat()</span></code></a>.</p>
<p>If the formula is satisfiable and <strong>model generation</strong> has been enabled, the
resulting model can be printed via <a class="reference internal" href="classes/bitwuzla.html#_CPPv4N8bitwuzla8Bitwuzla9get_valueERK4Term" title="bitwuzla::Bitwuzla::get_value"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">bitwuzla::Bitwuzla::get_value()</span></code></a>
and <a class="reference internal" href="classes/term.html#_CPPv4NK8bitwuzla4Term3strE7uint8_t" title="bitwuzla::Term::str"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">bitwuzla::Term::str()</span></code></a> (or <a class="reference internal" href="classes/sort.html#_CPPv4N8bitwuzlalsERNSt7ostreamERK4Sort" title="bitwuzla::operator&lt;&lt;"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">bitwuzla::operator&lt;&lt;()</span></code></a>).
An example implementation illustrating how to print
the current model via declared symbols (in this case <code class="code docutils literal notranslate"><span class="pre">x</span></code>, <code class="code docutils literal notranslate"><span class="pre">y</span></code>,
<code class="code docutils literal notranslate"><span class="pre">f</span></code> and <code class="code docutils literal notranslate"><span class="pre">a</span></code>) is below:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Model:&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;(&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="w">  </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="k">auto</span><span class="o">&amp;</span><span class="w"> </span><span class="n">term</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="p">,</span><span class="w"> </span><span class="n">f</span><span class="p">,</span><span class="w"> </span><span class="n">a</span><span class="p">})</span>
<span class="w">  </span><span class="p">{</span>
<span class="w">    </span><span class="n">Sort</span><span class="w"> </span><span class="n">sort</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">term</span><span class="p">.</span><span class="n">sort</span><span class="p">();</span>
<span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;  (define-fun &quot;</span>
<span class="w">              </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="p">(</span><span class="n">term</span><span class="p">.</span><span class="n">symbol</span><span class="p">()</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="o">*</span><span class="n">term</span><span class="p">.</span><span class="n">symbol</span><span class="p">()</span>
<span class="w">                                </span><span class="o">:</span><span class="w"> </span><span class="s">&quot;@t&quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">to_string</span><span class="p">(</span><span class="n">term</span><span class="p">.</span><span class="n">id</span><span class="p">()))</span>
<span class="w">              </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot; (&quot;</span><span class="p">;</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">sort</span><span class="p">.</span><span class="n">is_fun</span><span class="p">())</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">      </span><span class="n">bitwuzla</span><span class="o">::</span><span class="n">Term</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla</span><span class="p">.</span><span class="n">get_value</span><span class="p">(</span><span class="n">term</span><span class="p">);</span>
<span class="w">      </span><span class="n">assert</span><span class="p">(</span><span class="n">value</span><span class="p">.</span><span class="n">kind</span><span class="p">()</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">bitwuzla</span><span class="o">::</span><span class="n">Kind</span><span class="o">::</span><span class="n">LAMBDA</span><span class="p">);</span>
<span class="w">      </span><span class="n">assert</span><span class="p">(</span><span class="n">value</span><span class="p">.</span><span class="n">num_children</span><span class="p">()</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">2</span><span class="p">);</span>
<span class="w">      </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">value</span><span class="p">[</span><span class="mi">1</span><span class="p">].</span><span class="n">kind</span><span class="p">()</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">bitwuzla</span><span class="o">::</span><span class="n">Kind</span><span class="o">::</span><span class="n">LAMBDA</span><span class="p">)</span>
<span class="w">      </span><span class="p">{</span>
<span class="w">        </span><span class="n">assert</span><span class="p">(</span><span class="n">value</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="n">is_variable</span><span class="p">());</span>
<span class="w">        </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;(&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">value</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot; &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">value</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="n">sort</span><span class="p">()</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;) &quot;</span><span class="p">;</span>
<span class="w">        </span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">value</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">      </span><span class="n">assert</span><span class="p">(</span><span class="n">value</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="n">is_variable</span><span class="p">());</span>
<span class="w">      </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;(&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">value</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot; &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">value</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="n">sort</span><span class="p">()</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;)) &quot;</span>
<span class="w">                </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">sort</span><span class="p">.</span><span class="n">fun_codomain</span><span class="p">()</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot; &quot;</span><span class="p">;</span>
<span class="w">      </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">value</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;)&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="k">else</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">      </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;) &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">sort</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot; &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">bitwuzla</span><span class="p">.</span><span class="n">get_value</span><span class="p">(</span><span class="n">term</span><span class="p">)</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;)&quot;</span>
<span class="w">                </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>
<span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;)&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
</pre></div>
</div>
<p>This will output a possible model, in this case:</p>
<div class="highlight-smtlib notranslate"><div class="highlight"><pre><span></span>(
  (<span class="k">define-fun</span> <span class="n">x</span> () (_ <span class="na">BitVec</span> <span class="m">8</span>) <span class="s">#b10011111</span>)
  (<span class="k">define-fun</span> <span class="n">y</span> () (_ <span class="na">BitVec</span> <span class="m">8</span>) <span class="s">#b11111111</span>)
  (<span class="k">define-fun</span> <span class="n">f</span> ((@bzla.var_<span class="m">74</span> (_ <span class="na">BitVec</span> <span class="m">8</span>))  (@bzla.var_<span class="m">75</span> (_ <span class="na">BitVec</span> <span class="m">4</span>))) (_ <span class="na">BitVec</span> <span class="m">8</span>) (<span class="o">ite</span> (<span class="o">and</span> (<span class="o">=</span> @bzla.var_<span class="m">74</span> <span class="s">#b10011111</span>) (<span class="o">=</span> @bzla.var_<span class="m">75</span> <span class="s">#b0011</span>)) <span class="s">#b11111111</span> <span class="s">#b00000000</span>))
  (<span class="k">define-fun</span> <span class="n">a</span> () (<span class="n">Array</span> (_ <span class="na">BitVec</span> <span class="m">8</span>) (_ <span class="na">BitVec</span> <span class="m">8</span>)) (<span class="n">store</span> ((<span class="n">as</span> <span class="n">const</span> (<span class="n">Array</span> (_ <span class="na">BitVec</span> <span class="m">8</span>) (_ <span class="na">BitVec</span> <span class="m">8</span>))) <span class="s">#b00000000</span>) <span class="s">#b10011111</span> <span class="s">#b11111111</span>))
)
</pre></div>
</div>
<p>Alternatively, it is possible to query the value of terms as assignment
string via <a class="reference internal" href="classes/term.html#_CPPv4I0ENK8bitwuzla4Term5valueE1T7uint8_t" title="bitwuzla::Term::value"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">bitwuzla::Term::value()</span></code></a>, or as a term via
<a class="reference internal" href="classes/bitwuzla.html#_CPPv4N8bitwuzla8Bitwuzla9get_valueERK4Term" title="bitwuzla::Bitwuzla::get_value"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">bitwuzla::Bitwuzla::get_value()</span></code></a>.</p>
<p>Additionally, for floating-point values,
<a class="reference internal" href="classes/term.html#_CPPv4I0ENK8bitwuzla4Term5valueE1T7uint8_t" title="bitwuzla::Term::value"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">bitwuzla::Term::value()</span></code></a> allows to retrieve the assignment
split into assignment strings for the sign bit, the exponent and the
significand;
for Boolean values as <code class="code docutils literal notranslate"><span class="pre">bool</span></code>;
and for <code class="code docutils literal notranslate"><span class="pre">RoundingMode</span></code> values as
<a class="reference internal" href="../c/enums/bitwuzlaroundingmode.html#_CPPv420BitwuzlaRoundingMode" title="BitwuzlaRoundingMode"><code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">BitwuzlaRoundingMode</span></code></a>.</p>
<p>In our case, we can query the assignments of <code class="code docutils literal notranslate"><span class="pre">x</span></code> and <code class="code docutils literal notranslate"><span class="pre">y</span></code>, both
bit-vector terms, as binary strings:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="w">  </span><span class="c1">// Both x and y are bit-vector terms and their value is a bit-vector</span>
<span class="w">  </span><span class="c1">// value that can be printed via Term::value().</span>
<span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;value of x: &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">bitwuzla</span><span class="p">.</span><span class="n">get_value</span><span class="p">(</span><span class="n">x</span><span class="p">).</span><span class="n">value</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&gt;</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="w">            </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;value of y: &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">bitwuzla</span><span class="p">.</span><span class="n">get_value</span><span class="p">(</span><span class="n">y</span><span class="p">).</span><span class="n">value</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&gt;</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="w">            </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
</pre></div>
</div>
<p>This will print:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">value</span> <span class="n">of</span> <span class="n">x</span><span class="p">:</span> <span class="mi">10011111</span>
<span class="n">value</span> <span class="n">of</span> <span class="n">y</span><span class="p">:</span> <span class="mi">11111111</span>
</pre></div>
</div>
<p>The value of <code class="code docutils literal notranslate"><span class="pre">f</span></code> (a function term) and <code class="code docutils literal notranslate"><span class="pre">a</span></code> (an array term), on the
other hand, cannot be represented with a simple type. Thus, function values are
given as <a class="reference internal" href="enums/kind.html#_CPPv4N8bitwuzla4Kind6LAMBDAE" title="bitwuzla::Kind::LAMBDA"><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">bitwuzla::Kind::LAMBDA</span></code></a>, and array values are given as
<a class="reference internal" href="enums/kind.html#_CPPv4N8bitwuzla4Kind11ARRAY_STOREE" title="bitwuzla::Kind::ARRAY_STORE"><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">bitwuzla::Kind::ARRAY_STORE</span></code></a>.
We can retrieve an SMT-LIB2 string representation of the values via
<a class="reference internal" href="classes/term.html#_CPPv4NK8bitwuzla4Term3strE7uint8_t" title="bitwuzla::Term::str"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">bitwuzla::Term::str()</span></code></a> (and <a class="reference internal" href="classes/sort.html#_CPPv4N8bitwuzlalsERNSt7ostreamERK4Sort" title="bitwuzla::operator&lt;&lt;"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">bitwuzla::operator&lt;&lt;()</span></code></a>):</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="w">  </span><span class="c1">// f and a, on the other hand, are a function and array term, respectively.</span>
<span class="w">  </span><span class="c1">// The value of these terms is not a value term: for f, it is a lambda term,</span>
<span class="w">  </span><span class="c1">// and the value of a is represented as a store term. Thus we cannot use</span>
<span class="w">  </span><span class="c1">// Term::value(), but we can print the value of the terms via Term::str()</span>
<span class="w">  </span><span class="c1">// or operator&lt;&lt;.</span>
<span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;str() representation of value of f:&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span>
<span class="w">            </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">bitwuzla</span><span class="p">.</span><span class="n">get_value</span><span class="p">(</span><span class="n">f</span><span class="p">)</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span>
<span class="w">            </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;str() representation of value of a:&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span>
<span class="w">            </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">bitwuzla</span><span class="p">.</span><span class="n">get_value</span><span class="p">(</span><span class="n">a</span><span class="p">)</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span>
<span class="w">            </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
</pre></div>
</div>
<p>This will print:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">str</span><span class="p">()</span> <span class="n">representation</span> <span class="n">of</span> <span class="n">value</span> <span class="n">of</span> <span class="n">f</span><span class="p">:</span>
<span class="p">(</span><span class="k">lambda</span> <span class="p">((</span><span class="nd">@bzla</span><span class="o">.</span><span class="n">var_74</span> <span class="p">(</span><span class="n">_</span> <span class="n">BitVec</span> <span class="mi">8</span><span class="p">)))</span> <span class="p">(</span><span class="k">lambda</span> <span class="p">((</span><span class="nd">@bzla</span><span class="o">.</span><span class="n">var_75</span> <span class="p">(</span><span class="n">_</span> <span class="n">BitVec</span> <span class="mi">4</span><span class="p">)))</span> <span class="p">(</span><span class="n">ite</span> <span class="p">(</span><span class="ow">and</span> <span class="p">(</span><span class="o">=</span> <span class="nd">@bzla</span><span class="o">.</span><span class="n">var_74</span> <span class="c1">#b10011111) (= @bzla.var_75 #b0011)) #b11111111 #b00000000)))</span>

<span class="nb">str</span><span class="p">()</span> <span class="n">representation</span> <span class="n">of</span> <span class="n">value</span> <span class="n">of</span> <span class="n">a</span><span class="p">:</span>
<span class="p">(</span><span class="n">store</span> <span class="p">((</span><span class="k">as</span> <span class="n">const</span> <span class="p">(</span><span class="n">Array</span> <span class="p">(</span><span class="n">_</span> <span class="n">BitVec</span> <span class="mi">8</span><span class="p">)</span> <span class="p">(</span><span class="n">_</span> <span class="n">BitVec</span> <span class="mi">8</span><span class="p">)))</span> <span class="c1">#b00000000) #b10011111 #b11111111)</span>
</pre></div>
</div>
<p>Note that the string representation of values representable as simple type
(bit-vectors, boolean, floating-point, rounding mode) are given as pure
value string (in the given number format) via
<a class="reference internal" href="classes/term.html#_CPPv4I0ENK8bitwuzla4Term5valueE1T7uint8_t" title="bitwuzla::Term::value"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">bitwuzla::Term::value()</span></code></a>.
Their string representation retrieved via <a class="reference internal" href="classes/term.html#_CPPv4NK8bitwuzla4Term3strE7uint8_t" title="bitwuzla::Term::str"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">bitwuzla::Term::str()</span></code></a>,
however, is given in SMT-LIB2 format. For example,</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;str() representation of value of x: &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">bitwuzla</span><span class="p">.</span><span class="n">get_value</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="w">            </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;str() representation of value of y: &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">bitwuzla</span><span class="p">.</span><span class="n">get_value</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
<span class="w">            </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
</pre></div>
</div>
<p>This will print:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">str</span><span class="p">()</span> <span class="n">representation</span> <span class="n">of</span> <span class="n">value</span> <span class="n">of</span> <span class="n">x</span><span class="p">:</span> <span class="c1">#b10011111</span>
<span class="nb">str</span><span class="p">()</span> <span class="n">representation</span> <span class="n">of</span> <span class="n">value</span> <span class="n">of</span> <span class="n">y</span><span class="p">:</span> <span class="c1">#b11111111</span>
</pre></div>
</div>
<p>It is also possible to query the model value of expressions that do not
occur in the input formula:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="w">  </span><span class="n">Term</span><span class="w"> </span><span class="n">v</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla</span><span class="p">.</span><span class="n">get_value</span><span class="p">(</span><span class="n">tm</span><span class="p">.</span><span class="n">mk_term</span><span class="p">(</span><span class="n">Kind</span><span class="o">::</span><span class="n">BV_MUL</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">x</span><span class="p">}));</span>
<span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;value of v = x * x: &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">v</span><span class="p">.</span><span class="n">value</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&gt;</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
</pre></div>
</div>
<p>This will print:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">value</span> <span class="n">of</span> <span class="n">v</span> <span class="o">=</span> <span class="n">x</span> <span class="o">*</span> <span class="n">x</span><span class="p">:</span> <span class="mi">11000001</span>
</pre></div>
</div>
</section>
<hr class="docutils" />
<section id="examples">
<h2><a class="toc-backref" href="#id5" role="doc-backlink">Examples</a><a class="headerlink" href="#examples" title="Link to this heading"></a></h2>
<div class="line-block">
<div class="line">All examples can be found in directory <a class="reference external" href="https://github.com/bitwuzla/bitwuzla/tree/main/examples">examples</a>.</div>
<div class="line">For instructions on how to build these examples, see <a class="reference external" href="https://github.com/bitwuzla/bitwuzla/tree/main/examples/README.md">examples/README.md</a>.</div>
</div>
<section id="quickstart-example">
<h3><a class="toc-backref" href="#id6" role="doc-backlink">Quickstart Example</a><a class="headerlink" href="#quickstart-example" title="Link to this heading"></a></h3>
<div class="line-block">
<div class="line">The example used in the <a class="reference internal" href="#quickstart"><span class="std std-ref">Quickstart</span></a> guide.</div>
<div class="line">The SMT-LIB input for this example can be found at <a class="reference external" href="https://github.com/bitwuzla/bitwuzla/tree/main/examples/smt2/quickstart.smt2">examples/smt2/quickstart.smt2</a>.</div>
<div class="line">The source code for this example can be found at <a class="reference external" href="https://github.com/bitwuzla/bitwuzla/tree/main/examples/cpp/quickstart.cpp">examples/cpp/quickstart.cpp</a>.</div>
</div>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-0-0-0" aria-selected="true" class="sphinx-tabs-tab" id="tab-0-0-0" name="0-0" role="tab" tabindex="0">C++</button><button aria-controls="panel-0-0-1" aria-selected="false" class="sphinx-tabs-tab" id="tab-0-0-1" name="0-1" role="tab" tabindex="-1">C</button><button aria-controls="panel-0-0-2" aria-selected="false" class="sphinx-tabs-tab" id="tab-0-0-2" name="0-2" role="tab" tabindex="-1">Python</button><button aria-controls="panel-0-0-3" aria-selected="false" class="sphinx-tabs-tab" id="tab-0-0-3" name="0-3" role="tab" tabindex="-1">SMT-LIBv2</button></div><div aria-labelledby="tab-0-0-0" class="sphinx-tabs-panel" id="panel-0-0-0" name="0-0" role="tabpanel" tabindex="0"><div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="linenos">  1</span><span class="cm">/***</span>
<span class="linenos">  2</span><span class="cm"> * Bitwuzla: Satisfiability Modulo Theories (SMT) solver.</span>
<span class="linenos">  3</span><span class="cm"> *</span>
<span class="linenos">  4</span><span class="cm"> * Copyright (C) 2023 by the authors listed in the AUTHORS file at</span>
<span class="linenos">  5</span><span class="cm"> * https://github.com/bitwuzla/bitwuzla/blob/main/AUTHORS</span>
<span class="linenos">  6</span><span class="cm"> *</span>
<span class="linenos">  7</span><span class="cm"> * This file is part of Bitwuzla under the MIT license. See COPYING for more</span>
<span class="linenos">  8</span><span class="cm"> * information at https://github.com/bitwuzla/bitwuzla/blob/main/COPYING</span>
<span class="linenos">  9</span><span class="cm"> */</span>
<span class="linenos"> 10</span>
<span class="linenos"> 11</span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;assert.h&gt;</span>
<span class="linenos"> 12</span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;bitwuzla/cpp/bitwuzla.h&gt;</span>
<span class="linenos"> 13</span>
<span class="linenos"> 14</span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;iostream&gt;</span>
<span class="linenos"> 15</span>
<span class="linenos"> 16</span><span class="k">using</span><span class="w"> </span><span class="k">namespace</span><span class="w"> </span><span class="nn">bitwuzla</span><span class="p">;</span>
<span class="linenos"> 17</span>
<span class="linenos"> 18</span><span class="kt">int</span>
<span class="linenos"> 19</span><span class="nf">main</span><span class="p">()</span>
<span class="linenos"> 20</span><span class="p">{</span>
<span class="linenos"> 21</span><span class="w">  </span><span class="c1">// First, create a term manager instance.</span>
<span class="linenos"> 22</span><span class="w">  </span><span class="c1">//! [docs-cpp-quickstart-0 start]</span>
<span class="linenos"> 23</span><span class="w">  </span><span class="n">TermManager</span><span class="w"> </span><span class="n">tm</span><span class="p">;</span>
<span class="linenos"> 24</span><span class="w">  </span><span class="c1">//! [docs-cpp-quickstart-0 end]</span>
<span class="linenos"> 25</span><span class="w">  </span><span class="c1">// Create a Bitwuzla options instance.</span>
<span class="linenos"> 26</span><span class="w">  </span><span class="c1">//! [docs-cpp-quickstart-1 start]</span>
<span class="linenos"> 27</span><span class="w">  </span><span class="n">Options</span><span class="w"> </span><span class="n">options</span><span class="p">;</span>
<span class="linenos"> 28</span><span class="w">  </span><span class="c1">//! [docs-cpp-quickstart-1 end]</span>
<span class="linenos"> 29</span><span class="w">  </span><span class="c1">// Then, enable model generation.</span>
<span class="linenos"> 30</span><span class="w">  </span><span class="c1">//! [docs-cpp-quickstart-2 start]</span>
<span class="linenos"> 31</span><span class="w">  </span><span class="n">options</span><span class="p">.</span><span class="n">set</span><span class="p">(</span><span class="n">Option</span><span class="o">::</span><span class="n">PRODUCE_MODELS</span><span class="p">,</span><span class="w"> </span><span class="nb">true</span><span class="p">);</span>
<span class="linenos"> 32</span><span class="w">  </span><span class="c1">//! [docs-cpp-quickstart-2 end]</span>
<span class="linenos"> 33</span><span class="w">  </span><span class="c1">// Now, for illustration purposes, we enable CaDiCaL as SAT solver</span>
<span class="linenos"> 34</span><span class="w">  </span><span class="c1">// (CaDiCaL is already configured by default).</span>
<span class="linenos"> 35</span><span class="w">  </span><span class="c1">// Note: This will silently fall back to one of the compiled in SAT solvers</span>
<span class="linenos"> 36</span><span class="w">  </span><span class="c1">//       if the selected solver is not compiled in.</span>
<span class="linenos"> 37</span><span class="w">  </span><span class="c1">//! [docs-cpp-quickstart-3 start]</span>
<span class="linenos"> 38</span><span class="w">  </span><span class="n">options</span><span class="p">.</span><span class="n">set</span><span class="p">(</span><span class="n">Option</span><span class="o">::</span><span class="n">SAT_SOLVER</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;cadical&quot;</span><span class="p">);</span>
<span class="linenos"> 39</span><span class="w">  </span><span class="c1">//! [docs-cpp-quickstart-3 end]</span>
<span class="linenos"> 40</span><span class="w">  </span><span class="c1">// Then, create a Bitwuzla instance.</span>
<span class="linenos"> 41</span><span class="w">  </span><span class="c1">//! [docs-cpp-quickstart-4 start]</span>
<span class="linenos"> 42</span><span class="w">  </span><span class="n">Bitwuzla</span><span class="w"> </span><span class="n">bitwuzla</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span><span class="w"> </span><span class="n">options</span><span class="p">);</span>
<span class="linenos"> 43</span><span class="w">  </span><span class="c1">//! [docs-cpp-quickstart-4 end]</span>
<span class="linenos"> 44</span>
<span class="linenos"> 45</span><span class="w">  </span><span class="c1">//! [docs-cpp-quickstart-5 start]</span>
<span class="linenos"> 46</span><span class="w">  </span><span class="c1">// Create bit-vector sorts of size 4 and 8.</span>
<span class="linenos"> 47</span><span class="w">  </span><span class="n">Sort</span><span class="w"> </span><span class="n">sortbv4</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">tm</span><span class="p">.</span><span class="n">mk_bv_sort</span><span class="p">(</span><span class="mi">4</span><span class="p">);</span>
<span class="linenos"> 48</span><span class="w">  </span><span class="n">Sort</span><span class="w"> </span><span class="n">sortbv8</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">tm</span><span class="p">.</span><span class="n">mk_bv_sort</span><span class="p">(</span><span class="mi">8</span><span class="p">);</span>
<span class="linenos"> 49</span><span class="w">  </span><span class="c1">// Create function sort.</span>
<span class="linenos"> 50</span><span class="w">  </span><span class="n">Sort</span><span class="w"> </span><span class="n">sortfun</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">tm</span><span class="p">.</span><span class="n">mk_fun_sort</span><span class="p">({</span><span class="n">sortbv8</span><span class="p">,</span><span class="w"> </span><span class="n">sortbv4</span><span class="p">},</span><span class="w"> </span><span class="n">sortbv8</span><span class="p">);</span>
<span class="linenos"> 51</span><span class="w">  </span><span class="c1">// Create array sort.</span>
<span class="linenos"> 52</span><span class="w">  </span><span class="n">Sort</span><span class="w"> </span><span class="n">sortarr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">tm</span><span class="p">.</span><span class="n">mk_array_sort</span><span class="p">(</span><span class="n">sortbv8</span><span class="p">,</span><span class="w"> </span><span class="n">sortbv8</span><span class="p">);</span>
<span class="linenos"> 53</span>
<span class="linenos"> 54</span><span class="w">  </span><span class="c1">// Create two bit-vector constants of that sort.</span>
<span class="linenos"> 55</span><span class="w">  </span><span class="n">Term</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">tm</span><span class="p">.</span><span class="n">mk_const</span><span class="p">(</span><span class="n">sortbv8</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;x&quot;</span><span class="p">);</span>
<span class="linenos"> 56</span><span class="w">  </span><span class="n">Term</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">tm</span><span class="p">.</span><span class="n">mk_const</span><span class="p">(</span><span class="n">sortbv8</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;y&quot;</span><span class="p">);</span>
<span class="linenos"> 57</span><span class="w">  </span><span class="c1">// Create fun const.</span>
<span class="linenos"> 58</span><span class="w">  </span><span class="n">Term</span><span class="w"> </span><span class="n">f</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">tm</span><span class="p">.</span><span class="n">mk_const</span><span class="p">(</span><span class="n">sortfun</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;f&quot;</span><span class="p">);</span>
<span class="linenos"> 59</span><span class="w">  </span><span class="c1">// Create array const.</span>
<span class="linenos"> 60</span><span class="w">  </span><span class="n">Term</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">tm</span><span class="p">.</span><span class="n">mk_const</span><span class="p">(</span><span class="n">sortarr</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;a&quot;</span><span class="p">);</span>
<span class="linenos"> 61</span><span class="w">  </span><span class="c1">// Create bit-vector values one and two of the same sort.</span>
<span class="linenos"> 62</span><span class="w">  </span><span class="n">Term</span><span class="w"> </span><span class="n">one</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">tm</span><span class="p">.</span><span class="n">mk_bv_one</span><span class="p">(</span><span class="n">sortbv8</span><span class="p">);</span>
<span class="linenos"> 63</span><span class="w">  </span><span class="c1">// Alternatively, you can create bit-vector value one with:</span>
<span class="linenos"> 64</span><span class="w">  </span><span class="c1">// Term one = tm.mk_bv_value(sortbv8, &quot;1&quot;, 2);</span>
<span class="linenos"> 65</span><span class="w">  </span><span class="c1">// Term one = tm.mk_bv_value_uint64(sortbv8, 1);</span>
<span class="linenos"> 66</span><span class="w">  </span><span class="n">Term</span><span class="w"> </span><span class="n">two</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">tm</span><span class="p">.</span><span class="n">mk_bv_value_uint64</span><span class="p">(</span><span class="n">sortbv8</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">);</span>
<span class="linenos"> 67</span>
<span class="linenos"> 68</span><span class="w">  </span><span class="c1">// (bvsdiv x (_ bv2 8))</span>
<span class="linenos"> 69</span><span class="w">  </span><span class="n">Term</span><span class="w"> </span><span class="n">sdiv</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">tm</span><span class="p">.</span><span class="n">mk_term</span><span class="p">(</span><span class="n">Kind</span><span class="o">::</span><span class="n">BV_SDIV</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">two</span><span class="p">});</span>
<span class="linenos"> 70</span><span class="w">  </span><span class="c1">// (bvashr y (_ bv1 8))</span>
<span class="linenos"> 71</span><span class="w">  </span><span class="n">Term</span><span class="w"> </span><span class="n">ashr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">tm</span><span class="p">.</span><span class="n">mk_term</span><span class="p">(</span><span class="n">Kind</span><span class="o">::</span><span class="n">BV_ASHR</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="n">y</span><span class="p">,</span><span class="w"> </span><span class="n">one</span><span class="p">});</span>
<span class="linenos"> 72</span><span class="w">  </span><span class="c1">// ((_ extract 3 0) (bvsdiv x (_ bv2 8)))</span>
<span class="linenos"> 73</span><span class="w">  </span><span class="n">Term</span><span class="w"> </span><span class="n">sdive</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">tm</span><span class="p">.</span><span class="n">mk_term</span><span class="p">(</span><span class="n">Kind</span><span class="o">::</span><span class="n">BV_EXTRACT</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="n">sdiv</span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">});</span>
<span class="linenos"> 74</span><span class="w">  </span><span class="c1">// ((_ extract 3 0) (bvashr x (_ bv1 8)))</span>
<span class="linenos"> 75</span><span class="w">  </span><span class="n">Term</span><span class="w"> </span><span class="n">ashre</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">tm</span><span class="p">.</span><span class="n">mk_term</span><span class="p">(</span><span class="n">Kind</span><span class="o">::</span><span class="n">BV_EXTRACT</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="n">ashr</span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">});</span>
<span class="linenos"> 76</span>
<span class="linenos"> 77</span><span class="w">  </span><span class="c1">// (assert</span>
<span class="linenos"> 78</span><span class="w">  </span><span class="c1">//     (distinct</span>
<span class="linenos"> 79</span><span class="w">  </span><span class="c1">//         ((_ extract 3 0) (bvsdiv x (_ bv2 8)))</span>
<span class="linenos"> 80</span><span class="w">  </span><span class="c1">//         ((_ extract 3 0) (bvashr y (_ bv1 8)))))</span>
<span class="linenos"> 81</span><span class="w">  </span><span class="n">bitwuzla</span><span class="p">.</span><span class="n">assert_formula</span><span class="p">(</span><span class="n">tm</span><span class="p">.</span><span class="n">mk_term</span><span class="p">(</span><span class="n">Kind</span><span class="o">::</span><span class="n">DISTINCT</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="n">sdive</span><span class="p">,</span><span class="w"> </span><span class="n">ashre</span><span class="p">}));</span>
<span class="linenos"> 82</span><span class="w">  </span><span class="c1">// (assert (= (f x ((_ extract 6 3) x)) y))</span>
<span class="linenos"> 83</span><span class="w">  </span><span class="n">bitwuzla</span><span class="p">.</span><span class="n">assert_formula</span><span class="p">(</span>
<span class="linenos"> 84</span><span class="w">      </span><span class="n">tm</span><span class="p">.</span><span class="n">mk_term</span><span class="p">(</span><span class="n">Kind</span><span class="o">::</span><span class="n">EQUAL</span><span class="p">,</span>
<span class="linenos"> 85</span><span class="w">                 </span><span class="p">{</span><span class="n">tm</span><span class="p">.</span><span class="n">mk_term</span><span class="p">(</span><span class="n">Kind</span><span class="o">::</span><span class="n">APPLY</span><span class="p">,</span>
<span class="linenos"> 86</span><span class="w">                             </span><span class="p">{</span><span class="n">f</span><span class="p">,</span><span class="w"> </span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">tm</span><span class="p">.</span><span class="n">mk_term</span><span class="p">(</span><span class="n">Kind</span><span class="o">::</span><span class="n">BV_EXTRACT</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="n">x</span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="mi">6</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">})}),</span>
<span class="linenos"> 87</span><span class="w">                  </span><span class="n">y</span><span class="p">}));</span>
<span class="linenos"> 88</span><span class="w">  </span><span class="c1">// (assert (= (select a x) y))</span>
<span class="linenos"> 89</span><span class="w">  </span><span class="n">bitwuzla</span><span class="p">.</span><span class="n">assert_formula</span><span class="p">(</span>
<span class="linenos"> 90</span><span class="w">      </span><span class="n">tm</span><span class="p">.</span><span class="n">mk_term</span><span class="p">(</span><span class="n">Kind</span><span class="o">::</span><span class="n">EQUAL</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="n">tm</span><span class="p">.</span><span class="n">mk_term</span><span class="p">(</span><span class="n">Kind</span><span class="o">::</span><span class="n">ARRAY_SELECT</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">x</span><span class="p">}),</span><span class="w"> </span><span class="n">y</span><span class="p">}));</span>
<span class="linenos"> 91</span><span class="w">  </span><span class="c1">//! [docs-cpp-quickstart-5 end]</span>
<span class="linenos"> 92</span>
<span class="linenos"> 93</span><span class="w">  </span><span class="c1">// (check-sat)</span>
<span class="linenos"> 94</span><span class="w">  </span><span class="c1">//! [docs-cpp-quickstart-6 start]</span>
<span class="linenos"> 95</span><span class="w">  </span><span class="n">Result</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla</span><span class="p">.</span><span class="n">check_sat</span><span class="p">();</span>
<span class="linenos"> 96</span><span class="w">  </span><span class="c1">//! [docs-cpp-quickstart-6 end]</span>
<span class="linenos"> 97</span>
<span class="linenos"> 98</span><span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Expect: sat&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="linenos"> 99</span><span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Bitwuzla: &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="linenos">100</span>
<span class="linenos">101</span><span class="w">  </span><span class="c1">// Print model in SMT-LIBv2 format.</span>
<span class="linenos">102</span><span class="w">  </span><span class="c1">//! [docs-cpp-quickstart-7 start]</span>
<span class="linenos">103</span><span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Model:&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;(&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="linenos">104</span><span class="w">  </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="k">auto</span><span class="o">&amp;</span><span class="w"> </span><span class="n">term</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="p">,</span><span class="w"> </span><span class="n">f</span><span class="p">,</span><span class="w"> </span><span class="n">a</span><span class="p">})</span>
<span class="linenos">105</span><span class="w">  </span><span class="p">{</span>
<span class="linenos">106</span><span class="w">    </span><span class="n">Sort</span><span class="w"> </span><span class="n">sort</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">term</span><span class="p">.</span><span class="n">sort</span><span class="p">();</span>
<span class="linenos">107</span><span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;  (define-fun &quot;</span>
<span class="linenos">108</span><span class="w">              </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="p">(</span><span class="n">term</span><span class="p">.</span><span class="n">symbol</span><span class="p">()</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="o">*</span><span class="n">term</span><span class="p">.</span><span class="n">symbol</span><span class="p">()</span>
<span class="linenos">109</span><span class="w">                                </span><span class="o">:</span><span class="w"> </span><span class="s">&quot;@t&quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">to_string</span><span class="p">(</span><span class="n">term</span><span class="p">.</span><span class="n">id</span><span class="p">()))</span>
<span class="linenos">110</span><span class="w">              </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot; (&quot;</span><span class="p">;</span>
<span class="linenos">111</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">sort</span><span class="p">.</span><span class="n">is_fun</span><span class="p">())</span>
<span class="linenos">112</span><span class="w">    </span><span class="p">{</span>
<span class="linenos">113</span><span class="w">      </span><span class="n">bitwuzla</span><span class="o">::</span><span class="n">Term</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla</span><span class="p">.</span><span class="n">get_value</span><span class="p">(</span><span class="n">term</span><span class="p">);</span>
<span class="linenos">114</span><span class="w">      </span><span class="n">assert</span><span class="p">(</span><span class="n">value</span><span class="p">.</span><span class="n">kind</span><span class="p">()</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">bitwuzla</span><span class="o">::</span><span class="n">Kind</span><span class="o">::</span><span class="n">LAMBDA</span><span class="p">);</span>
<span class="linenos">115</span><span class="w">      </span><span class="n">assert</span><span class="p">(</span><span class="n">value</span><span class="p">.</span><span class="n">num_children</span><span class="p">()</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">2</span><span class="p">);</span>
<span class="linenos">116</span><span class="w">      </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">value</span><span class="p">[</span><span class="mi">1</span><span class="p">].</span><span class="n">kind</span><span class="p">()</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">bitwuzla</span><span class="o">::</span><span class="n">Kind</span><span class="o">::</span><span class="n">LAMBDA</span><span class="p">)</span>
<span class="linenos">117</span><span class="w">      </span><span class="p">{</span>
<span class="linenos">118</span><span class="w">        </span><span class="n">assert</span><span class="p">(</span><span class="n">value</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="n">is_variable</span><span class="p">());</span>
<span class="linenos">119</span><span class="w">        </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;(&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">value</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot; &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">value</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="n">sort</span><span class="p">()</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;) &quot;</span><span class="p">;</span>
<span class="linenos">120</span><span class="w">        </span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">value</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>
<span class="linenos">121</span><span class="w">      </span><span class="p">}</span>
<span class="linenos">122</span><span class="w">      </span><span class="n">assert</span><span class="p">(</span><span class="n">value</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="n">is_variable</span><span class="p">());</span>
<span class="linenos">123</span><span class="w">      </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;(&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">value</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot; &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">value</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="n">sort</span><span class="p">()</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;)) &quot;</span>
<span class="linenos">124</span><span class="w">                </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">sort</span><span class="p">.</span><span class="n">fun_codomain</span><span class="p">()</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot; &quot;</span><span class="p">;</span>
<span class="linenos">125</span><span class="w">      </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">value</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;)&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="linenos">126</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">127</span><span class="w">    </span><span class="k">else</span>
<span class="linenos">128</span><span class="w">    </span><span class="p">{</span>
<span class="linenos">129</span><span class="w">      </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;) &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">sort</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot; &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">bitwuzla</span><span class="p">.</span><span class="n">get_value</span><span class="p">(</span><span class="n">term</span><span class="p">)</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;)&quot;</span>
<span class="linenos">130</span><span class="w">                </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="linenos">131</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">132</span><span class="w">  </span><span class="p">}</span>
<span class="linenos">133</span><span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;)&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="linenos">134</span><span class="w">  </span><span class="c1">//! [docs-cpp-quickstart-7 end]</span>
<span class="linenos">135</span>
<span class="linenos">136</span><span class="w">  </span><span class="c1">// Print value for x, y, f and a.</span>
<span class="linenos">137</span><span class="w">  </span><span class="c1">// Note: The returned string of Term::value() is only valid until the next</span>
<span class="linenos">138</span><span class="w">  </span><span class="c1">//       call to Term::value().</span>
<span class="linenos">139</span><span class="w">  </span><span class="c1">//! [docs-cpp-quickstart-8 start]</span>
<span class="linenos">140</span><span class="w">  </span><span class="c1">// Both x and y are bit-vector terms and their value is a bit-vector</span>
<span class="linenos">141</span><span class="w">  </span><span class="c1">// value that can be printed via Term::value().</span>
<span class="linenos">142</span><span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;value of x: &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">bitwuzla</span><span class="p">.</span><span class="n">get_value</span><span class="p">(</span><span class="n">x</span><span class="p">).</span><span class="n">value</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&gt;</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="linenos">143</span><span class="w">            </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="linenos">144</span><span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;value of y: &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">bitwuzla</span><span class="p">.</span><span class="n">get_value</span><span class="p">(</span><span class="n">y</span><span class="p">).</span><span class="n">value</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&gt;</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="linenos">145</span><span class="w">            </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="linenos">146</span><span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="linenos">147</span><span class="w">  </span><span class="c1">//! [docs-cpp-quickstart-8 end]</span>
<span class="linenos">148</span><span class="w">  </span><span class="c1">//! [docs-cpp-quickstart-9 start]</span>
<span class="linenos">149</span><span class="w">  </span><span class="c1">// f and a, on the other hand, are a function and array term, respectively.</span>
<span class="linenos">150</span><span class="w">  </span><span class="c1">// The value of these terms is not a value term: for f, it is a lambda term,</span>
<span class="linenos">151</span><span class="w">  </span><span class="c1">// and the value of a is represented as a store term. Thus we cannot use</span>
<span class="linenos">152</span><span class="w">  </span><span class="c1">// Term::value(), but we can print the value of the terms via Term::str()</span>
<span class="linenos">153</span><span class="w">  </span><span class="c1">// or operator&lt;&lt;.</span>
<span class="linenos">154</span><span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;str() representation of value of f:&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span>
<span class="linenos">155</span><span class="w">            </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">bitwuzla</span><span class="p">.</span><span class="n">get_value</span><span class="p">(</span><span class="n">f</span><span class="p">)</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span>
<span class="linenos">156</span><span class="w">            </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="linenos">157</span><span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;str() representation of value of a:&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span>
<span class="linenos">158</span><span class="w">            </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">bitwuzla</span><span class="p">.</span><span class="n">get_value</span><span class="p">(</span><span class="n">a</span><span class="p">)</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span>
<span class="linenos">159</span><span class="w">            </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="linenos">160</span><span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="linenos">161</span><span class="w">  </span><span class="c1">//! [docs-cpp-quickstart-9 end]</span>
<span class="linenos">162</span><span class="w">  </span><span class="c1">// Note that the assignment string of bit-vector terms is given as the</span>
<span class="linenos">163</span><span class="w">  </span><span class="c1">// pure assignment string, either in binary, hexadecimal or decimal format,</span>
<span class="linenos">164</span><span class="w">  </span><span class="c1">// whereas Term::str() and operator&lt;&lt; print the value in SMT-LIB2 format</span>
<span class="linenos">165</span><span class="w">  </span><span class="c1">// ((in the configured bit-vector output number format, binary by default).</span>
<span class="linenos">166</span><span class="w">  </span><span class="c1">//! [docs-cpp-quickstart-10 start]</span>
<span class="linenos">167</span><span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;str() representation of value of x: &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">bitwuzla</span><span class="p">.</span><span class="n">get_value</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="linenos">168</span><span class="w">            </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="linenos">169</span><span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;str() representation of value of y: &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">bitwuzla</span><span class="p">.</span><span class="n">get_value</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
<span class="linenos">170</span><span class="w">            </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="linenos">171</span><span class="w">  </span><span class="c1">//! [docs-cpp-quickstart-10 end]</span>
<span class="linenos">172</span><span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="linenos">173</span>
<span class="linenos">174</span><span class="w">  </span><span class="c1">// Query value of bit-vector term that does not occur in the input formula</span>
<span class="linenos">175</span><span class="w">  </span><span class="c1">//! [docs-cpp-quickstart-11 start]</span>
<span class="linenos">176</span><span class="w">  </span><span class="n">Term</span><span class="w"> </span><span class="n">v</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla</span><span class="p">.</span><span class="n">get_value</span><span class="p">(</span><span class="n">tm</span><span class="p">.</span><span class="n">mk_term</span><span class="p">(</span><span class="n">Kind</span><span class="o">::</span><span class="n">BV_MUL</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">x</span><span class="p">}));</span>
<span class="linenos">177</span><span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;value of v = x * x: &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">v</span><span class="p">.</span><span class="n">value</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&gt;</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="linenos">178</span><span class="w">  </span><span class="c1">//! [docs-cpp-quickstart-11 end]</span>
<span class="linenos">179</span>
<span class="linenos">180</span><span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">181</span><span class="p">}</span>
</pre></div>
</div>
</div><div aria-labelledby="tab-0-0-1" class="sphinx-tabs-panel" hidden="true" id="panel-0-0-1" name="0-1" role="tabpanel" tabindex="0"><div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="linenos">  1</span><span class="cm">/***</span>
<span class="linenos">  2</span><span class="cm"> * Bitwuzla: Satisfiability Modulo Theories (SMT) solver.</span>
<span class="linenos">  3</span><span class="cm"> *</span>
<span class="linenos">  4</span><span class="cm"> * Copyright (C) 2021 by the authors listed in the AUTHORS file at</span>
<span class="linenos">  5</span><span class="cm"> * https://github.com/bitwuzla/bitwuzla/blob/main/AUTHORS</span>
<span class="linenos">  6</span><span class="cm"> *</span>
<span class="linenos">  7</span><span class="cm"> * This file is part of Bitwuzla under the MIT license. See COPYING for more</span>
<span class="linenos">  8</span><span class="cm"> * information at https://github.com/bitwuzla/bitwuzla/blob/main/COPYING</span>
<span class="linenos">  9</span><span class="cm"> */</span>
<span class="linenos"> 10</span>
<span class="linenos"> 11</span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;assert.h&gt;</span>
<span class="linenos"> 12</span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;bitwuzla/c/bitwuzla.h&gt;</span>
<span class="linenos"> 13</span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;stdio.h&gt;</span>
<span class="linenos"> 14</span>
<span class="linenos"> 15</span><span class="kt">int</span>
<span class="linenos"> 16</span><span class="nf">main</span><span class="p">()</span>
<span class="linenos"> 17</span><span class="p">{</span>
<span class="linenos"> 18</span><span class="w">  </span><span class="c1">// First, create a term manager instance.</span>
<span class="linenos"> 19</span><span class="w">  </span><span class="c1">//! [docs-c-quickstart-0 start]</span>
<span class="linenos"> 20</span><span class="w">  </span><span class="n">BitwuzlaTermManager</span><span class="w"> </span><span class="o">*</span><span class="n">tm</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_term_manager_new</span><span class="p">();</span>
<span class="linenos"> 21</span><span class="w">  </span><span class="c1">//! [docs-c-quickstart-0 end]</span>
<span class="linenos"> 22</span><span class="w">  </span><span class="c1">// Create a Bitwuzla options instance.</span>
<span class="linenos"> 23</span><span class="w">  </span><span class="c1">//! [docs-c-quickstart-1 start]</span>
<span class="linenos"> 24</span><span class="w">  </span><span class="n">BitwuzlaOptions</span><span class="w"> </span><span class="o">*</span><span class="n">options</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_options_new</span><span class="p">();</span>
<span class="linenos"> 25</span><span class="w">  </span><span class="c1">//! [docs-c-quickstart-1 end]</span>
<span class="linenos"> 26</span><span class="w">  </span><span class="c1">// Then, enable model generation.</span>
<span class="linenos"> 27</span><span class="w">  </span><span class="c1">//! [docs-c-quickstart-2 start]</span>
<span class="linenos"> 28</span><span class="w">  </span><span class="n">bitwuzla_set_option</span><span class="p">(</span><span class="n">options</span><span class="p">,</span><span class="w"> </span><span class="n">BITWUZLA_OPT_PRODUCE_MODELS</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span>
<span class="linenos"> 29</span><span class="w">  </span><span class="c1">//! [docs-c-quickstart-2 end]</span>
<span class="linenos"> 30</span><span class="w">  </span><span class="c1">// Now, for illustration purposes, we enable CaDiCaL as SAT solver</span>
<span class="linenos"> 31</span><span class="w">  </span><span class="c1">// (CaDiCaL is already configured by default).</span>
<span class="linenos"> 32</span><span class="w">  </span><span class="c1">// Note: This will silently fall back to one of the compiled in SAT solvers</span>
<span class="linenos"> 33</span><span class="w">  </span><span class="c1">//       if the selected solver is not compiled in.</span>
<span class="linenos"> 34</span><span class="w">  </span><span class="c1">//! [docs-c-quickstart-3 start]</span>
<span class="linenos"> 35</span><span class="w">  </span><span class="n">bitwuzla_set_option_mode</span><span class="p">(</span><span class="n">options</span><span class="p">,</span><span class="w"> </span><span class="n">BITWUZLA_OPT_SAT_SOLVER</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;cadical&quot;</span><span class="p">);</span>
<span class="linenos"> 36</span><span class="w">  </span><span class="c1">//! [docs-c-quickstart-3 end]</span>
<span class="linenos"> 37</span><span class="w">  </span><span class="c1">// Then, create a Bitwuzla instance.</span>
<span class="linenos"> 38</span><span class="w">  </span><span class="c1">//! [docs-c-quickstart-4 start]</span>
<span class="linenos"> 39</span><span class="w">  </span><span class="n">Bitwuzla</span><span class="w"> </span><span class="o">*</span><span class="n">bitwuzla</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_new</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span><span class="w"> </span><span class="n">options</span><span class="p">);</span>
<span class="linenos"> 40</span><span class="w">  </span><span class="c1">//! [docs-c-quickstart-4 end]</span>
<span class="linenos"> 41</span>
<span class="linenos"> 42</span><span class="w">  </span><span class="c1">//! [docs-c-quickstart-5 start]</span>
<span class="linenos"> 43</span><span class="w">  </span><span class="c1">// Create bit-vector sorts of size 4 and 8.</span>
<span class="linenos"> 44</span><span class="w">  </span><span class="n">BitwuzlaSort</span><span class="w"> </span><span class="n">sortbv4</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_bv_sort</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">);</span>
<span class="linenos"> 45</span><span class="w">  </span><span class="n">BitwuzlaSort</span><span class="w"> </span><span class="n">sortbv8</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_bv_sort</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span><span class="w"> </span><span class="mi">8</span><span class="p">);</span>
<span class="linenos"> 46</span><span class="w">  </span><span class="c1">// Create function sort.</span>
<span class="linenos"> 47</span><span class="w">  </span><span class="n">BitwuzlaSort</span><span class="w"> </span><span class="n">domain</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="n">sortbv8</span><span class="p">,</span><span class="w"> </span><span class="n">sortbv4</span><span class="p">};</span>
<span class="linenos"> 48</span><span class="w">  </span><span class="n">BitwuzlaSort</span><span class="w"> </span><span class="n">sortfun</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_fun_sort</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="n">domain</span><span class="p">,</span><span class="w"> </span><span class="n">sortbv8</span><span class="p">);</span>
<span class="linenos"> 49</span><span class="w">  </span><span class="c1">// Create array sort.</span>
<span class="linenos"> 50</span><span class="w">  </span><span class="n">BitwuzlaSort</span><span class="w"> </span><span class="n">sortarr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_array_sort</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span><span class="w"> </span><span class="n">sortbv8</span><span class="p">,</span><span class="w"> </span><span class="n">sortbv8</span><span class="p">);</span>
<span class="linenos"> 51</span>
<span class="linenos"> 52</span><span class="w">  </span><span class="c1">// Create two bit-vector constants of that sort.</span>
<span class="linenos"> 53</span><span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_const</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span><span class="w"> </span><span class="n">sortbv8</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;x&quot;</span><span class="p">);</span>
<span class="linenos"> 54</span><span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_const</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span><span class="w"> </span><span class="n">sortbv8</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;y&quot;</span><span class="p">);</span>
<span class="linenos"> 55</span><span class="w">  </span><span class="c1">// Create fun const.</span>
<span class="linenos"> 56</span><span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">f</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_const</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span><span class="w"> </span><span class="n">sortfun</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;f&quot;</span><span class="p">);</span>
<span class="linenos"> 57</span><span class="w">  </span><span class="c1">// Create array const.</span>
<span class="linenos"> 58</span><span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_const</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span><span class="w"> </span><span class="n">sortarr</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;a&quot;</span><span class="p">);</span>
<span class="linenos"> 59</span><span class="w">  </span><span class="c1">// Create bit-vector values one and two of the same sort.</span>
<span class="linenos"> 60</span><span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">one</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_bv_one</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span><span class="w"> </span><span class="n">sortbv8</span><span class="p">);</span>
<span class="linenos"> 61</span><span class="w">  </span><span class="c1">// Alternatively, you can create bit-vector value one with:</span>
<span class="linenos"> 62</span><span class="w">  </span><span class="c1">// BitwuzlaTerm one = bitwuzla_mk_bv_value(tm, sortbv8, &quot;1&quot;, 2);</span>
<span class="linenos"> 63</span><span class="w">  </span><span class="c1">// BitwuzlaTerm one = bitwuzla_mk_bv_value_uint64(tm, sortbv8, 1);</span>
<span class="linenos"> 64</span><span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">two</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_bv_value_uint64</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span><span class="w"> </span><span class="n">sortbv8</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">);</span>
<span class="linenos"> 65</span>
<span class="linenos"> 66</span><span class="w">  </span><span class="c1">// (bvsdiv x (_ bv2 8))</span>
<span class="linenos"> 67</span><span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">sdiv</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_term2</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span><span class="w"> </span><span class="n">BITWUZLA_KIND_BV_SDIV</span><span class="p">,</span><span class="w"> </span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">two</span><span class="p">);</span>
<span class="linenos"> 68</span><span class="w">  </span><span class="c1">// (bvashr y (_ bv1 8))</span>
<span class="linenos"> 69</span><span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">ashr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_term2</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span><span class="w"> </span><span class="n">BITWUZLA_KIND_BV_ASHR</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="p">,</span><span class="w"> </span><span class="n">one</span><span class="p">);</span>
<span class="linenos"> 70</span><span class="w">  </span><span class="c1">// ((_ extract 3 0) (bvsdiv x (_ bv2 8)))</span>
<span class="linenos"> 71</span><span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">sdive</span><span class="w"> </span><span class="o">=</span>
<span class="linenos"> 72</span><span class="w">      </span><span class="n">bitwuzla_mk_term1_indexed2</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span><span class="w"> </span><span class="n">BITWUZLA_KIND_BV_EXTRACT</span><span class="p">,</span><span class="w"> </span><span class="n">sdiv</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span>
<span class="linenos"> 73</span><span class="w">  </span><span class="c1">// ((_ extract 3 0) (bvashr x (_ bv1 8)))</span>
<span class="linenos"> 74</span><span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">ashre</span><span class="w"> </span><span class="o">=</span>
<span class="linenos"> 75</span><span class="w">      </span><span class="n">bitwuzla_mk_term1_indexed2</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span><span class="w"> </span><span class="n">BITWUZLA_KIND_BV_EXTRACT</span><span class="p">,</span><span class="w"> </span><span class="n">ashr</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span>
<span class="linenos"> 76</span>
<span class="linenos"> 77</span><span class="w">  </span><span class="c1">// (assert</span>
<span class="linenos"> 78</span><span class="w">  </span><span class="c1">//     (distinct</span>
<span class="linenos"> 79</span><span class="w">  </span><span class="c1">//         ((_ extract 3 0) (bvsdiv x (_ bv2 8)))</span>
<span class="linenos"> 80</span><span class="w">  </span><span class="c1">//         ((_ extract 3 0) (bvashr y (_ bv1 8)))))</span>
<span class="linenos"> 81</span><span class="w">  </span><span class="n">bitwuzla_assert</span><span class="p">(</span><span class="n">bitwuzla</span><span class="p">,</span>
<span class="linenos"> 82</span><span class="w">                  </span><span class="n">bitwuzla_mk_term2</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span><span class="w"> </span><span class="n">BITWUZLA_KIND_DISTINCT</span><span class="p">,</span><span class="w"> </span><span class="n">sdive</span><span class="p">,</span><span class="w"> </span><span class="n">ashre</span><span class="p">));</span>
<span class="linenos"> 83</span><span class="w">  </span><span class="c1">// (assert (= (f x ((_ extract 6 3) x)) y))</span>
<span class="linenos"> 84</span><span class="w">  </span><span class="n">bitwuzla_assert</span><span class="p">(</span>
<span class="linenos"> 85</span><span class="w">      </span><span class="n">bitwuzla</span><span class="p">,</span>
<span class="linenos"> 86</span><span class="w">      </span><span class="n">bitwuzla_mk_term2</span><span class="p">(</span>
<span class="linenos"> 87</span><span class="w">          </span><span class="n">tm</span><span class="p">,</span>
<span class="linenos"> 88</span><span class="w">          </span><span class="n">BITWUZLA_KIND_EQUAL</span><span class="p">,</span>
<span class="linenos"> 89</span><span class="w">          </span><span class="n">bitwuzla_mk_term3</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span>
<span class="linenos"> 90</span><span class="w">                            </span><span class="n">BITWUZLA_KIND_APPLY</span><span class="p">,</span>
<span class="linenos"> 91</span><span class="w">                            </span><span class="n">f</span><span class="p">,</span>
<span class="linenos"> 92</span><span class="w">                            </span><span class="n">x</span><span class="p">,</span>
<span class="linenos"> 93</span><span class="w">                            </span><span class="n">bitwuzla_mk_term1_indexed2</span><span class="p">(</span>
<span class="linenos"> 94</span><span class="w">                                </span><span class="n">tm</span><span class="p">,</span><span class="w"> </span><span class="n">BITWUZLA_KIND_BV_EXTRACT</span><span class="p">,</span><span class="w"> </span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">)),</span>
<span class="linenos"> 95</span><span class="w">          </span><span class="n">y</span><span class="p">));</span>
<span class="linenos"> 96</span><span class="w">  </span><span class="c1">// (assert (= (select a x) y))</span>
<span class="linenos"> 97</span><span class="w">  </span><span class="n">bitwuzla_assert</span><span class="p">(</span>
<span class="linenos"> 98</span><span class="w">      </span><span class="n">bitwuzla</span><span class="p">,</span>
<span class="linenos"> 99</span><span class="w">      </span><span class="n">bitwuzla_mk_term2</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span>
<span class="linenos">100</span><span class="w">                        </span><span class="n">BITWUZLA_KIND_EQUAL</span><span class="p">,</span>
<span class="linenos">101</span><span class="w">                        </span><span class="n">bitwuzla_mk_term2</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span><span class="w"> </span><span class="n">BITWUZLA_KIND_ARRAY_SELECT</span><span class="p">,</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">x</span><span class="p">),</span>
<span class="linenos">102</span><span class="w">                        </span><span class="n">y</span><span class="p">));</span>
<span class="linenos">103</span><span class="w">  </span><span class="c1">//! [docs-c-quickstart-5 end]</span>
<span class="linenos">104</span>
<span class="linenos">105</span><span class="w">  </span><span class="c1">// (check-sat)</span>
<span class="linenos">106</span><span class="w">  </span><span class="c1">//! [docs-c-quickstart-6 start]</span>
<span class="linenos">107</span><span class="w">  </span><span class="n">BitwuzlaResult</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_check_sat</span><span class="p">(</span><span class="n">bitwuzla</span><span class="p">);</span>
<span class="linenos">108</span><span class="w">  </span><span class="c1">//! [docs-c-quickstart-6 end]</span>
<span class="linenos">109</span>
<span class="linenos">110</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Expect: sat</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="linenos">111</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Bitwuzla: %s</span><span class="se">\n\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">bitwuzla_result_to_string</span><span class="p">(</span><span class="n">result</span><span class="p">));</span>
<span class="linenos">112</span>
<span class="linenos">113</span><span class="w">  </span><span class="c1">// Print model in SMT-LIBv2 format.</span>
<span class="linenos">114</span><span class="w">  </span><span class="c1">//! [docs-c-quickstart-7 start]</span>
<span class="linenos">115</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Model:</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="linenos">116</span><span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">decls</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="p">,</span><span class="w"> </span><span class="n">f</span><span class="p">,</span><span class="w"> </span><span class="n">a</span><span class="p">};</span>
<span class="linenos">117</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;(</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="linenos">118</span><span class="w">  </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">4</span><span class="p">;</span><span class="w"> </span><span class="o">++</span><span class="n">i</span><span class="p">)</span>
<span class="linenos">119</span><span class="w">  </span><span class="p">{</span>
<span class="linenos">120</span><span class="w">    </span><span class="n">BitwuzlaSort</span><span class="w"> </span><span class="n">sort</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_term_get_sort</span><span class="p">(</span><span class="n">decls</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span>
<span class="linenos">121</span><span class="w">    </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;  (define-fun %s (&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">bitwuzla_term_get_symbol</span><span class="p">(</span><span class="n">decls</span><span class="p">[</span><span class="n">i</span><span class="p">]));</span>
<span class="linenos">122</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">bitwuzla_sort_is_fun</span><span class="p">(</span><span class="n">sort</span><span class="p">))</span>
<span class="linenos">123</span><span class="w">    </span><span class="p">{</span>
<span class="linenos">124</span><span class="w">      </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_get_value</span><span class="p">(</span><span class="n">bitwuzla</span><span class="p">,</span><span class="w"> </span><span class="n">decls</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span>
<span class="linenos">125</span><span class="w">      </span><span class="kt">size_t</span><span class="w"> </span><span class="n">size</span><span class="p">;</span>
<span class="linenos">126</span><span class="w">      </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="o">*</span><span class="n">children</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_term_get_children</span><span class="p">(</span><span class="n">value</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">size</span><span class="p">);</span>
<span class="linenos">127</span><span class="w">      </span><span class="n">assert</span><span class="p">(</span><span class="n">size</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">2</span><span class="p">);</span>
<span class="linenos">128</span><span class="w">      </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">bitwuzla_term_get_kind</span><span class="p">(</span><span class="n">children</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">BITWUZLA_KIND_LAMBDA</span><span class="p">)</span>
<span class="linenos">129</span><span class="w">      </span><span class="p">{</span>
<span class="linenos">130</span><span class="w">        </span><span class="n">assert</span><span class="p">(</span><span class="n">bitwuzla_term_is_var</span><span class="p">(</span><span class="n">children</span><span class="p">[</span><span class="mi">0</span><span class="p">]));</span>
<span class="linenos">131</span><span class="w">        </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;(%s %s) &quot;</span><span class="p">,</span>
<span class="linenos">132</span><span class="w">               </span><span class="n">bitwuzla_term_to_string</span><span class="p">(</span><span class="n">children</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span>
<span class="linenos">133</span><span class="w">               </span><span class="n">bitwuzla_sort_to_string</span><span class="p">(</span><span class="n">bitwuzla_term_get_sort</span><span class="p">(</span><span class="n">children</span><span class="p">[</span><span class="mi">0</span><span class="p">])));</span>
<span class="linenos">134</span><span class="w">        </span><span class="n">value</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="n">children</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>
<span class="linenos">135</span><span class="w">        </span><span class="n">children</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_term_get_children</span><span class="p">(</span><span class="n">value</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">size</span><span class="p">);</span>
<span class="linenos">136</span><span class="w">      </span><span class="p">}</span>
<span class="linenos">137</span><span class="w">      </span><span class="n">assert</span><span class="p">(</span><span class="n">bitwuzla_term_is_var</span><span class="p">(</span><span class="n">children</span><span class="p">[</span><span class="mi">0</span><span class="p">]));</span>
<span class="linenos">138</span><span class="w">      </span><span class="c1">// Note: The returned string of bitwuzla_term_to_string and</span>
<span class="linenos">139</span><span class="w">      </span><span class="c1">//       bitwuzla_sort_to_string does not have to be freed, but is only</span>
<span class="linenos">140</span><span class="w">      </span><span class="c1">//       valid until the next call to the respective function. Thus we</span>
<span class="linenos">141</span><span class="w">      </span><span class="c1">//       split printing into separate printf calls so that none of these</span>
<span class="linenos">142</span><span class="w">      </span><span class="c1">//       functions is called more than once in one printf call.</span>
<span class="linenos">143</span><span class="w">      </span><span class="c1">//       Alternatively, we could also first get and copy the strings, use</span>
<span class="linenos">144</span><span class="w">      </span><span class="c1">//       a single printf call, and then free the copied strings.</span>
<span class="linenos">145</span><span class="w">      </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;(%s %s))&quot;</span><span class="p">,</span>
<span class="linenos">146</span><span class="w">             </span><span class="n">bitwuzla_term_to_string</span><span class="p">(</span><span class="n">children</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span>
<span class="linenos">147</span><span class="w">             </span><span class="n">bitwuzla_sort_to_string</span><span class="p">(</span><span class="n">bitwuzla_term_get_sort</span><span class="p">(</span><span class="n">children</span><span class="p">[</span><span class="mi">0</span><span class="p">])));</span>
<span class="linenos">148</span><span class="w">      </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot; %s&quot;</span><span class="p">,</span>
<span class="linenos">149</span><span class="w">             </span><span class="n">bitwuzla_sort_to_string</span><span class="p">(</span><span class="n">bitwuzla_sort_fun_get_codomain</span><span class="p">(</span><span class="n">sort</span><span class="p">)));</span>
<span class="linenos">150</span><span class="w">      </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot; %s)</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">bitwuzla_term_to_string</span><span class="p">(</span><span class="n">children</span><span class="p">[</span><span class="mi">1</span><span class="p">]));</span>
<span class="linenos">151</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">152</span><span class="w">    </span><span class="k">else</span>
<span class="linenos">153</span><span class="w">    </span><span class="p">{</span>
<span class="linenos">154</span><span class="w">      </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;) %s %s)</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span>
<span class="linenos">155</span><span class="w">             </span><span class="n">bitwuzla_sort_to_string</span><span class="p">(</span><span class="n">sort</span><span class="p">),</span>
<span class="linenos">156</span><span class="w">             </span><span class="n">bitwuzla_term_to_string</span><span class="p">(</span><span class="n">bitwuzla_get_value</span><span class="p">(</span><span class="n">bitwuzla</span><span class="p">,</span><span class="w"> </span><span class="n">decls</span><span class="p">[</span><span class="n">i</span><span class="p">])));</span>
<span class="linenos">157</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">158</span><span class="w">  </span><span class="p">}</span>
<span class="linenos">159</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;)</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="linenos">160</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="linenos">161</span><span class="w">  </span><span class="c1">//! [docs-c-quickstart-7 end]</span>
<span class="linenos">162</span>
<span class="linenos">163</span><span class="w">  </span><span class="c1">// Print value for x, y, f and a.</span>
<span class="linenos">164</span><span class="w">  </span><span class="c1">// Note: The returned string of bitwuzla_term_value_get_str is only valid</span>
<span class="linenos">165</span><span class="w">  </span><span class="c1">//       until the next call to bitwuzla_term_value_get_str</span>
<span class="linenos">166</span><span class="w">  </span><span class="c1">//! [docs-c-quickstart-8 start]</span>
<span class="linenos">167</span><span class="w">  </span><span class="c1">// Both x and y are bit-vector terms and their value is a bit-vector</span>
<span class="linenos">168</span><span class="w">  </span><span class="c1">// value that can be printed via bitwuzla_term_value_get_str().</span>
<span class="linenos">169</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;value of x: %s</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span>
<span class="linenos">170</span><span class="w">         </span><span class="n">bitwuzla_term_value_get_str</span><span class="p">(</span><span class="n">bitwuzla_get_value</span><span class="p">(</span><span class="n">bitwuzla</span><span class="p">,</span><span class="w"> </span><span class="n">x</span><span class="p">)));</span>
<span class="linenos">171</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;value of y: %s</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span>
<span class="linenos">172</span><span class="w">         </span><span class="n">bitwuzla_term_value_get_str</span><span class="p">(</span><span class="n">bitwuzla_get_value</span><span class="p">(</span><span class="n">bitwuzla</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="p">)));</span>
<span class="linenos">173</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="linenos">174</span><span class="w">  </span><span class="c1">//! [docs-c-quickstart-8 end]</span>
<span class="linenos">175</span><span class="w">  </span><span class="c1">//! [docs-c-quickstart-9 start]</span>
<span class="linenos">176</span><span class="w">  </span><span class="c1">// f and a, on the other hand, are a function and array term, respectively.</span>
<span class="linenos">177</span><span class="w">  </span><span class="c1">// The value of these terms is not a value term: for f, it is a lambda term,</span>
<span class="linenos">178</span><span class="w">  </span><span class="c1">// and the value of a is represented as a store term. Thus we cannot use</span>
<span class="linenos">179</span><span class="w">  </span><span class="c1">// bitwuzla_term_value_get_str(), but we can print the value of the terms</span>
<span class="linenos">180</span><span class="w">  </span><span class="c1">// via bitwuzla_term_to_string().</span>
<span class="linenos">181</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;to_string representation of value of f:</span><span class="se">\n</span><span class="s">%s</span><span class="se">\n\n</span><span class="s">&quot;</span><span class="p">,</span>
<span class="linenos">182</span><span class="w">         </span><span class="n">bitwuzla_term_to_string</span><span class="p">(</span><span class="n">bitwuzla_get_value</span><span class="p">(</span><span class="n">bitwuzla</span><span class="p">,</span><span class="w"> </span><span class="n">f</span><span class="p">)));</span>
<span class="linenos">183</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;to_string representation of value of a:</span><span class="se">\n</span><span class="s">%s</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span>
<span class="linenos">184</span><span class="w">         </span><span class="n">bitwuzla_term_to_string</span><span class="p">(</span><span class="n">bitwuzla_get_value</span><span class="p">(</span><span class="n">bitwuzla</span><span class="p">,</span><span class="w"> </span><span class="n">a</span><span class="p">)));</span>
<span class="linenos">185</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="linenos">186</span><span class="w">  </span><span class="c1">//! [docs-c-quickstart-9 end]</span>
<span class="linenos">187</span><span class="w">  </span><span class="c1">// Note that the assignment string of bit-vector terms is given as the</span>
<span class="linenos">188</span><span class="w">  </span><span class="c1">// pure assignment string, either in binary, hexadecimal or decimal format,</span>
<span class="linenos">189</span><span class="w">  </span><span class="c1">// whereas bitwuzla_term_to_string() prints the value in SMT-LIB2 format</span>
<span class="linenos">190</span><span class="w">  </span><span class="c1">// (in binary number format).</span>
<span class="linenos">191</span><span class="w">  </span><span class="c1">//! [docs-c-quickstart-10 start]</span>
<span class="linenos">192</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;to_string representation of value of x: %s</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span>
<span class="linenos">193</span><span class="w">         </span><span class="n">bitwuzla_term_to_string</span><span class="p">(</span><span class="n">bitwuzla_get_value</span><span class="p">(</span><span class="n">bitwuzla</span><span class="p">,</span><span class="w"> </span><span class="n">x</span><span class="p">)));</span>
<span class="linenos">194</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;to_string representation of value of y: %s</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span>
<span class="linenos">195</span><span class="w">         </span><span class="n">bitwuzla_term_to_string</span><span class="p">(</span><span class="n">bitwuzla_get_value</span><span class="p">(</span><span class="n">bitwuzla</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="p">)));</span>
<span class="linenos">196</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="linenos">197</span><span class="w">  </span><span class="c1">//! [docs-c-quickstart-10 end]</span>
<span class="linenos">198</span>
<span class="linenos">199</span><span class="w">  </span><span class="c1">// Query value of bit-vector term that does not occur in the input formula</span>
<span class="linenos">200</span><span class="w">  </span><span class="c1">//! [docs-c-quickstart-11 start]</span>
<span class="linenos">201</span><span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">v</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_get_value</span><span class="p">(</span>
<span class="linenos">202</span><span class="w">      </span><span class="n">bitwuzla</span><span class="p">,</span><span class="w"> </span><span class="n">bitwuzla_mk_term2</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span><span class="w"> </span><span class="n">BITWUZLA_KIND_BV_MUL</span><span class="p">,</span><span class="w"> </span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">x</span><span class="p">));</span>
<span class="linenos">203</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;value of v = x * x: %s</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span>
<span class="linenos">204</span><span class="w">         </span><span class="n">bitwuzla_term_value_get_str</span><span class="p">(</span><span class="n">bitwuzla_get_value</span><span class="p">(</span><span class="n">bitwuzla</span><span class="p">,</span><span class="w"> </span><span class="n">v</span><span class="p">)));</span>
<span class="linenos">205</span><span class="w">  </span><span class="c1">//! [docs-c-quickstart-11 end]</span>
<span class="linenos">206</span>
<span class="linenos">207</span><span class="w">  </span><span class="c1">// Finally, delete the Bitwuzla solver, options, and term manager instances.</span>
<span class="linenos">208</span><span class="w">  </span><span class="c1">//! [docs-c-quickstart-12 start]</span>
<span class="linenos">209</span><span class="w">  </span><span class="n">bitwuzla_delete</span><span class="p">(</span><span class="n">bitwuzla</span><span class="p">);</span>
<span class="linenos">210</span><span class="w">  </span><span class="n">bitwuzla_options_delete</span><span class="p">(</span><span class="n">options</span><span class="p">);</span>
<span class="linenos">211</span><span class="w">  </span><span class="n">bitwuzla_term_manager_delete</span><span class="p">(</span><span class="n">tm</span><span class="p">);</span>
<span class="linenos">212</span><span class="w">  </span><span class="c1">//! [docs-c-quickstart-12 end]</span>
<span class="linenos">213</span>
<span class="linenos">214</span><span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">215</span><span class="p">}</span>
</pre></div>
</div>
</div><div aria-labelledby="tab-0-0-2" class="sphinx-tabs-panel" hidden="true" id="panel-0-0-2" name="0-2" role="tabpanel" tabindex="0"><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos">  1</span><span class="c1">#</span>
<span class="linenos">  2</span><span class="c1"># Bitwuzla: Satisfiability Modulo Theories (SMT) solver.</span>
<span class="linenos">  3</span><span class="c1">#</span>
<span class="linenos">  4</span><span class="c1"># Copyright (C) 2023 by the authors listed in the AUTHORS file at</span>
<span class="linenos">  5</span><span class="c1"># https:#github.com/bitwuzla/bitwuzla/blob/main/AUTHORS</span>
<span class="linenos">  6</span><span class="c1">#</span>
<span class="linenos">  7</span><span class="c1"># This file is part of Bitwuzla under the MIT license. See COPYING for more</span>
<span class="linenos">  8</span><span class="c1"># information at https:#github.com/bitwuzla/bitwuzla/blob/main/COPYING</span>
<span class="linenos">  9</span><span class="c1">##</span>
<span class="linenos"> 10</span>
<span class="linenos"> 11</span><span class="kn">from</span><span class="w"> </span><span class="nn">bitwuzla</span><span class="w"> </span><span class="kn">import</span> <span class="o">*</span>
<span class="linenos"> 12</span>
<span class="linenos"> 13</span><span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
<span class="linenos"> 14</span>
<span class="linenos"> 15</span>    <span class="c1"># First, create a term manager instance.</span>
<span class="linenos"> 16</span>    <span class="n">tm</span> <span class="o">=</span> <span class="n">TermManager</span><span class="p">()</span>
<span class="linenos"> 17</span>    <span class="c1"># Create a Bitwuzla options instance.</span>
<span class="linenos"> 18</span>    <span class="n">options</span> <span class="o">=</span> <span class="n">Options</span><span class="p">()</span>
<span class="linenos"> 19</span>    <span class="c1"># Then, enable model generation.</span>
<span class="linenos"> 20</span>    <span class="n">options</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">Option</span><span class="o">.</span><span class="n">PRODUCE_MODELS</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
<span class="linenos"> 21</span>    <span class="c1"># Now, for illustration purposes, we enable CaDiCaL as SAT solver</span>
<span class="linenos"> 22</span>    <span class="c1"># (CaDiCaL is already configured by default).</span>
<span class="linenos"> 23</span>    <span class="c1"># Note: This will silently fall back to one of the compiled in SAT solvers</span>
<span class="linenos"> 24</span>    <span class="c1">#       if the selected solver is not compiled in.</span>
<span class="linenos"> 25</span>    <span class="n">options</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">Option</span><span class="o">.</span><span class="n">SAT_SOLVER</span><span class="p">,</span> <span class="s1">&#39;cadical&#39;</span><span class="p">)</span>
<span class="linenos"> 26</span>    <span class="c1"># Then, create a Bitwuzla instance.</span>
<span class="linenos"> 27</span>    <span class="n">bitwuzla</span> <span class="o">=</span> <span class="n">Bitwuzla</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span> <span class="n">options</span><span class="p">)</span>
<span class="linenos"> 28</span>
<span class="linenos"> 29</span>    <span class="c1"># Create bit-vector sorts of size 4 and 8.</span>
<span class="linenos"> 30</span>    <span class="n">sortbv4</span> <span class="o">=</span> <span class="n">tm</span><span class="o">.</span><span class="n">mk_bv_sort</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="linenos"> 31</span>    <span class="n">sortbv8</span> <span class="o">=</span> <span class="n">tm</span><span class="o">.</span><span class="n">mk_bv_sort</span><span class="p">(</span><span class="mi">8</span><span class="p">)</span>
<span class="linenos"> 32</span>    <span class="c1"># Create function sort.</span>
<span class="linenos"> 33</span>    <span class="n">sortfun</span> <span class="o">=</span> <span class="n">tm</span><span class="o">.</span><span class="n">mk_fun_sort</span><span class="p">([</span><span class="n">sortbv8</span><span class="p">,</span> <span class="n">sortbv4</span><span class="p">],</span> <span class="n">sortbv8</span><span class="p">)</span>
<span class="linenos"> 34</span>    <span class="c1"># Create array sort.</span>
<span class="linenos"> 35</span>    <span class="n">sortarr</span> <span class="o">=</span> <span class="n">tm</span><span class="o">.</span><span class="n">mk_array_sort</span><span class="p">(</span><span class="n">sortbv8</span><span class="p">,</span> <span class="n">sortbv8</span><span class="p">)</span>
<span class="linenos"> 36</span>
<span class="linenos"> 37</span>    <span class="c1"># Create two bit-vector constants of that sort.</span>
<span class="linenos"> 38</span>    <span class="n">x</span> <span class="o">=</span> <span class="n">tm</span><span class="o">.</span><span class="n">mk_const</span><span class="p">(</span><span class="n">sortbv8</span><span class="p">,</span> <span class="s2">&quot;x&quot;</span><span class="p">)</span>
<span class="linenos"> 39</span>    <span class="n">y</span> <span class="o">=</span> <span class="n">tm</span><span class="o">.</span><span class="n">mk_const</span><span class="p">(</span><span class="n">sortbv8</span><span class="p">,</span> <span class="s2">&quot;y&quot;</span><span class="p">)</span>
<span class="linenos"> 40</span>    <span class="c1"># Create fun const.</span>
<span class="linenos"> 41</span>    <span class="n">f</span> <span class="o">=</span> <span class="n">tm</span><span class="o">.</span><span class="n">mk_const</span><span class="p">(</span><span class="n">sortfun</span><span class="p">,</span> <span class="s2">&quot;f&quot;</span><span class="p">)</span>
<span class="linenos"> 42</span>    <span class="c1"># Create array const.</span>
<span class="linenos"> 43</span>    <span class="n">a</span> <span class="o">=</span> <span class="n">tm</span><span class="o">.</span><span class="n">mk_const</span><span class="p">(</span><span class="n">sortarr</span><span class="p">,</span> <span class="s2">&quot;a&quot;</span><span class="p">)</span>
<span class="linenos"> 44</span>    <span class="c1"># Create bit-vector values one and two of the same sort.</span>
<span class="linenos"> 45</span>    <span class="n">one</span> <span class="o">=</span> <span class="n">tm</span><span class="o">.</span><span class="n">mk_bv_one</span><span class="p">(</span><span class="n">sortbv8</span><span class="p">)</span>
<span class="linenos"> 46</span>    <span class="c1"># Alternatively, you can create bit-vector value one with:</span>
<span class="linenos"> 47</span>    <span class="c1"># one = tm.mk_bv_value(sortbv8, &quot;1&quot;, 2)</span>
<span class="linenos"> 48</span>    <span class="c1"># one = tm.mk_bv_value(sortbv8, 1)</span>
<span class="linenos"> 49</span>    <span class="n">two</span> <span class="o">=</span> <span class="n">tm</span><span class="o">.</span><span class="n">mk_bv_value</span><span class="p">(</span><span class="n">sortbv8</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="linenos"> 50</span>
<span class="linenos"> 51</span>    <span class="c1"># (bvsdiv x (_ bv2 8))</span>
<span class="linenos"> 52</span>    <span class="n">sdiv</span> <span class="o">=</span> <span class="n">tm</span><span class="o">.</span><span class="n">mk_term</span><span class="p">(</span><span class="n">Kind</span><span class="o">.</span><span class="n">BV_SDIV</span><span class="p">,</span> <span class="p">[</span><span class="n">x</span><span class="p">,</span> <span class="n">two</span><span class="p">])</span>
<span class="linenos"> 53</span>    <span class="c1"># (bvashr y (_ bv1 8))</span>
<span class="linenos"> 54</span>    <span class="n">ashr</span> <span class="o">=</span> <span class="n">tm</span><span class="o">.</span><span class="n">mk_term</span><span class="p">(</span><span class="n">Kind</span><span class="o">.</span><span class="n">BV_ASHR</span><span class="p">,</span> <span class="p">[</span><span class="n">y</span><span class="p">,</span> <span class="n">one</span><span class="p">])</span>
<span class="linenos"> 55</span>    <span class="c1"># ((_ extract 3 0) (bvsdiv x (_ bv2 8)))</span>
<span class="linenos"> 56</span>    <span class="n">sdive</span> <span class="o">=</span> <span class="n">tm</span><span class="o">.</span><span class="n">mk_term</span><span class="p">(</span><span class="n">Kind</span><span class="o">.</span><span class="n">BV_EXTRACT</span><span class="p">,</span> <span class="p">[</span><span class="n">sdiv</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">])</span>
<span class="linenos"> 57</span>    <span class="c1"># ((_ extract 3 0) (bvashr x (_ bv1 8)))</span>
<span class="linenos"> 58</span>    <span class="n">ashre</span> <span class="o">=</span> <span class="n">tm</span><span class="o">.</span><span class="n">mk_term</span><span class="p">(</span><span class="n">Kind</span><span class="o">.</span><span class="n">BV_EXTRACT</span><span class="p">,</span> <span class="p">[</span><span class="n">ashr</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">])</span>
<span class="linenos"> 59</span>
<span class="linenos"> 60</span>    <span class="c1"># (assert</span>
<span class="linenos"> 61</span>    <span class="c1">#     (distinct</span>
<span class="linenos"> 62</span>    <span class="c1">#         ((_ extract 3 0) (bvsdiv x (_ bv2 8)))</span>
<span class="linenos"> 63</span>    <span class="c1">#         ((_ extract 3 0) (bvashr y (_ bv1 8)))))</span>
<span class="linenos"> 64</span>    <span class="n">bitwuzla</span><span class="o">.</span><span class="n">assert_formula</span><span class="p">(</span><span class="n">tm</span><span class="o">.</span><span class="n">mk_term</span><span class="p">(</span><span class="n">Kind</span><span class="o">.</span><span class="n">DISTINCT</span><span class="p">,</span> <span class="p">[</span><span class="n">sdive</span><span class="p">,</span> <span class="n">ashre</span><span class="p">]))</span>
<span class="linenos"> 65</span>    <span class="c1"># (assert (= (f x ((_ extract 6 3) x)) y))</span>
<span class="linenos"> 66</span>    <span class="n">bitwuzla</span><span class="o">.</span><span class="n">assert_formula</span><span class="p">(</span><span class="n">tm</span><span class="o">.</span><span class="n">mk_term</span><span class="p">(</span>
<span class="linenos"> 67</span>        <span class="n">Kind</span><span class="o">.</span><span class="n">EQUAL</span><span class="p">,</span>
<span class="linenos"> 68</span>        <span class="p">[</span><span class="n">tm</span><span class="o">.</span><span class="n">mk_term</span><span class="p">(</span><span class="n">Kind</span><span class="o">.</span><span class="n">APPLY</span><span class="p">,</span> <span class="p">[</span><span class="n">f</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">tm</span><span class="o">.</span><span class="n">mk_term</span><span class="p">(</span><span class="n">Kind</span><span class="o">.</span><span class="n">BV_EXTRACT</span><span class="p">,</span> <span class="p">[</span><span class="n">x</span><span class="p">],</span> <span class="p">[</span><span class="mi">6</span><span class="p">,</span> <span class="mi">3</span><span class="p">])]),</span>
<span class="linenos"> 69</span>         <span class="n">y</span><span class="p">]))</span>
<span class="linenos"> 70</span>    <span class="c1"># (assert (= (select a x) y))</span>
<span class="linenos"> 71</span>    <span class="n">bitwuzla</span><span class="o">.</span><span class="n">assert_formula</span><span class="p">(</span>
<span class="linenos"> 72</span>        <span class="n">tm</span><span class="o">.</span><span class="n">mk_term</span><span class="p">(</span><span class="n">Kind</span><span class="o">.</span><span class="n">EQUAL</span><span class="p">,</span> <span class="p">[</span><span class="n">tm</span><span class="o">.</span><span class="n">mk_term</span><span class="p">(</span><span class="n">Kind</span><span class="o">.</span><span class="n">ARRAY_SELECT</span><span class="p">,</span> <span class="p">[</span><span class="n">a</span><span class="p">,</span> <span class="n">x</span><span class="p">]),</span> <span class="n">y</span><span class="p">]))</span>
<span class="linenos"> 73</span>
<span class="linenos"> 74</span>    <span class="c1"># (check-sat)</span>
<span class="linenos"> 75</span>    <span class="n">result</span> <span class="o">=</span> <span class="n">bitwuzla</span><span class="o">.</span><span class="n">check_sat</span><span class="p">()</span>
<span class="linenos"> 76</span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Expect: sat&#39;</span><span class="p">)</span>
<span class="linenos"> 77</span>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Bitwuzla: </span><span class="si">{</span><span class="n">result</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="linenos"> 78</span>
<span class="linenos"> 79</span>    <span class="c1"># Print model in SMT-LIBv2 format.</span>
<span class="linenos"> 80</span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Model:</span><span class="se">\n</span><span class="s1">(&#39;</span><span class="p">)</span>
<span class="linenos"> 81</span>    <span class="k">for</span> <span class="n">term</span> <span class="ow">in</span> <span class="p">[</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">f</span><span class="p">,</span> <span class="n">a</span><span class="p">]:</span>
<span class="linenos"> 82</span>        <span class="n">sort</span> <span class="o">=</span> <span class="n">term</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span>
<span class="linenos"> 83</span>        <span class="n">symbol</span> <span class="o">=</span> <span class="n">term</span><span class="o">.</span><span class="n">symbol</span><span class="p">()</span>
<span class="linenos"> 84</span>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;  (define-fun </span><span class="si">{</span><span class="n">symbol</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">symbol</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="s2">&quot;@t&quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">term</span><span class="o">.</span><span class="n">id</span><span class="p">()</span><span class="si">}</span><span class="s1"> (&#39;</span><span class="p">,</span>
<span class="linenos"> 85</span>              <span class="n">end</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
<span class="linenos"> 86</span>        <span class="k">if</span> <span class="n">sort</span><span class="o">.</span><span class="n">is_fun</span><span class="p">():</span>
<span class="linenos"> 87</span>            <span class="n">value</span> <span class="o">=</span> <span class="n">bitwuzla</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="n">term</span><span class="p">)</span>
<span class="linenos"> 88</span>            <span class="k">assert</span> <span class="n">value</span><span class="o">.</span><span class="n">kind</span><span class="p">()</span> <span class="o">==</span> <span class="n">Kind</span><span class="o">.</span><span class="n">LAMBDA</span>
<span class="linenos"> 89</span>            <span class="k">assert</span> <span class="n">value</span><span class="o">.</span><span class="n">num_children</span><span class="p">()</span> <span class="o">==</span> <span class="mi">2</span>
<span class="linenos"> 90</span>            <span class="k">while</span> <span class="n">value</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">kind</span><span class="p">()</span> <span class="o">==</span> <span class="n">Kind</span><span class="o">.</span><span class="n">LAMBDA</span><span class="p">:</span>
<span class="linenos"> 91</span>                <span class="k">assert</span> <span class="n">value</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">is_variable</span><span class="p">()</span>
<span class="linenos"> 92</span>                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;(</span><span class="si">{</span><span class="n">value</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">}</span><span class="s1"> </span><span class="si">{</span><span class="n">value</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span><span class="si">}</span><span class="s1">) &#39;</span><span class="p">,</span>
<span class="linenos"> 93</span>                      <span class="n">end</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
<span class="linenos"> 94</span>                <span class="n">value</span> <span class="o">=</span> <span class="n">value</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="linenos"> 95</span>            <span class="k">assert</span> <span class="n">value</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">is_variable</span><span class="p">()</span>
<span class="linenos"> 96</span>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;(</span><span class="si">{</span><span class="n">value</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">}</span><span class="s1"> </span><span class="si">{</span><span class="n">value</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span><span class="si">}</span><span class="s1">)) &#39;</span> \
<span class="linenos"> 97</span>                  <span class="o">+</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">sort</span><span class="o">.</span><span class="n">fun_codomain</span><span class="p">()</span><span class="si">}</span><span class="s1"> </span><span class="si">{</span><span class="n">value</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="si">}</span><span class="s1">)&#39;</span><span class="p">)</span>
<span class="linenos"> 98</span>        <span class="k">else</span><span class="p">:</span>
<span class="linenos"> 99</span>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;) </span><span class="si">{</span><span class="n">sort</span><span class="si">}</span><span class="s1"> </span><span class="si">{</span><span class="n">bitwuzla</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="n">term</span><span class="p">)</span><span class="si">}</span><span class="s1">)&#39;</span><span class="p">)</span>
<span class="linenos">100</span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;)&#39;</span><span class="p">)</span>
<span class="linenos">101</span>    <span class="nb">print</span><span class="p">()</span>
<span class="linenos">102</span>
<span class="linenos">103</span>    <span class="c1"># Print value for x, y, f and a.</span>
<span class="linenos">104</span>    <span class="c1"># Both x and y are bit-vector terms and their value is a bit-vector</span>
<span class="linenos">105</span>    <span class="c1"># value that can be printed via Term.value().</span>
<span class="linenos">106</span>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;value of x: </span><span class="si">{</span><span class="n">bitwuzla</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">.</span><span class="n">value</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="linenos">107</span>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;value of y: </span><span class="si">{</span><span class="n">bitwuzla</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="n">y</span><span class="p">)</span><span class="o">.</span><span class="n">value</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="linenos">108</span>    <span class="nb">print</span><span class="p">()</span>
<span class="linenos">109</span>    <span class="c1"># f and a, on the other hand, are a function and array term, respectively.</span>
<span class="linenos">110</span>    <span class="c1"># The value of these terms is not a value term: for f, it is a lambda term,</span>
<span class="linenos">111</span>    <span class="c1"># and the value of a is represented as a store term. Thus we cannot use</span>
<span class="linenos">112</span>    <span class="c1"># Term.value(), but we can print the value of the terms via Term.str().</span>
<span class="linenos">113</span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;str() representation of value of f:&#39;</span><span class="p">)</span>
<span class="linenos">114</span>    <span class="nb">print</span><span class="p">(</span><span class="n">bitwuzla</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="n">f</span><span class="p">))</span>
<span class="linenos">115</span>    <span class="nb">print</span><span class="p">()</span>
<span class="linenos">116</span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;str() representation of value of a:&#39;</span><span class="p">)</span>
<span class="linenos">117</span>    <span class="nb">print</span><span class="p">(</span><span class="n">bitwuzla</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="n">a</span><span class="p">))</span>
<span class="linenos">118</span>    <span class="nb">print</span><span class="p">()</span>
<span class="linenos">119</span>    <span class="c1"># Note that the assignment string of bit-vector terms is given as the</span>
<span class="linenos">120</span>    <span class="c1"># pure assignment string, either in binary, hexadecimal or decimal format,</span>
<span class="linenos">121</span>    <span class="c1"># whereas Term.str() prints the value in SMT-LIB2 format (in the given</span>
<span class="linenos">122</span>    <span class="c1"># bit-vector output number format, binary by default).</span>
<span class="linenos">123</span>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;str() representation of value of x: </span><span class="si">{</span><span class="n">bitwuzla</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="linenos">124</span>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;str() representation of value of y: </span><span class="si">{</span><span class="n">bitwuzla</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="n">y</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="linenos">125</span>    <span class="nb">print</span><span class="p">()</span>
<span class="linenos">126</span>
<span class="linenos">127</span>    <span class="c1"># Query value of bit-vector term that does not occur in the input formula</span>
<span class="linenos">128</span>    <span class="n">v</span> <span class="o">=</span> <span class="n">bitwuzla</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="n">tm</span><span class="o">.</span><span class="n">mk_term</span><span class="p">(</span><span class="n">Kind</span><span class="o">.</span><span class="n">BV_MUL</span><span class="p">,</span> <span class="p">[</span><span class="n">x</span><span class="p">,</span> <span class="n">x</span><span class="p">]))</span>
<span class="linenos">129</span>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;value of v = x * x: </span><span class="si">{</span><span class="n">v</span><span class="o">.</span><span class="n">value</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div><div aria-labelledby="tab-0-0-3" class="sphinx-tabs-panel" hidden="true" id="panel-0-0-3" name="0-3" role="tabpanel" tabindex="0"><div class="highlight-smtlib notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span>(<span class="k">set-logic</span> QF_ABV)
<span class="linenos"> 2</span>(<span class="k">set-option</span> <span class="na">:produce-models</span> <span class="s">true</span>)
<span class="linenos"> 3</span>(<span class="k">declare-const</span> <span class="n">x</span> (_ <span class="na">BitVec</span> <span class="m">8</span>))
<span class="linenos"> 4</span>(<span class="k">declare-const</span> <span class="n">y</span> (_ <span class="na">BitVec</span> <span class="m">8</span>))
<span class="linenos"> 5</span>(<span class="k">declare-fun</span> <span class="n">f</span> ((_ <span class="na">BitVec</span> <span class="m">8</span>) (_ <span class="na">BitVec</span> <span class="m">4</span>)) (_ <span class="na">BitVec</span> <span class="m">8</span>))
<span class="linenos"> 6</span>(<span class="k">declare-const</span> <span class="n">a</span> (<span class="n">Array</span> (_ <span class="na">BitVec</span> <span class="m">8</span>) (_ <span class="na">BitVec</span> <span class="m">8</span>)))
<span class="linenos"> 7</span>(<span class="k">assert</span>
<span class="linenos"> 8</span>    (<span class="o">distinct</span>
<span class="linenos"> 9</span>        ((_ <span class="o">extract</span> <span class="m">3</span> <span class="m">0</span>) (<span class="o">bvsdiv</span> <span class="n">x</span> (_ <span class="s">bv2</span> <span class="m">8</span>)))
<span class="linenos">10</span>        ((_ <span class="o">extract</span> <span class="m">3</span> <span class="m">0</span>) (<span class="o">bvashr</span> <span class="n">y</span> (_ <span class="s">bv1</span> <span class="m">8</span>)))))
<span class="linenos">11</span>(<span class="k">assert</span> (<span class="o">=</span> (<span class="n">f</span> <span class="n">x</span> ((_ <span class="o">extract</span> <span class="m">6</span> <span class="m">3</span>) <span class="n">x</span>)) <span class="n">y</span>))
<span class="linenos">12</span>(<span class="k">assert</span> (<span class="o">=</span> (<span class="n">select</span> <span class="n">a</span> <span class="n">x</span>) <span class="n">y</span>))
<span class="linenos">13</span>(<span class="k">check-sat</span>)
<span class="linenos">14</span>(<span class="k">get-model</span>)
<span class="linenos">15</span>(<span class="k">get-value</span> (<span class="n">x</span> <span class="n">y</span> <span class="n">f</span> <span class="n">a</span> (<span class="o">bvmul</span> <span class="n">x</span> <span class="n">x</span>)))
<span class="linenos">16</span>(<span class="k">exit</span>)
</pre></div>
</div>
</div></div>
</section>
<section id="options-example">
<h3><a class="toc-backref" href="#id7" role="doc-backlink">Options Example</a><a class="headerlink" href="#options-example" title="Link to this heading"></a></h3>
<div class="line-block">
<div class="line">An example for how to set and get options.</div>
<div class="line">The SMT-LIB input for this example can be found at <a class="reference external" href="https://github.com/bitwuzla/bitwuzla/tree/main/examples/smt2/options.smt2">examples/smt2/options.smt2</a>.</div>
<div class="line">The source code for this example can be found at <a class="reference external" href="https://github.com/bitwuzla/bitwuzla/tree/main/examples/cpp/options.cpp">examples/cpp/options.cpp</a>.</div>
</div>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-1-1-0" aria-selected="true" class="sphinx-tabs-tab" id="tab-1-1-0" name="1-0" role="tab" tabindex="0">C++</button><button aria-controls="panel-1-1-1" aria-selected="false" class="sphinx-tabs-tab" id="tab-1-1-1" name="1-1" role="tab" tabindex="-1">C</button><button aria-controls="panel-1-1-2" aria-selected="false" class="sphinx-tabs-tab" id="tab-1-1-2" name="1-2" role="tab" tabindex="-1">Python</button><button aria-controls="panel-1-1-3" aria-selected="false" class="sphinx-tabs-tab" id="tab-1-1-3" name="1-3" role="tab" tabindex="-1">SMT-LIBv2</button></div><div aria-labelledby="tab-1-1-0" class="sphinx-tabs-panel" id="panel-1-1-0" name="1-0" role="tabpanel" tabindex="0"><div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="cm">/***</span>
<span class="linenos"> 2</span><span class="cm"> * Bitwuzla: Satisfiability Modulo Theories (SMT) solver.</span>
<span class="linenos"> 3</span><span class="cm"> *</span>
<span class="linenos"> 4</span><span class="cm"> * Copyright (C) 2023 by the authors listed in the AUTHORS file at</span>
<span class="linenos"> 5</span><span class="cm"> * https://github.com/bitwuzla/bitwuzla/blob/main/AUTHORS</span>
<span class="linenos"> 6</span><span class="cm"> *</span>
<span class="linenos"> 7</span><span class="cm"> * This file is part of Bitwuzla under the MIT license. See COPYING for more</span>
<span class="linenos"> 8</span><span class="cm"> * information at https://github.com/bitwuzla/bitwuzla/blob/main/COPYING</span>
<span class="linenos"> 9</span><span class="cm"> */</span>
<span class="linenos">10</span>
<span class="linenos">11</span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;bitwuzla/cpp/bitwuzla.h&gt;</span>
<span class="linenos">12</span>
<span class="linenos">13</span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;iostream&gt;</span>
<span class="linenos">14</span>
<span class="linenos">15</span><span class="k">using</span><span class="w"> </span><span class="k">namespace</span><span class="w"> </span><span class="nn">bitwuzla</span><span class="p">;</span>
<span class="linenos">16</span>
<span class="linenos">17</span><span class="kt">int</span>
<span class="linenos">18</span><span class="nf">main</span><span class="p">()</span>
<span class="linenos">19</span><span class="p">{</span>
<span class="linenos">20</span><span class="w">  </span><span class="c1">// First, create a Bitwuzla options instance.</span>
<span class="linenos">21</span><span class="w">  </span><span class="n">Options</span><span class="w"> </span><span class="n">options</span><span class="p">;</span>
<span class="linenos">22</span>
<span class="linenos">23</span><span class="w">  </span><span class="c1">// Enable model generation, which expects a boolean configuration value.</span>
<span class="linenos">24</span><span class="w">  </span><span class="n">options</span><span class="p">.</span><span class="n">set</span><span class="p">(</span><span class="n">Option</span><span class="o">::</span><span class="n">PRODUCE_MODELS</span><span class="p">,</span><span class="w"> </span><span class="nb">true</span><span class="p">);</span>
<span class="linenos">25</span>
<span class="linenos">26</span><span class="w">  </span><span class="c1">// Increase the verbosity level, which expects an integer value.</span>
<span class="linenos">27</span><span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Previous verbosity level: &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">options</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="n">Option</span><span class="o">::</span><span class="n">VERBOSITY</span><span class="p">)</span>
<span class="linenos">28</span><span class="w">            </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="linenos">29</span><span class="w">  </span><span class="n">options</span><span class="p">.</span><span class="n">set</span><span class="p">(</span><span class="n">Option</span><span class="o">::</span><span class="n">VERBOSITY</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">);</span>
<span class="linenos">30</span><span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Current verbosity level: &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">options</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="n">Option</span><span class="o">::</span><span class="n">VERBOSITY</span><span class="p">)</span>
<span class="linenos">31</span><span class="w">            </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="linenos">32</span>
<span class="linenos">33</span><span class="w">  </span><span class="c1">// Now configure an option that has modes (a choice of configuration values).</span>
<span class="linenos">34</span><span class="w">  </span><span class="c1">// First, query which bit-vector solver engine is set.</span>
<span class="linenos">35</span><span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Default bv solver: &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">options</span><span class="p">.</span><span class="n">get_mode</span><span class="p">(</span><span class="n">Option</span><span class="o">::</span><span class="n">BV_SOLVER</span><span class="p">)</span>
<span class="linenos">36</span><span class="w">            </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="linenos">37</span><span class="w">  </span><span class="c1">// Then, select the propagation-based local search engine as solver engine.</span>
<span class="linenos">38</span><span class="w">  </span><span class="n">options</span><span class="p">.</span><span class="n">set</span><span class="p">(</span><span class="n">Option</span><span class="o">::</span><span class="n">BV_SOLVER</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;prop&quot;</span><span class="p">);</span>
<span class="linenos">39</span><span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Current engine: &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">options</span><span class="p">.</span><span class="n">get_mode</span><span class="p">(</span><span class="n">Option</span><span class="o">::</span><span class="n">BV_SOLVER</span><span class="p">)</span>
<span class="linenos">40</span><span class="w">            </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="linenos">41</span>
<span class="linenos">42</span><span class="w">  </span><span class="c1">// Now, create a Bitwuzla instance with a new term manager.</span>
<span class="linenos">43</span><span class="w">  </span><span class="n">TermManager</span><span class="w"> </span><span class="n">tm</span><span class="p">;</span>
<span class="linenos">44</span><span class="w">  </span><span class="n">Bitwuzla</span><span class="w"> </span><span class="n">bitwuzla</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span><span class="w"> </span><span class="n">options</span><span class="p">);</span>
<span class="linenos">45</span><span class="w">  </span><span class="c1">// Check sat (nothing to solve, input formula is empty).</span>
<span class="linenos">46</span><span class="w">  </span><span class="n">Result</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla</span><span class="p">.</span><span class="n">check_sat</span><span class="p">();</span>
<span class="linenos">47</span><span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Expect: sat&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="linenos">48</span><span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Bitwuzla: &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="linenos">49</span>
<span class="linenos">50</span><span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">51</span><span class="p">}</span>
</pre></div>
</div>
</div><div aria-labelledby="tab-1-1-1" class="sphinx-tabs-panel" hidden="true" id="panel-1-1-1" name="1-1" role="tabpanel" tabindex="0"><div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="cm">/***</span>
<span class="linenos"> 2</span><span class="cm"> * Bitwuzla: Satisfiability Modulo Theories (SMT) solver.</span>
<span class="linenos"> 3</span><span class="cm"> *</span>
<span class="linenos"> 4</span><span class="cm"> * Copyright (C) 2021 by the authors listed in the AUTHORS file at</span>
<span class="linenos"> 5</span><span class="cm"> * https://github.com/bitwuzla/bitwuzla/blob/main/AUTHORS</span>
<span class="linenos"> 6</span><span class="cm"> *</span>
<span class="linenos"> 7</span><span class="cm"> * This file is part of Bitwuzla under the MIT license. See COPYING for more</span>
<span class="linenos"> 8</span><span class="cm"> * information at https://github.com/bitwuzla/bitwuzla/blob/main/COPYING</span>
<span class="linenos"> 9</span><span class="cm"> */</span>
<span class="linenos">10</span>
<span class="linenos">11</span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;bitwuzla/c/bitwuzla.h&gt;</span>
<span class="linenos">12</span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;inttypes.h&gt;</span>
<span class="linenos">13</span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;stdio.h&gt;</span>
<span class="linenos">14</span>
<span class="linenos">15</span><span class="kt">int</span>
<span class="linenos">16</span><span class="nf">main</span><span class="p">()</span>
<span class="linenos">17</span><span class="p">{</span>
<span class="linenos">18</span><span class="w">  </span><span class="c1">// First, create a term manager instance.</span>
<span class="linenos">19</span><span class="w">  </span><span class="n">BitwuzlaTermManager</span><span class="o">*</span><span class="w"> </span><span class="n">tm</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_term_manager_new</span><span class="p">();</span>
<span class="linenos">20</span><span class="w">  </span><span class="c1">// Create a Bitwuzla options instance.</span>
<span class="linenos">21</span><span class="w">  </span><span class="n">BitwuzlaOptions</span><span class="o">*</span><span class="w"> </span><span class="n">options</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_options_new</span><span class="p">();</span>
<span class="linenos">22</span>
<span class="linenos">23</span><span class="w">  </span><span class="c1">// Enable model generation, which expects a boolean configuration value.</span>
<span class="linenos">24</span><span class="w">  </span><span class="n">bitwuzla_set_option</span><span class="p">(</span><span class="n">options</span><span class="p">,</span><span class="w"> </span><span class="n">BITWUZLA_OPT_PRODUCE_MODELS</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span>
<span class="linenos">25</span>
<span class="linenos">26</span><span class="w">  </span><span class="c1">// Increase the verbosity level, which expects an integer value.</span>
<span class="linenos">27</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Previous verbosity level: %&quot;</span><span class="w"> </span><span class="n">PRIu64</span><span class="w"> </span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span>
<span class="linenos">28</span><span class="w">         </span><span class="n">bitwuzla_get_option</span><span class="p">(</span><span class="n">options</span><span class="p">,</span><span class="w"> </span><span class="n">BITWUZLA_OPT_VERBOSITY</span><span class="p">));</span>
<span class="linenos">29</span><span class="w">  </span><span class="n">bitwuzla_set_option</span><span class="p">(</span><span class="n">options</span><span class="p">,</span><span class="w"> </span><span class="n">BITWUZLA_OPT_VERBOSITY</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">);</span>
<span class="linenos">30</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Current verbosity level: %&quot;</span><span class="w"> </span><span class="n">PRIu64</span><span class="w"> </span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span>
<span class="linenos">31</span><span class="w">         </span><span class="n">bitwuzla_get_option</span><span class="p">(</span><span class="n">options</span><span class="p">,</span><span class="w"> </span><span class="n">BITWUZLA_OPT_VERBOSITY</span><span class="p">));</span>
<span class="linenos">32</span>
<span class="linenos">33</span><span class="w">  </span><span class="c1">// Now configure an option that has modes (a choice of configuration values).</span>
<span class="linenos">34</span><span class="w">  </span><span class="c1">// First, query which bit-vector solver engine is set.</span>
<span class="linenos">35</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Default bv solver: %s</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span>
<span class="linenos">36</span><span class="w">         </span><span class="n">bitwuzla_get_option_mode</span><span class="p">(</span><span class="n">options</span><span class="p">,</span><span class="w"> </span><span class="n">BITWUZLA_OPT_BV_SOLVER</span><span class="p">));</span>
<span class="linenos">37</span><span class="w">  </span><span class="c1">// Then, select the propagation-based local search engine as solver engine.</span>
<span class="linenos">38</span><span class="w">  </span><span class="n">bitwuzla_set_option_mode</span><span class="p">(</span><span class="n">options</span><span class="p">,</span><span class="w"> </span><span class="n">BITWUZLA_OPT_BV_SOLVER</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;prop&quot;</span><span class="p">);</span>
<span class="linenos">39</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Current engine: %s</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span>
<span class="linenos">40</span><span class="w">         </span><span class="n">bitwuzla_get_option_mode</span><span class="p">(</span><span class="n">options</span><span class="p">,</span><span class="w"> </span><span class="n">BITWUZLA_OPT_BV_SOLVER</span><span class="p">));</span>
<span class="linenos">41</span>
<span class="linenos">42</span><span class="w">  </span><span class="c1">// Now, create a Bitwuzla instance.</span>
<span class="linenos">43</span><span class="w">  </span><span class="n">Bitwuzla</span><span class="o">*</span><span class="w"> </span><span class="n">bitwuzla</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_new</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span><span class="w"> </span><span class="n">options</span><span class="p">);</span>
<span class="linenos">44</span><span class="w">  </span><span class="c1">// Check sat (nothing to solve, input formula is empty).</span>
<span class="linenos">45</span><span class="w">  </span><span class="n">BitwuzlaResult</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_check_sat</span><span class="p">(</span><span class="n">bitwuzla</span><span class="p">);</span>
<span class="linenos">46</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Expect: sat</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="linenos">47</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Bitwuzla: %s</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">bitwuzla_result_to_string</span><span class="p">(</span><span class="n">result</span><span class="p">));</span>
<span class="linenos">48</span>
<span class="linenos">49</span><span class="w">  </span><span class="c1">// Finally, delete the Bitwuzla solver, options, and term manager instances.</span>
<span class="linenos">50</span><span class="w">  </span><span class="n">bitwuzla_delete</span><span class="p">(</span><span class="n">bitwuzla</span><span class="p">);</span>
<span class="linenos">51</span><span class="w">  </span><span class="n">bitwuzla_options_delete</span><span class="p">(</span><span class="n">options</span><span class="p">);</span>
<span class="linenos">52</span><span class="w">  </span><span class="n">bitwuzla_term_manager_delete</span><span class="p">(</span><span class="n">tm</span><span class="p">);</span>
<span class="linenos">53</span>
<span class="linenos">54</span><span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">55</span><span class="p">}</span>
</pre></div>
</div>
</div><div aria-labelledby="tab-1-1-2" class="sphinx-tabs-panel" hidden="true" id="panel-1-1-2" name="1-2" role="tabpanel" tabindex="0"><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="c1">###</span>
<span class="linenos"> 2</span><span class="c1"># Bitwuzla: Satisfiability Modulo Theories (SMT) solver.</span>
<span class="linenos"> 3</span><span class="c1">#</span>
<span class="linenos"> 4</span><span class="c1"># Copyright (C) 2023 by the authors listed in the AUTHORS file at</span>
<span class="linenos"> 5</span><span class="c1"># https:#github.com/bitwuzla/bitwuzla/blob/main/AUTHORS</span>
<span class="linenos"> 6</span><span class="c1">#</span>
<span class="linenos"> 7</span><span class="c1"># This file is part of Bitwuzla under the MIT license. See COPYING for more</span>
<span class="linenos"> 8</span><span class="c1"># information at https:#github.com/bitwuzla/bitwuzla/blob/main/COPYING</span>
<span class="linenos"> 9</span><span class="c1">##</span>
<span class="linenos">10</span>
<span class="linenos">11</span><span class="kn">from</span><span class="w"> </span><span class="nn">bitwuzla</span><span class="w"> </span><span class="kn">import</span> <span class="o">*</span>
<span class="linenos">12</span>
<span class="linenos">13</span><span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
<span class="linenos">14</span>
<span class="linenos">15</span>    <span class="c1"># First, create a Bitwuzla options instance.</span>
<span class="linenos">16</span>    <span class="n">options</span> <span class="o">=</span> <span class="n">Options</span><span class="p">()</span>
<span class="linenos">17</span>
<span class="linenos">18</span>    <span class="c1"># Enable model generation, which expects a boolean configuration value.</span>
<span class="linenos">19</span>    <span class="n">options</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">Option</span><span class="o">.</span><span class="n">PRODUCE_MODELS</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
<span class="linenos">20</span>
<span class="linenos">21</span>    <span class="c1"># Increase the verbosity level, which expects an integer value.</span>
<span class="linenos">22</span>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Previous verbosity level: </span><span class="si">{</span><span class="n">options</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">Option</span><span class="o">.</span><span class="n">VERBOSITY</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="linenos">23</span>    <span class="n">options</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">Option</span><span class="o">.</span><span class="n">VERBOSITY</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="linenos">24</span>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Current verbosity level: </span><span class="si">{</span><span class="n">options</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">Option</span><span class="o">.</span><span class="n">VERBOSITY</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="linenos">25</span>
<span class="linenos">26</span>    <span class="c1"># Now configure an option that has modes (a choice of configuration values).</span>
<span class="linenos">27</span>    <span class="c1"># First, query which bit-vector solver engine is set.</span>
<span class="linenos">28</span>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Default bv solver: </span><span class="si">{</span><span class="n">options</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">Option</span><span class="o">.</span><span class="n">BV_SOLVER</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="linenos">29</span>    <span class="c1"># Then, select the propagation-based local search engine as solver engine.</span>
<span class="linenos">30</span>    <span class="n">options</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">Option</span><span class="o">.</span><span class="n">BV_SOLVER</span><span class="p">,</span> <span class="s1">&#39;prop&#39;</span><span class="p">)</span>
<span class="linenos">31</span>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Current engine: </span><span class="si">{</span><span class="n">options</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">Option</span><span class="o">.</span><span class="n">BV_SOLVER</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="linenos">32</span>
<span class="linenos">33</span>    <span class="c1"># Now, create a Bitwuzla instance.</span>
<span class="linenos">34</span>    <span class="n">tm</span> <span class="o">=</span> <span class="n">TermManager</span><span class="p">()</span>
<span class="linenos">35</span>    <span class="n">bitwuzla</span> <span class="o">=</span> <span class="n">Bitwuzla</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span> <span class="n">options</span><span class="p">)</span>
<span class="linenos">36</span>    <span class="c1"># Check sat (nothing to solve, input formula is empty).</span>
<span class="linenos">37</span>    <span class="n">result</span> <span class="o">=</span> <span class="n">bitwuzla</span><span class="o">.</span><span class="n">check_sat</span><span class="p">()</span>
<span class="linenos">38</span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Expect: sat&#39;</span><span class="p">)</span>
<span class="linenos">39</span>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Bitwuzla: </span><span class="si">{</span><span class="n">result</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div><div aria-labelledby="tab-1-1-3" class="sphinx-tabs-panel" hidden="true" id="panel-1-1-3" name="1-3" role="tabpanel" tabindex="0"><div class="highlight-smtlib notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span>(<span class="k">set-option</span> <span class="na">:verbosity</span> <span class="m">2</span>)
<span class="linenos">2</span>(<span class="k">set-option</span> <span class="na">:bv-solver</span> <span class="s">&quot;prop&quot;</span>)
<span class="linenos">3</span>(<span class="k">set-option</span> <span class="na">:produce-models</span> <span class="s">true</span>)
<span class="linenos">4</span>(<span class="k">set-logic</span> <span class="n">ALL</span>)
<span class="linenos">5</span>(<span class="k">check-sat</span>)
</pre></div>
</div>
</div></div>
</section>
<section id="option-info-example">
<h3><a class="toc-backref" href="#id8" role="doc-backlink">Option Info Example</a><a class="headerlink" href="#option-info-example" title="Link to this heading"></a></h3>
<div class="line-block">
<div class="line">An example for how to get information about options via <code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">OptionInfo</span></code>.</div>
<div class="line">The source code for this example can be found at <a class="reference external" href="https://github.com/bitwuzla/bitwuzla/tree/main/examples/cpp/option_info.cpp">examples/cpp/option_info.cpp</a>.</div>
</div>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-2-2-0" aria-selected="true" class="sphinx-tabs-tab" id="tab-2-2-0" name="2-0" role="tab" tabindex="0">C++</button><button aria-controls="panel-2-2-1" aria-selected="false" class="sphinx-tabs-tab" id="tab-2-2-1" name="2-1" role="tab" tabindex="-1">C</button><button aria-controls="panel-2-2-2" aria-selected="false" class="sphinx-tabs-tab" id="tab-2-2-2" name="2-2" role="tab" tabindex="-1">Python</button></div><div aria-labelledby="tab-2-2-0" class="sphinx-tabs-panel" id="panel-2-2-0" name="2-0" role="tabpanel" tabindex="0"><div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="cm">/***</span>
<span class="linenos"> 2</span><span class="cm"> * Bitwuzla: Satisfiability Modulo Theories (SMT) solver.</span>
<span class="linenos"> 3</span><span class="cm"> *</span>
<span class="linenos"> 4</span><span class="cm"> * Copyright (C) 2023 by the authors listed in the AUTHORS file at</span>
<span class="linenos"> 5</span><span class="cm"> * https://github.com/bitwuzla/bitwuzla/blob/main/AUTHORS</span>
<span class="linenos"> 6</span><span class="cm"> *</span>
<span class="linenos"> 7</span><span class="cm"> * This file is part of Bitwuzla under the MIT license. See COPYING for more</span>
<span class="linenos"> 8</span><span class="cm"> * information at https://github.com/bitwuzla/bitwuzla/blob/main/COPYING</span>
<span class="linenos"> 9</span><span class="cm"> */</span>
<span class="linenos">10</span>
<span class="linenos">11</span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;bitwuzla/cpp/bitwuzla.h&gt;</span>
<span class="linenos">12</span>
<span class="linenos">13</span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;iostream&gt;</span>
<span class="linenos">14</span>
<span class="linenos">15</span><span class="k">using</span><span class="w"> </span><span class="k">namespace</span><span class="w"> </span><span class="nn">bitwuzla</span><span class="p">;</span>
<span class="linenos">16</span>
<span class="linenos">17</span><span class="kt">int</span>
<span class="linenos">18</span><span class="nf">main</span><span class="p">()</span>
<span class="linenos">19</span><span class="p">{</span>
<span class="linenos">20</span><span class="w">  </span><span class="c1">// First, create a Bitwuzla options instance.</span>
<span class="linenos">21</span><span class="w">  </span><span class="n">Options</span><span class="w"> </span><span class="n">options</span><span class="p">;</span>
<span class="linenos">22</span><span class="w">  </span><span class="c1">// Set some options to illustrate current vs default value.</span>
<span class="linenos">23</span><span class="w">  </span><span class="n">options</span><span class="p">.</span><span class="n">set</span><span class="p">(</span><span class="n">Option</span><span class="o">::</span><span class="n">PRODUCE_MODELS</span><span class="p">,</span><span class="w"> </span><span class="nb">true</span><span class="p">);</span>
<span class="linenos">24</span><span class="w">  </span><span class="n">options</span><span class="p">.</span><span class="n">set</span><span class="p">(</span><span class="n">Option</span><span class="o">::</span><span class="n">VERBOSITY</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">);</span>
<span class="linenos">25</span><span class="w">  </span><span class="n">options</span><span class="p">.</span><span class="n">set</span><span class="p">(</span><span class="n">Option</span><span class="o">::</span><span class="n">BV_SOLVER</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;prop&quot;</span><span class="p">);</span>
<span class="linenos">26</span>
<span class="linenos">27</span><span class="w">  </span><span class="c1">// Then iterate over all available configuration options and extract info.</span>
<span class="linenos">28</span><span class="w">  </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int32_t</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="k">static_cast</span><span class="o">&lt;</span><span class="kt">int32_t</span><span class="o">&gt;</span><span class="p">(</span><span class="n">Option</span><span class="o">::</span><span class="n">NUM_OPTS</span><span class="p">);</span><span class="w"> </span><span class="o">++</span><span class="n">i</span><span class="p">)</span>
<span class="linenos">29</span><span class="w">  </span><span class="p">{</span>
<span class="linenos">30</span><span class="w">    </span><span class="n">Option</span><span class="w"> </span><span class="n">opt</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">static_cast</span><span class="o">&lt;</span><span class="n">Option</span><span class="o">&gt;</span><span class="p">(</span><span class="n">i</span><span class="p">);</span>
<span class="linenos">31</span><span class="w">    </span><span class="n">OptionInfo</span><span class="w"> </span><span class="n">info</span><span class="p">(</span><span class="n">options</span><span class="p">,</span><span class="w"> </span><span class="n">opt</span><span class="p">);</span>
<span class="linenos">32</span><span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;- long name:   &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">info</span><span class="p">.</span><span class="n">lng</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="linenos">33</span><span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;  short name:  &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="p">(</span><span class="n">info</span><span class="p">.</span><span class="n">shrt</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="n">info</span><span class="p">.</span><span class="n">shrt</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="s">&quot;-&quot;</span><span class="p">)</span>
<span class="linenos">34</span><span class="w">              </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="linenos">35</span><span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;  kind:        &quot;</span><span class="p">;</span>
<span class="linenos">36</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">info</span><span class="p">.</span><span class="n">kind</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">OptionInfo</span><span class="o">::</span><span class="n">Kind</span><span class="o">::</span><span class="n">BOOL</span><span class="p">)</span>
<span class="linenos">37</span><span class="w">    </span><span class="p">{</span>
<span class="linenos">38</span><span class="w">      </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;bool&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="linenos">39</span><span class="w">      </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;  values:&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="linenos">40</span><span class="w">      </span><span class="k">const</span><span class="w"> </span><span class="k">auto</span><span class="o">&amp;</span><span class="w"> </span><span class="n">values</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">get</span><span class="o">&lt;</span><span class="n">OptionInfo</span><span class="o">::</span><span class="n">Bool</span><span class="o">&gt;</span><span class="p">(</span><span class="n">info</span><span class="p">.</span><span class="n">values</span><span class="p">);</span>
<span class="linenos">41</span><span class="w">      </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;  + current:   &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="p">(</span><span class="n">values</span><span class="p">.</span><span class="n">cur</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="s">&quot;true&quot;</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="s">&quot;false&quot;</span><span class="p">)</span>
<span class="linenos">42</span><span class="w">                </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="linenos">43</span><span class="w">      </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;  + default:   &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="p">(</span><span class="n">values</span><span class="p">.</span><span class="n">dflt</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="s">&quot;true&quot;</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="s">&quot;false&quot;</span><span class="p">)</span>
<span class="linenos">44</span><span class="w">                </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="linenos">45</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">46</span><span class="w">    </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">info</span><span class="p">.</span><span class="n">kind</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">OptionInfo</span><span class="o">::</span><span class="n">Kind</span><span class="o">::</span><span class="n">NUMERIC</span><span class="p">)</span>
<span class="linenos">47</span><span class="w">    </span><span class="p">{</span>
<span class="linenos">48</span><span class="w">      </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;numeric&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="linenos">49</span><span class="w">      </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;  values:&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="linenos">50</span><span class="w">      </span><span class="k">const</span><span class="w"> </span><span class="k">auto</span><span class="o">&amp;</span><span class="w"> </span><span class="n">values</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">get</span><span class="o">&lt;</span><span class="n">OptionInfo</span><span class="o">::</span><span class="n">Numeric</span><span class="o">&gt;</span><span class="p">(</span><span class="n">info</span><span class="p">.</span><span class="n">values</span><span class="p">);</span>
<span class="linenos">51</span><span class="w">      </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;  + current:   &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">values</span><span class="p">.</span><span class="n">dflt</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="linenos">52</span><span class="w">      </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;  + default:   &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">values</span><span class="p">.</span><span class="n">cur</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="linenos">53</span><span class="w">      </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;  + min:       &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">values</span><span class="p">.</span><span class="n">min</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="linenos">54</span><span class="w">      </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;  + max:       &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">values</span><span class="p">.</span><span class="n">max</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="linenos">55</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">56</span><span class="w">    </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">info</span><span class="p">.</span><span class="n">kind</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">OptionInfo</span><span class="o">::</span><span class="n">Kind</span><span class="o">::</span><span class="n">MODE</span><span class="p">)</span>
<span class="linenos">57</span><span class="w">    </span><span class="p">{</span>
<span class="linenos">58</span><span class="w">      </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;modes&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="linenos">59</span><span class="w">      </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;  values:&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="linenos">60</span><span class="w">      </span><span class="k">const</span><span class="w"> </span><span class="k">auto</span><span class="o">&amp;</span><span class="w"> </span><span class="n">values</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">get</span><span class="o">&lt;</span><span class="n">OptionInfo</span><span class="o">::</span><span class="n">Mode</span><span class="o">&gt;</span><span class="p">(</span><span class="n">info</span><span class="p">.</span><span class="n">values</span><span class="p">);</span>
<span class="linenos">61</span><span class="w">      </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;  + current:   &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">values</span><span class="p">.</span><span class="n">dflt</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="linenos">62</span><span class="w">      </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;  + default:   &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">values</span><span class="p">.</span><span class="n">cur</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="linenos">63</span><span class="w">      </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;  + modes:     {&quot;</span><span class="p">;</span>
<span class="linenos">64</span><span class="w">      </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">size_t</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">values</span><span class="p">.</span><span class="n">modes</span><span class="p">.</span><span class="n">size</span><span class="p">();</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">n</span><span class="p">;</span><span class="w"> </span><span class="o">++</span><span class="n">i</span><span class="p">)</span>
<span class="linenos">65</span><span class="w">      </span><span class="p">{</span>
<span class="linenos">66</span><span class="w">        </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="s">&quot;,&quot;</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="p">)</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot; &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">values</span><span class="p">.</span><span class="n">modes</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<span class="linenos">67</span><span class="w">      </span><span class="p">}</span>
<span class="linenos">68</span><span class="w">      </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot; }&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="linenos">69</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">70</span><span class="w">    </span><span class="k">else</span>
<span class="linenos">71</span><span class="w">    </span><span class="p">{</span>
<span class="linenos">72</span><span class="w">      </span><span class="c1">// info.kind == OptionInfo::Kind::STRING</span>
<span class="linenos">73</span><span class="w">      </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;string&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="linenos">74</span><span class="w">      </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;  values:&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="linenos">75</span><span class="w">      </span><span class="k">const</span><span class="w"> </span><span class="k">auto</span><span class="o">&amp;</span><span class="w"> </span><span class="n">values</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">get</span><span class="o">&lt;</span><span class="n">OptionInfo</span><span class="o">::</span><span class="n">String</span><span class="o">&gt;</span><span class="p">(</span><span class="n">info</span><span class="p">.</span><span class="n">values</span><span class="p">);</span>
<span class="linenos">76</span><span class="w">      </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;  + current:   &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">values</span><span class="p">.</span><span class="n">cur</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="linenos">77</span><span class="w">      </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;  + default:   &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">values</span><span class="p">.</span><span class="n">dflt</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="linenos">78</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">79</span><span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;  description: &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">info</span><span class="p">.</span><span class="n">description</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="linenos">80</span><span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="linenos">81</span><span class="w">  </span><span class="p">}</span>
<span class="linenos">82</span><span class="p">}</span>
</pre></div>
</div>
</div><div aria-labelledby="tab-2-2-1" class="sphinx-tabs-panel" hidden="true" id="panel-2-2-1" name="2-1" role="tabpanel" tabindex="0"><div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="cm">/***</span>
<span class="linenos"> 2</span><span class="cm"> * Bitwuzla: Satisfiability Modulo Theories (SMT) solver.</span>
<span class="linenos"> 3</span><span class="cm"> *</span>
<span class="linenos"> 4</span><span class="cm"> * Copyright (C) 2023 by the authors listed in the AUTHORS file at</span>
<span class="linenos"> 5</span><span class="cm"> * https://github.com/bitwuzla/bitwuzla/blob/main/AUTHORS</span>
<span class="linenos"> 6</span><span class="cm"> *</span>
<span class="linenos"> 7</span><span class="cm"> * This file is part of Bitwuzla under the MIT license. See COPYING for more</span>
<span class="linenos"> 8</span><span class="cm"> * information at https://github.com/bitwuzla/bitwuzla/blob/main/COPYING</span>
<span class="linenos"> 9</span><span class="cm"> */</span>
<span class="linenos">10</span>
<span class="linenos">11</span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;bitwuzla/c/bitwuzla.h&gt;</span>
<span class="linenos">12</span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;inttypes.h&gt;</span>
<span class="linenos">13</span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;stdio.h&gt;</span>
<span class="linenos">14</span>
<span class="linenos">15</span><span class="kt">int</span>
<span class="linenos">16</span><span class="nf">main</span><span class="p">()</span>
<span class="linenos">17</span><span class="p">{</span>
<span class="linenos">18</span><span class="w">  </span><span class="c1">// First, create a Bitwuzla options instance.</span>
<span class="linenos">19</span><span class="w">  </span><span class="n">BitwuzlaOptions</span><span class="o">*</span><span class="w"> </span><span class="n">options</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_options_new</span><span class="p">();</span>
<span class="linenos">20</span><span class="w">  </span><span class="c1">// Set some options to illustrate current vs default value.</span>
<span class="linenos">21</span><span class="w">  </span><span class="n">bitwuzla_set_option</span><span class="p">(</span><span class="n">options</span><span class="p">,</span><span class="w"> </span><span class="n">BITWUZLA_OPT_PRODUCE_MODELS</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span>
<span class="linenos">22</span><span class="w">  </span><span class="n">bitwuzla_set_option</span><span class="p">(</span><span class="n">options</span><span class="p">,</span><span class="w"> </span><span class="n">BITWUZLA_OPT_VERBOSITY</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">);</span>
<span class="linenos">23</span><span class="w">  </span><span class="n">bitwuzla_set_option_mode</span><span class="p">(</span><span class="n">options</span><span class="p">,</span><span class="w"> </span><span class="n">BITWUZLA_OPT_BV_SOLVER</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;prop&quot;</span><span class="p">);</span>
<span class="linenos">24</span>
<span class="linenos">25</span><span class="w">  </span><span class="c1">// Then iterate over all available configuration options and extract info.</span>
<span class="linenos">26</span><span class="w">  </span><span class="n">BitwuzlaOptionInfo</span><span class="w"> </span><span class="n">info</span><span class="p">;</span>
<span class="linenos">27</span><span class="w">  </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">BITWUZLA_OPT_NUM_OPTS</span><span class="p">;</span><span class="w"> </span><span class="o">++</span><span class="n">i</span><span class="p">)</span>
<span class="linenos">28</span><span class="w">  </span><span class="p">{</span>
<span class="linenos">29</span><span class="w">    </span><span class="n">BitwuzlaOption</span><span class="w"> </span><span class="n">opt</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">BitwuzlaOption</span><span class="p">)</span><span class="w"> </span><span class="n">i</span><span class="p">;</span>
<span class="linenos">30</span><span class="w">    </span><span class="n">bitwuzla_get_option_info</span><span class="p">(</span><span class="n">options</span><span class="p">,</span><span class="w"> </span><span class="n">opt</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">info</span><span class="p">);</span>
<span class="linenos">31</span><span class="w">    </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;- long name:   %s</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">info</span><span class="p">.</span><span class="n">lng</span><span class="p">);</span>
<span class="linenos">32</span><span class="w">    </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;  short name:  %s</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">info</span><span class="p">.</span><span class="n">shrt</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="n">info</span><span class="p">.</span><span class="n">shrt</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="s">&quot;-&quot;</span><span class="p">));</span>
<span class="linenos">33</span><span class="w">    </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;  kind:        &quot;</span><span class="p">);</span>
<span class="linenos">34</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">info</span><span class="p">.</span><span class="n">is_numeric</span><span class="p">)</span>
<span class="linenos">35</span><span class="w">    </span><span class="p">{</span>
<span class="linenos">36</span><span class="w">      </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;numeric</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="linenos">37</span><span class="w">      </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;  values:</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="linenos">38</span><span class="w">      </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;  + current:   %&quot;</span><span class="w"> </span><span class="n">PRIu64</span><span class="w"> </span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">info</span><span class="p">.</span><span class="n">numeric</span><span class="p">.</span><span class="n">cur</span><span class="p">);</span>
<span class="linenos">39</span><span class="w">      </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;  + default:   %&quot;</span><span class="w"> </span><span class="n">PRIu64</span><span class="w"> </span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">info</span><span class="p">.</span><span class="n">numeric</span><span class="p">.</span><span class="n">dflt</span><span class="p">);</span>
<span class="linenos">40</span><span class="w">      </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;  + min:       %&quot;</span><span class="w"> </span><span class="n">PRIu64</span><span class="w"> </span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">info</span><span class="p">.</span><span class="n">numeric</span><span class="p">.</span><span class="n">min</span><span class="p">);</span>
<span class="linenos">41</span><span class="w">      </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;  + max:       %&quot;</span><span class="w"> </span><span class="n">PRIu64</span><span class="w"> </span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">info</span><span class="p">.</span><span class="n">numeric</span><span class="p">.</span><span class="n">max</span><span class="p">);</span>
<span class="linenos">42</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">43</span><span class="w">    </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">info</span><span class="p">.</span><span class="n">is_mode</span><span class="p">)</span>
<span class="linenos">44</span><span class="w">    </span><span class="p">{</span>
<span class="linenos">45</span><span class="w">      </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;modes</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="linenos">46</span><span class="w">      </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;  values:</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="linenos">47</span><span class="w">      </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;  + current:   %s</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">info</span><span class="p">.</span><span class="n">mode</span><span class="p">.</span><span class="n">cur</span><span class="p">);</span>
<span class="linenos">48</span><span class="w">      </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;  + default:   %s</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">info</span><span class="p">.</span><span class="n">mode</span><span class="p">.</span><span class="n">dflt</span><span class="p">);</span>
<span class="linenos">49</span><span class="w">      </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;  + modes:     {&quot;</span><span class="p">);</span>
<span class="linenos">50</span><span class="w">      </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">size_t</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">info</span><span class="p">.</span><span class="n">mode</span><span class="p">.</span><span class="n">num_modes</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">n</span><span class="p">;</span><span class="w"> </span><span class="o">++</span><span class="n">i</span><span class="p">)</span>
<span class="linenos">51</span><span class="w">      </span><span class="p">{</span>
<span class="linenos">52</span><span class="w">        </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;%s %s&quot;</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="s">&quot;,&quot;</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="p">),</span><span class="w"> </span><span class="n">info</span><span class="p">.</span><span class="n">mode</span><span class="p">.</span><span class="n">modes</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span>
<span class="linenos">53</span><span class="w">      </span><span class="p">}</span>
<span class="linenos">54</span><span class="w">      </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot; }</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="linenos">55</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">56</span><span class="w">    </span><span class="k">else</span>
<span class="linenos">57</span><span class="w">    </span><span class="p">{</span>
<span class="linenos">58</span><span class="w">      </span><span class="c1">// info.is_string</span>
<span class="linenos">59</span><span class="w">      </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;string</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="linenos">60</span><span class="w">      </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;  values:</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="linenos">61</span><span class="w">      </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;  + current:   %s</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">info</span><span class="p">.</span><span class="n">string</span><span class="p">.</span><span class="n">cur</span><span class="p">);</span>
<span class="linenos">62</span><span class="w">      </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;  + default:   %s</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">info</span><span class="p">.</span><span class="n">string</span><span class="p">.</span><span class="n">dflt</span><span class="p">);</span>
<span class="linenos">63</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">64</span><span class="w">    </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;  description: %s</span><span class="se">\n\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">info</span><span class="p">.</span><span class="n">description</span><span class="p">);</span>
<span class="linenos">65</span><span class="w">  </span><span class="p">}</span>
<span class="linenos">66</span>
<span class="linenos">67</span><span class="w">  </span><span class="c1">// Finally, delete options instance.</span>
<span class="linenos">68</span><span class="w">  </span><span class="n">bitwuzla_options_delete</span><span class="p">(</span><span class="n">options</span><span class="p">);</span>
<span class="linenos">69</span><span class="p">}</span>
</pre></div>
</div>
</div><div aria-labelledby="tab-2-2-2" class="sphinx-tabs-panel" hidden="true" id="panel-2-2-2" name="2-2" role="tabpanel" tabindex="0"><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="c1">###</span>
<span class="linenos"> 2</span><span class="c1"># Bitwuzla: Satisfiability Modulo Theories (SMT) solver.</span>
<span class="linenos"> 3</span><span class="c1">#</span>
<span class="linenos"> 4</span><span class="c1"># Copyright (C) 2023 by the authors listed in the AUTHORS file at</span>
<span class="linenos"> 5</span><span class="c1"># https:#github.com/bitwuzla/bitwuzla/blob/main/AUTHORS</span>
<span class="linenos"> 6</span><span class="c1">#</span>
<span class="linenos"> 7</span><span class="c1"># This file is part of Bitwuzla under the MIT license. See COPYING for more</span>
<span class="linenos"> 8</span><span class="c1"># information at https:#github.com/bitwuzla/bitwuzla/blob/main/COPYING</span>
<span class="linenos"> 9</span><span class="c1">##</span>
<span class="linenos">10</span>
<span class="linenos">11</span><span class="kn">from</span><span class="w"> </span><span class="nn">bitwuzla</span><span class="w"> </span><span class="kn">import</span> <span class="o">*</span>
<span class="linenos">12</span>
<span class="linenos">13</span><span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
<span class="linenos">14</span>
<span class="linenos">15</span>    <span class="c1"># First, create a Bitwuzla options instance.</span>
<span class="linenos">16</span>    <span class="n">options</span> <span class="o">=</span> <span class="n">Options</span><span class="p">()</span>
<span class="linenos">17</span>
<span class="linenos">18</span>    <span class="c1"># Set some options to illustrate current vs default value.</span>
<span class="linenos">19</span>    <span class="n">options</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">Option</span><span class="o">.</span><span class="n">PRODUCE_MODELS</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
<span class="linenos">20</span>    <span class="n">options</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">Option</span><span class="o">.</span><span class="n">VERBOSITY</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="linenos">21</span>    <span class="n">options</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">Option</span><span class="o">.</span><span class="n">BV_SOLVER</span><span class="p">,</span> <span class="s1">&#39;prop&#39;</span><span class="p">)</span>
<span class="linenos">22</span>
<span class="linenos">23</span>    <span class="c1"># Then iterate over all available configuration options and extract info.</span>
<span class="linenos">24</span>    <span class="k">for</span> <span class="n">opt</span> <span class="ow">in</span> <span class="n">Option</span><span class="p">:</span>
<span class="linenos">25</span>        <span class="n">info</span> <span class="o">=</span> <span class="n">OptionInfo</span><span class="p">(</span><span class="n">options</span><span class="p">,</span> <span class="n">opt</span><span class="p">)</span>
<span class="linenos">26</span>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;  long name:   </span><span class="si">{</span><span class="n">info</span><span class="o">.</span><span class="n">lng</span><span class="p">()</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="linenos">27</span>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;  short name:  </span><span class="si">{</span><span class="n">info</span><span class="o">.</span><span class="n">shrt</span><span class="p">()</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">info</span><span class="o">.</span><span class="n">shrt</span><span class="p">()</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="s2">&quot;-&quot;</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="linenos">28</span>        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;  kind:        &#39;</span><span class="p">,</span> <span class="n">end</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
<span class="linenos">29</span>        <span class="k">if</span> <span class="n">info</span><span class="o">.</span><span class="n">kind</span><span class="p">()</span> <span class="o">==</span> <span class="n">OptionInfoKind</span><span class="o">.</span><span class="n">BOOL</span><span class="p">:</span>
<span class="linenos">30</span>            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;bool&#39;</span><span class="p">)</span>
<span class="linenos">31</span>            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;  values:&#39;</span><span class="p">)</span>
<span class="linenos">32</span>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;  + current:   </span><span class="si">{</span><span class="n">info</span><span class="o">.</span><span class="n">cur</span><span class="p">()</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="linenos">33</span>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;  + default:   </span><span class="si">{</span><span class="n">info</span><span class="o">.</span><span class="n">dflt</span><span class="p">()</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="linenos">34</span>        <span class="k">elif</span> <span class="n">info</span><span class="o">.</span><span class="n">kind</span><span class="p">()</span> <span class="o">==</span> <span class="n">OptionInfoKind</span><span class="o">.</span><span class="n">NUMERIC</span><span class="p">:</span>
<span class="linenos">35</span>            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;numeric&#39;</span><span class="p">)</span>
<span class="linenos">36</span>            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;  values:&#39;</span><span class="p">)</span>
<span class="linenos">37</span>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;  + current:   </span><span class="si">{</span><span class="n">info</span><span class="o">.</span><span class="n">cur</span><span class="p">()</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="linenos">38</span>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;  + default:   </span><span class="si">{</span><span class="n">info</span><span class="o">.</span><span class="n">dflt</span><span class="p">()</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="linenos">39</span>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;  + min:       </span><span class="si">{</span><span class="n">info</span><span class="o">.</span><span class="n">min</span><span class="p">()</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="linenos">40</span>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;  + max:       </span><span class="si">{</span><span class="n">info</span><span class="o">.</span><span class="n">max</span><span class="p">()</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="linenos">41</span>        <span class="k">elif</span> <span class="n">info</span><span class="o">.</span><span class="n">kind</span><span class="p">()</span> <span class="o">==</span> <span class="n">OptionInfoKind</span><span class="o">.</span><span class="n">MODE</span><span class="p">:</span>
<span class="linenos">42</span>            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;modes&#39;</span><span class="p">)</span>
<span class="linenos">43</span>            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;  values:&#39;</span><span class="p">)</span>
<span class="linenos">44</span>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;  + current:   </span><span class="si">{</span><span class="n">info</span><span class="o">.</span><span class="n">cur</span><span class="p">()</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="linenos">45</span>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;  + default:   </span><span class="si">{</span><span class="n">info</span><span class="o">.</span><span class="n">dflt</span><span class="p">()</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="linenos">46</span>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;  + modes:     </span><span class="si">{</span><span class="n">info</span><span class="o">.</span><span class="n">modes</span><span class="p">()</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="linenos">47</span>        <span class="k">else</span><span class="p">:</span>
<span class="linenos">48</span>            <span class="k">assert</span> <span class="n">info</span><span class="o">.</span><span class="n">kind</span><span class="p">()</span> <span class="o">==</span> <span class="n">OptionInfoKind</span><span class="o">.</span><span class="n">STRING</span>
<span class="linenos">49</span>            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;string&#39;</span><span class="p">)</span>
<span class="linenos">50</span>            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;  values:&#39;</span><span class="p">)</span>
<span class="linenos">51</span>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;  + current:   </span><span class="si">{</span><span class="n">info</span><span class="o">.</span><span class="n">cur</span><span class="p">()</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="linenos">52</span>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;  + default:   </span><span class="si">{</span><span class="n">info</span><span class="o">.</span><span class="n">dflt</span><span class="p">()</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="linenos">53</span>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;  description: </span><span class="si">{</span><span class="n">info</span><span class="o">.</span><span class="n">description</span><span class="p">()</span><span class="si">}</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div></div>
</section>
<section id="incremental-example-with-push-and-pop">
<h3><a class="toc-backref" href="#id9" role="doc-backlink">Incremental Example with push and pop</a><a class="headerlink" href="#incremental-example-with-push-and-pop" title="Link to this heading"></a></h3>
<div class="line-block">
<div class="line">An incremental example with <code class="code docutils literal notranslate"><span class="pre">push</span></code> and <code class="code docutils literal notranslate"><span class="pre">pop</span></code>.</div>
<div class="line">The SMT-LIB input for this example can be found at <a class="reference external" href="https://github.com/bitwuzla/bitwuzla/tree/main/examples/smt2/pushpop.smt2">examples/smt2/pushpop.smt2</a>.</div>
<div class="line">The source code for this example can be found at <a class="reference external" href="https://github.com/bitwuzla/bitwuzla/tree/main/examples/cpp/pushpop.cpp">examples/cpp/pushpop.cpp</a>.</div>
</div>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-3-3-0" aria-selected="true" class="sphinx-tabs-tab" id="tab-3-3-0" name="3-0" role="tab" tabindex="0">C++</button><button aria-controls="panel-3-3-1" aria-selected="false" class="sphinx-tabs-tab" id="tab-3-3-1" name="3-1" role="tab" tabindex="-1">C</button><button aria-controls="panel-3-3-2" aria-selected="false" class="sphinx-tabs-tab" id="tab-3-3-2" name="3-2" role="tab" tabindex="-1">Python</button><button aria-controls="panel-3-3-3" aria-selected="false" class="sphinx-tabs-tab" id="tab-3-3-3" name="3-3" role="tab" tabindex="-1">SMT-LIBv2</button></div><div aria-labelledby="tab-3-3-0" class="sphinx-tabs-panel" id="panel-3-3-0" name="3-0" role="tabpanel" tabindex="0"><div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="cm">/***</span>
<span class="linenos"> 2</span><span class="cm"> * Bitwuzla: Satisfiability Modulo Theories (SMT) solver.</span>
<span class="linenos"> 3</span><span class="cm"> *</span>
<span class="linenos"> 4</span><span class="cm"> * Copyright (C) 2023 by the authors listed in the AUTHORS file at</span>
<span class="linenos"> 5</span><span class="cm"> * https://github.com/bitwuzla/bitwuzla/blob/main/AUTHORS</span>
<span class="linenos"> 6</span><span class="cm"> *</span>
<span class="linenos"> 7</span><span class="cm"> * This file is part of Bitwuzla under the MIT license. See COPYING for more</span>
<span class="linenos"> 8</span><span class="cm"> * information at https://github.com/bitwuzla/bitwuzla/blob/main/COPYING</span>
<span class="linenos"> 9</span><span class="cm"> */</span>
<span class="linenos">10</span>
<span class="linenos">11</span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;bitwuzla/cpp/bitwuzla.h&gt;</span>
<span class="linenos">12</span>
<span class="linenos">13</span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;iostream&gt;</span>
<span class="linenos">14</span>
<span class="linenos">15</span><span class="k">using</span><span class="w"> </span><span class="k">namespace</span><span class="w"> </span><span class="nn">bitwuzla</span><span class="p">;</span>
<span class="linenos">16</span>
<span class="linenos">17</span><span class="kt">int</span>
<span class="linenos">18</span><span class="nf">main</span><span class="p">()</span>
<span class="linenos">19</span><span class="p">{</span>
<span class="linenos">20</span><span class="w">  </span><span class="c1">// First, create a term manager instance.</span>
<span class="linenos">21</span><span class="w">  </span><span class="n">TermManager</span><span class="w"> </span><span class="n">tm</span><span class="p">;</span>
<span class="linenos">22</span><span class="w">  </span><span class="c1">// Create a Bitwuzla options instance.</span>
<span class="linenos">23</span><span class="w">  </span><span class="n">Options</span><span class="w"> </span><span class="n">options</span><span class="p">;</span>
<span class="linenos">24</span><span class="w">  </span><span class="c1">// Then, create a Bitwuzla instance.</span>
<span class="linenos">25</span><span class="w">  </span><span class="n">Bitwuzla</span><span class="w"> </span><span class="n">bitwuzla</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span><span class="w"> </span><span class="n">options</span><span class="p">);</span>
<span class="linenos">26</span>
<span class="linenos">27</span><span class="w">  </span><span class="c1">// Create a bit-vector sort of size 1.</span>
<span class="linenos">28</span><span class="w">  </span><span class="n">Sort</span><span class="w"> </span><span class="n">sortbv1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">tm</span><span class="p">.</span><span class="n">mk_bv_sort</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
<span class="linenos">29</span><span class="w">  </span><span class="c1">// Create a bit-vector sort of size 2.</span>
<span class="linenos">30</span><span class="w">  </span><span class="n">Sort</span><span class="w"> </span><span class="n">sortbv2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">tm</span><span class="p">.</span><span class="n">mk_bv_sort</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span>
<span class="linenos">31</span>
<span class="linenos">32</span><span class="w">  </span><span class="c1">// Create bit-vector variables.</span>
<span class="linenos">33</span><span class="w">  </span><span class="c1">// (declare-const o0 (_ BitVec 1))</span>
<span class="linenos">34</span><span class="w">  </span><span class="n">Term</span><span class="w"> </span><span class="n">o0</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">tm</span><span class="p">.</span><span class="n">mk_const</span><span class="p">(</span><span class="n">sortbv1</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;o0&quot;</span><span class="p">);</span>
<span class="linenos">35</span><span class="w">  </span><span class="c1">// (declare-const o1 (_ BitVec 1))</span>
<span class="linenos">36</span><span class="w">  </span><span class="n">Term</span><span class="w"> </span><span class="n">o1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">tm</span><span class="p">.</span><span class="n">mk_const</span><span class="p">(</span><span class="n">sortbv1</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;o1&quot;</span><span class="p">);</span>
<span class="linenos">37</span><span class="w">  </span><span class="c1">// (declare-const s0 (_ BitVec 2))</span>
<span class="linenos">38</span><span class="w">  </span><span class="n">Term</span><span class="w"> </span><span class="n">s0</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">tm</span><span class="p">.</span><span class="n">mk_const</span><span class="p">(</span><span class="n">sortbv2</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;s0&quot;</span><span class="p">);</span>
<span class="linenos">39</span><span class="w">  </span><span class="c1">// (declare-const s1 (_ BitVec 2))</span>
<span class="linenos">40</span><span class="w">  </span><span class="n">Term</span><span class="w"> </span><span class="n">s1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">tm</span><span class="p">.</span><span class="n">mk_const</span><span class="p">(</span><span class="n">sortbv2</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;s1&quot;</span><span class="p">);</span>
<span class="linenos">41</span><span class="w">  </span><span class="c1">// (declare-const s2 (_ BitVec 2))</span>
<span class="linenos">42</span><span class="w">  </span><span class="n">Term</span><span class="w"> </span><span class="n">s2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">tm</span><span class="p">.</span><span class="n">mk_const</span><span class="p">(</span><span class="n">sortbv2</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;s2&quot;</span><span class="p">);</span>
<span class="linenos">43</span><span class="w">  </span><span class="c1">// (declare-const goal (_ BitVec 2))</span>
<span class="linenos">44</span><span class="w">  </span><span class="n">Term</span><span class="w"> </span><span class="n">goal</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">tm</span><span class="p">.</span><span class="n">mk_const</span><span class="p">(</span><span class="n">sortbv2</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;goal&quot;</span><span class="p">);</span>
<span class="linenos">45</span>
<span class="linenos">46</span><span class="w">  </span><span class="c1">// Create bit-vector values zero, one, three.</span>
<span class="linenos">47</span><span class="w">  </span><span class="n">Term</span><span class="w"> </span><span class="n">zero</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="n">tm</span><span class="p">.</span><span class="n">mk_bv_zero</span><span class="p">(</span><span class="n">sortbv2</span><span class="p">);</span>
<span class="linenos">48</span><span class="w">  </span><span class="n">Term</span><span class="w"> </span><span class="n">one1</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="n">tm</span><span class="p">.</span><span class="n">mk_bv_one</span><span class="p">(</span><span class="n">sortbv1</span><span class="p">);</span>
<span class="linenos">49</span><span class="w">  </span><span class="n">Term</span><span class="w"> </span><span class="n">one2</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="n">tm</span><span class="p">.</span><span class="n">mk_bv_one</span><span class="p">(</span><span class="n">sortbv2</span><span class="p">);</span>
<span class="linenos">50</span><span class="w">  </span><span class="n">Term</span><span class="w"> </span><span class="n">three</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">tm</span><span class="p">.</span><span class="n">mk_bv_value_uint64</span><span class="p">(</span><span class="n">sortbv2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">);</span>
<span class="linenos">51</span>
<span class="linenos">52</span><span class="w">  </span><span class="c1">// Add some assertions.</span>
<span class="linenos">53</span><span class="w">  </span><span class="n">bitwuzla</span><span class="p">.</span><span class="n">assert_formula</span><span class="p">(</span><span class="n">tm</span><span class="p">.</span><span class="n">mk_term</span><span class="p">(</span><span class="n">Kind</span><span class="o">::</span><span class="n">EQUAL</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="n">s0</span><span class="p">,</span><span class="w"> </span><span class="n">zero</span><span class="p">}));</span>
<span class="linenos">54</span><span class="w">  </span><span class="n">bitwuzla</span><span class="p">.</span><span class="n">assert_formula</span><span class="p">(</span><span class="n">tm</span><span class="p">.</span><span class="n">mk_term</span><span class="p">(</span><span class="n">Kind</span><span class="o">::</span><span class="n">EQUAL</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="n">goal</span><span class="p">,</span><span class="w"> </span><span class="n">three</span><span class="p">}));</span>
<span class="linenos">55</span>
<span class="linenos">56</span><span class="w">  </span><span class="c1">// Push, assert, check sat and pop.</span>
<span class="linenos">57</span><span class="w">  </span><span class="n">bitwuzla</span><span class="p">.</span><span class="n">push</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
<span class="linenos">58</span><span class="w">  </span><span class="n">bitwuzla</span><span class="p">.</span><span class="n">assert_formula</span><span class="p">(</span><span class="n">tm</span><span class="p">.</span><span class="n">mk_term</span><span class="p">(</span><span class="n">Kind</span><span class="o">::</span><span class="n">EQUAL</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="n">s0</span><span class="p">,</span><span class="w"> </span><span class="n">goal</span><span class="p">}));</span>
<span class="linenos">59</span><span class="w">  </span><span class="n">Result</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla</span><span class="p">.</span><span class="n">check_sat</span><span class="p">();</span>
<span class="linenos">60</span><span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Expect: unsat&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="linenos">61</span><span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Bitwuzla: &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="linenos">62</span><span class="w">  </span><span class="n">bitwuzla</span><span class="p">.</span><span class="n">pop</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
<span class="linenos">63</span>
<span class="linenos">64</span><span class="w">  </span><span class="c1">// (assert (= s1 (ite (= o0 (_ sortbv1 1)) (bvadd s0 one) s0)))</span>
<span class="linenos">65</span><span class="w">  </span><span class="n">bitwuzla</span><span class="p">.</span><span class="n">assert_formula</span><span class="p">(</span>
<span class="linenos">66</span><span class="w">      </span><span class="n">tm</span><span class="p">.</span><span class="n">mk_term</span><span class="p">(</span><span class="n">Kind</span><span class="o">::</span><span class="n">EQUAL</span><span class="p">,</span>
<span class="linenos">67</span><span class="w">                 </span><span class="p">{</span><span class="n">s1</span><span class="p">,</span>
<span class="linenos">68</span><span class="w">                  </span><span class="n">tm</span><span class="p">.</span><span class="n">mk_term</span><span class="p">(</span><span class="n">Kind</span><span class="o">::</span><span class="n">ITE</span><span class="p">,</span>
<span class="linenos">69</span><span class="w">                             </span><span class="p">{</span><span class="n">tm</span><span class="p">.</span><span class="n">mk_term</span><span class="p">(</span><span class="n">Kind</span><span class="o">::</span><span class="n">EQUAL</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="n">o0</span><span class="p">,</span><span class="w"> </span><span class="n">one1</span><span class="p">}),</span>
<span class="linenos">70</span><span class="w">                              </span><span class="n">tm</span><span class="p">.</span><span class="n">mk_term</span><span class="p">(</span><span class="n">Kind</span><span class="o">::</span><span class="n">BV_ADD</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="n">s0</span><span class="p">,</span><span class="w"> </span><span class="n">one2</span><span class="p">}),</span>
<span class="linenos">71</span><span class="w">                              </span><span class="n">s0</span><span class="p">})}));</span>
<span class="linenos">72</span>
<span class="linenos">73</span><span class="w">  </span><span class="c1">// Push, assert, check sat and pop.</span>
<span class="linenos">74</span><span class="w">  </span><span class="n">bitwuzla</span><span class="p">.</span><span class="n">push</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
<span class="linenos">75</span><span class="w">  </span><span class="n">bitwuzla</span><span class="p">.</span><span class="n">assert_formula</span><span class="p">(</span><span class="n">tm</span><span class="p">.</span><span class="n">mk_term</span><span class="p">(</span><span class="n">Kind</span><span class="o">::</span><span class="n">EQUAL</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="n">s1</span><span class="p">,</span><span class="w"> </span><span class="n">goal</span><span class="p">}));</span>
<span class="linenos">76</span><span class="w">  </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla</span><span class="p">.</span><span class="n">check_sat</span><span class="p">();</span>
<span class="linenos">77</span><span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Expect: unsat&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="linenos">78</span><span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Bitwuzla: &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="linenos">79</span><span class="w">  </span><span class="n">bitwuzla</span><span class="p">.</span><span class="n">pop</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
<span class="linenos">80</span>
<span class="linenos">81</span><span class="w">  </span><span class="c1">// (assert (= s2 (ite (= o1 (_ sortbv1 1)) (bvadd s1 one) s1)))</span>
<span class="linenos">82</span><span class="w">  </span><span class="n">bitwuzla</span><span class="p">.</span><span class="n">assert_formula</span><span class="p">(</span>
<span class="linenos">83</span><span class="w">      </span><span class="n">tm</span><span class="p">.</span><span class="n">mk_term</span><span class="p">(</span><span class="n">Kind</span><span class="o">::</span><span class="n">EQUAL</span><span class="p">,</span>
<span class="linenos">84</span><span class="w">                 </span><span class="p">{</span><span class="n">s2</span><span class="p">,</span>
<span class="linenos">85</span><span class="w">                  </span><span class="n">tm</span><span class="p">.</span><span class="n">mk_term</span><span class="p">(</span><span class="n">Kind</span><span class="o">::</span><span class="n">ITE</span><span class="p">,</span>
<span class="linenos">86</span><span class="w">                             </span><span class="p">{</span><span class="n">tm</span><span class="p">.</span><span class="n">mk_term</span><span class="p">(</span><span class="n">Kind</span><span class="o">::</span><span class="n">EQUAL</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="n">o1</span><span class="p">,</span><span class="w"> </span><span class="n">one1</span><span class="p">}),</span>
<span class="linenos">87</span><span class="w">                              </span><span class="n">tm</span><span class="p">.</span><span class="n">mk_term</span><span class="p">(</span><span class="n">Kind</span><span class="o">::</span><span class="n">BV_ADD</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="n">s1</span><span class="p">,</span><span class="w"> </span><span class="n">one2</span><span class="p">}),</span>
<span class="linenos">88</span><span class="w">                              </span><span class="n">s1</span><span class="p">})}));</span>
<span class="linenos">89</span>
<span class="linenos">90</span><span class="w">  </span><span class="c1">// Push, assert, check sat and pop.</span>
<span class="linenos">91</span><span class="w">  </span><span class="n">bitwuzla</span><span class="p">.</span><span class="n">push</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
<span class="linenos">92</span><span class="w">  </span><span class="n">bitwuzla</span><span class="p">.</span><span class="n">assert_formula</span><span class="p">(</span><span class="n">tm</span><span class="p">.</span><span class="n">mk_term</span><span class="p">(</span><span class="n">Kind</span><span class="o">::</span><span class="n">EQUAL</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="n">s2</span><span class="p">,</span><span class="w"> </span><span class="n">goal</span><span class="p">}));</span>
<span class="linenos">93</span><span class="w">  </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla</span><span class="p">.</span><span class="n">check_sat</span><span class="p">();</span>
<span class="linenos">94</span><span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Expect: unsat&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="linenos">95</span><span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Bitwuzla: &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="linenos">96</span><span class="w">  </span><span class="n">bitwuzla</span><span class="p">.</span><span class="n">pop</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
<span class="linenos">97</span>
<span class="linenos">98</span><span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">99</span><span class="p">}</span>
</pre></div>
</div>
</div><div aria-labelledby="tab-3-3-1" class="sphinx-tabs-panel" hidden="true" id="panel-3-3-1" name="3-1" role="tabpanel" tabindex="0"><div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="linenos">  1</span><span class="cm">/***</span>
<span class="linenos">  2</span><span class="cm"> * Bitwuzla: Satisfiability Modulo Theories (SMT) solver.</span>
<span class="linenos">  3</span><span class="cm"> *</span>
<span class="linenos">  4</span><span class="cm"> * Copyright (C) 2021 by the authors listed in the AUTHORS file at</span>
<span class="linenos">  5</span><span class="cm"> * https://github.com/bitwuzla/bitwuzla/blob/main/AUTHORS</span>
<span class="linenos">  6</span><span class="cm"> *</span>
<span class="linenos">  7</span><span class="cm"> * This file is part of Bitwuzla under the MIT license. See COPYING for more</span>
<span class="linenos">  8</span><span class="cm"> * information at https://github.com/bitwuzla/bitwuzla/blob/main/COPYING</span>
<span class="linenos">  9</span><span class="cm"> */</span>
<span class="linenos"> 10</span>
<span class="linenos"> 11</span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;bitwuzla/c/bitwuzla.h&gt;</span>
<span class="linenos"> 12</span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;stdio.h&gt;</span>
<span class="linenos"> 13</span>
<span class="linenos"> 14</span><span class="kt">int</span>
<span class="linenos"> 15</span><span class="nf">main</span><span class="p">()</span>
<span class="linenos"> 16</span><span class="p">{</span>
<span class="linenos"> 17</span><span class="w">  </span><span class="c1">// First, create a term manager instance.</span>
<span class="linenos"> 18</span><span class="w">  </span><span class="n">BitwuzlaTermManager</span><span class="o">*</span><span class="w"> </span><span class="n">tm</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_term_manager_new</span><span class="p">();</span>
<span class="linenos"> 19</span><span class="w">  </span><span class="c1">// Create a Bitwuzla options instance.</span>
<span class="linenos"> 20</span><span class="w">  </span><span class="n">BitwuzlaOptions</span><span class="o">*</span><span class="w"> </span><span class="n">options</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_options_new</span><span class="p">();</span>
<span class="linenos"> 21</span><span class="w">  </span><span class="c1">// Then, create a Bitwuzla instance.</span>
<span class="linenos"> 22</span><span class="w">  </span><span class="n">Bitwuzla</span><span class="o">*</span><span class="w"> </span><span class="n">bitwuzla</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_new</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span><span class="w"> </span><span class="n">options</span><span class="p">);</span>
<span class="linenos"> 23</span>
<span class="linenos"> 24</span><span class="w">  </span><span class="c1">// Create a bit-vector sort of size 1.</span>
<span class="linenos"> 25</span><span class="w">  </span><span class="n">BitwuzlaSort</span><span class="w"> </span><span class="n">sortbv1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_bv_sort</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span>
<span class="linenos"> 26</span><span class="w">  </span><span class="c1">// Create a bit-vector sort of size 2.</span>
<span class="linenos"> 27</span><span class="w">  </span><span class="n">BitwuzlaSort</span><span class="w"> </span><span class="n">sortbv2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_bv_sort</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">);</span>
<span class="linenos"> 28</span>
<span class="linenos"> 29</span><span class="w">  </span><span class="c1">// Create bit-vector variables.</span>
<span class="linenos"> 30</span><span class="w">  </span><span class="c1">// (declare-const o0 (_ BitVec 1))</span>
<span class="linenos"> 31</span><span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">o0</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_const</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span><span class="w"> </span><span class="n">sortbv1</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;o0&quot;</span><span class="p">);</span>
<span class="linenos"> 32</span><span class="w">  </span><span class="c1">// (declare-const o1 (_ BitVec 1))</span>
<span class="linenos"> 33</span><span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">o1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_const</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span><span class="w"> </span><span class="n">sortbv1</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;o1&quot;</span><span class="p">);</span>
<span class="linenos"> 34</span><span class="w">  </span><span class="c1">// (declare-const s0 (_ BitVec 2))</span>
<span class="linenos"> 35</span><span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">s0</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_const</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span><span class="w"> </span><span class="n">sortbv2</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;s0&quot;</span><span class="p">);</span>
<span class="linenos"> 36</span><span class="w">  </span><span class="c1">// (declare-const s1 (_ BitVec 2))</span>
<span class="linenos"> 37</span><span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">s1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_const</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span><span class="w"> </span><span class="n">sortbv2</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;s1&quot;</span><span class="p">);</span>
<span class="linenos"> 38</span><span class="w">  </span><span class="c1">// (declare-const s2 (_ BitVec 2))</span>
<span class="linenos"> 39</span><span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">s2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_const</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span><span class="w"> </span><span class="n">sortbv2</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;s2&quot;</span><span class="p">);</span>
<span class="linenos"> 40</span><span class="w">  </span><span class="c1">// (declare-const goal (_ BitVec 2))</span>
<span class="linenos"> 41</span><span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">goal</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_const</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span><span class="w"> </span><span class="n">sortbv2</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;goal&quot;</span><span class="p">);</span>
<span class="linenos"> 42</span>
<span class="linenos"> 43</span><span class="w">  </span><span class="c1">// Create bit-vector values zero, one, three.</span>
<span class="linenos"> 44</span><span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">zero</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_bv_zero</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span><span class="w"> </span><span class="n">sortbv2</span><span class="p">);</span>
<span class="linenos"> 45</span><span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">one1</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_bv_one</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span><span class="w"> </span><span class="n">sortbv1</span><span class="p">);</span>
<span class="linenos"> 46</span><span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">one2</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_bv_one</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span><span class="w"> </span><span class="n">sortbv2</span><span class="p">);</span>
<span class="linenos"> 47</span><span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">three</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_bv_value_uint64</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span><span class="w"> </span><span class="n">sortbv2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">);</span>
<span class="linenos"> 48</span>
<span class="linenos"> 49</span><span class="w">  </span><span class="c1">// Add some assertions.</span>
<span class="linenos"> 50</span><span class="w">  </span><span class="n">bitwuzla_assert</span><span class="p">(</span><span class="n">bitwuzla</span><span class="p">,</span>
<span class="linenos"> 51</span><span class="w">                  </span><span class="n">bitwuzla_mk_term2</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span><span class="w"> </span><span class="n">BITWUZLA_KIND_EQUAL</span><span class="p">,</span><span class="w"> </span><span class="n">s0</span><span class="p">,</span><span class="w"> </span><span class="n">zero</span><span class="p">));</span>
<span class="linenos"> 52</span><span class="w">  </span><span class="n">bitwuzla_assert</span><span class="p">(</span><span class="n">bitwuzla</span><span class="p">,</span>
<span class="linenos"> 53</span><span class="w">                  </span><span class="n">bitwuzla_mk_term2</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span><span class="w"> </span><span class="n">BITWUZLA_KIND_EQUAL</span><span class="p">,</span><span class="w"> </span><span class="n">goal</span><span class="p">,</span><span class="w"> </span><span class="n">three</span><span class="p">));</span>
<span class="linenos"> 54</span>
<span class="linenos"> 55</span><span class="w">  </span><span class="c1">// Push, assert, check sat and pop.</span>
<span class="linenos"> 56</span><span class="w">  </span><span class="n">bitwuzla_push</span><span class="p">(</span><span class="n">bitwuzla</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span>
<span class="linenos"> 57</span><span class="w">  </span><span class="n">bitwuzla_assert</span><span class="p">(</span><span class="n">bitwuzla</span><span class="p">,</span>
<span class="linenos"> 58</span><span class="w">                  </span><span class="n">bitwuzla_mk_term2</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span><span class="w"> </span><span class="n">BITWUZLA_KIND_EQUAL</span><span class="p">,</span><span class="w"> </span><span class="n">s0</span><span class="p">,</span><span class="w"> </span><span class="n">goal</span><span class="p">));</span>
<span class="linenos"> 59</span><span class="w">  </span><span class="n">BitwuzlaResult</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_check_sat</span><span class="p">(</span><span class="n">bitwuzla</span><span class="p">);</span>
<span class="linenos"> 60</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Expect: unsat</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="linenos"> 61</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Bitwuzla: %s</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">bitwuzla_result_to_string</span><span class="p">(</span><span class="n">result</span><span class="p">));</span>
<span class="linenos"> 62</span><span class="w">  </span><span class="n">bitwuzla_pop</span><span class="p">(</span><span class="n">bitwuzla</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span>
<span class="linenos"> 63</span>
<span class="linenos"> 64</span><span class="w">  </span><span class="c1">// (assert (= s1 (ite (= o0 (_ sortbv1 1)) (bvadd s0 one) s0)))</span>
<span class="linenos"> 65</span><span class="w">  </span><span class="n">bitwuzla_assert</span><span class="p">(</span><span class="n">bitwuzla</span><span class="p">,</span>
<span class="linenos"> 66</span><span class="w">                  </span><span class="n">bitwuzla_mk_term2</span><span class="p">(</span>
<span class="linenos"> 67</span><span class="w">                      </span><span class="n">tm</span><span class="p">,</span>
<span class="linenos"> 68</span><span class="w">                      </span><span class="n">BITWUZLA_KIND_EQUAL</span><span class="p">,</span>
<span class="linenos"> 69</span><span class="w">                      </span><span class="n">s1</span><span class="p">,</span>
<span class="linenos"> 70</span><span class="w">                      </span><span class="n">bitwuzla_mk_term3</span><span class="p">(</span>
<span class="linenos"> 71</span><span class="w">                          </span><span class="n">tm</span><span class="p">,</span>
<span class="linenos"> 72</span><span class="w">                          </span><span class="n">BITWUZLA_KIND_ITE</span><span class="p">,</span>
<span class="linenos"> 73</span><span class="w">                          </span><span class="n">bitwuzla_mk_term2</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span><span class="w"> </span><span class="n">BITWUZLA_KIND_EQUAL</span><span class="p">,</span><span class="w"> </span><span class="n">o0</span><span class="p">,</span><span class="w"> </span><span class="n">one1</span><span class="p">),</span>
<span class="linenos"> 74</span><span class="w">                          </span><span class="n">bitwuzla_mk_term2</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span><span class="w"> </span><span class="n">BITWUZLA_KIND_BV_ADD</span><span class="p">,</span><span class="w"> </span><span class="n">s0</span><span class="p">,</span><span class="w"> </span><span class="n">one2</span><span class="p">),</span>
<span class="linenos"> 75</span><span class="w">                          </span><span class="n">s0</span><span class="p">)));</span>
<span class="linenos"> 76</span>
<span class="linenos"> 77</span><span class="w">  </span><span class="c1">// Push, assert, check sat and pop.</span>
<span class="linenos"> 78</span><span class="w">  </span><span class="n">bitwuzla_push</span><span class="p">(</span><span class="n">bitwuzla</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span>
<span class="linenos"> 79</span><span class="w">  </span><span class="n">bitwuzla_assert</span><span class="p">(</span><span class="n">bitwuzla</span><span class="p">,</span>
<span class="linenos"> 80</span><span class="w">                  </span><span class="n">bitwuzla_mk_term2</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span><span class="w"> </span><span class="n">BITWUZLA_KIND_EQUAL</span><span class="p">,</span><span class="w"> </span><span class="n">s1</span><span class="p">,</span><span class="w"> </span><span class="n">goal</span><span class="p">));</span>
<span class="linenos"> 81</span><span class="w">  </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_check_sat</span><span class="p">(</span><span class="n">bitwuzla</span><span class="p">);</span>
<span class="linenos"> 82</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Expect: unsat</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="linenos"> 83</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Bitwuzla: %s</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">bitwuzla_result_to_string</span><span class="p">(</span><span class="n">result</span><span class="p">));</span>
<span class="linenos"> 84</span><span class="w">  </span><span class="n">bitwuzla_pop</span><span class="p">(</span><span class="n">bitwuzla</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span>
<span class="linenos"> 85</span>
<span class="linenos"> 86</span><span class="w">  </span><span class="c1">// (assert (= s2 (ite (= o1 (_ sortbv1 1)) (bvadd s1 one) s1)))</span>
<span class="linenos"> 87</span><span class="w">  </span><span class="n">bitwuzla_assert</span><span class="p">(</span><span class="n">bitwuzla</span><span class="p">,</span>
<span class="linenos"> 88</span><span class="w">                  </span><span class="n">bitwuzla_mk_term2</span><span class="p">(</span>
<span class="linenos"> 89</span><span class="w">                      </span><span class="n">tm</span><span class="p">,</span>
<span class="linenos"> 90</span><span class="w">                      </span><span class="n">BITWUZLA_KIND_EQUAL</span><span class="p">,</span>
<span class="linenos"> 91</span><span class="w">                      </span><span class="n">s2</span><span class="p">,</span>
<span class="linenos"> 92</span><span class="w">                      </span><span class="n">bitwuzla_mk_term3</span><span class="p">(</span>
<span class="linenos"> 93</span><span class="w">                          </span><span class="n">tm</span><span class="p">,</span>
<span class="linenos"> 94</span><span class="w">                          </span><span class="n">BITWUZLA_KIND_ITE</span><span class="p">,</span>
<span class="linenos"> 95</span><span class="w">                          </span><span class="n">bitwuzla_mk_term2</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span><span class="w"> </span><span class="n">BITWUZLA_KIND_EQUAL</span><span class="p">,</span><span class="w"> </span><span class="n">o1</span><span class="p">,</span><span class="w"> </span><span class="n">one1</span><span class="p">),</span>
<span class="linenos"> 96</span><span class="w">                          </span><span class="n">bitwuzla_mk_term2</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span><span class="w"> </span><span class="n">BITWUZLA_KIND_BV_ADD</span><span class="p">,</span><span class="w"> </span><span class="n">s1</span><span class="p">,</span><span class="w"> </span><span class="n">one2</span><span class="p">),</span>
<span class="linenos"> 97</span><span class="w">                          </span><span class="n">s1</span><span class="p">)));</span>
<span class="linenos"> 98</span>
<span class="linenos"> 99</span><span class="w">  </span><span class="c1">// Push, assert, check sat and pop.</span>
<span class="linenos">100</span><span class="w">  </span><span class="n">bitwuzla_push</span><span class="p">(</span><span class="n">bitwuzla</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span>
<span class="linenos">101</span><span class="w">  </span><span class="n">bitwuzla_assert</span><span class="p">(</span><span class="n">bitwuzla</span><span class="p">,</span>
<span class="linenos">102</span><span class="w">                  </span><span class="n">bitwuzla_mk_term2</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span><span class="w"> </span><span class="n">BITWUZLA_KIND_EQUAL</span><span class="p">,</span><span class="w"> </span><span class="n">s2</span><span class="p">,</span><span class="w"> </span><span class="n">goal</span><span class="p">));</span>
<span class="linenos">103</span><span class="w">  </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_check_sat</span><span class="p">(</span><span class="n">bitwuzla</span><span class="p">);</span>
<span class="linenos">104</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Expect: unsat</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="linenos">105</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Bitwuzla: %s</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">bitwuzla_result_to_string</span><span class="p">(</span><span class="n">result</span><span class="p">));</span>
<span class="linenos">106</span><span class="w">  </span><span class="n">bitwuzla_pop</span><span class="p">(</span><span class="n">bitwuzla</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span>
<span class="linenos">107</span>
<span class="linenos">108</span><span class="w">  </span><span class="c1">// Finally, delete the Bitwuzla solver, options, and term manager instances.</span>
<span class="linenos">109</span><span class="w">  </span><span class="n">bitwuzla_delete</span><span class="p">(</span><span class="n">bitwuzla</span><span class="p">);</span>
<span class="linenos">110</span><span class="w">  </span><span class="n">bitwuzla_options_delete</span><span class="p">(</span><span class="n">options</span><span class="p">);</span>
<span class="linenos">111</span><span class="w">  </span><span class="n">bitwuzla_term_manager_delete</span><span class="p">(</span><span class="n">tm</span><span class="p">);</span>
<span class="linenos">112</span>
<span class="linenos">113</span><span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">114</span><span class="p">}</span>
</pre></div>
</div>
</div><div aria-labelledby="tab-3-3-2" class="sphinx-tabs-panel" hidden="true" id="panel-3-3-2" name="3-2" role="tabpanel" tabindex="0"><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="c1">###</span>
<span class="linenos"> 2</span><span class="c1"># Bitwuzla: Satisfiability Modulo Theories (SMT) solver.</span>
<span class="linenos"> 3</span><span class="c1">#</span>
<span class="linenos"> 4</span><span class="c1"># Copyright (C) 2023 by the authors listed in the AUTHORS file at</span>
<span class="linenos"> 5</span><span class="c1"># https:#github.com/bitwuzla/bitwuzla/blob/main/AUTHORS</span>
<span class="linenos"> 6</span><span class="c1">#</span>
<span class="linenos"> 7</span><span class="c1"># This file is part of Bitwuzla under the MIT license. See COPYING for more</span>
<span class="linenos"> 8</span><span class="c1"># information at https:#github.com/bitwuzla/bitwuzla/blob/main/COPYING</span>
<span class="linenos"> 9</span><span class="c1">##</span>
<span class="linenos">10</span>
<span class="linenos">11</span><span class="kn">from</span><span class="w"> </span><span class="nn">bitwuzla</span><span class="w"> </span><span class="kn">import</span> <span class="o">*</span>
<span class="linenos">12</span>
<span class="linenos">13</span><span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
<span class="linenos">14</span>
<span class="linenos">15</span>    <span class="c1"># No options configured, create Bitwuzla instance with default options.</span>
<span class="linenos">16</span>    <span class="n">tm</span> <span class="o">=</span> <span class="n">TermManager</span><span class="p">()</span>
<span class="linenos">17</span>    <span class="n">bitwuzla</span> <span class="o">=</span> <span class="n">Bitwuzla</span><span class="p">(</span><span class="n">tm</span><span class="p">)</span>
<span class="linenos">18</span>
<span class="linenos">19</span>    <span class="c1"># Create a bit-vector sort of size 1.</span>
<span class="linenos">20</span>    <span class="n">sortbv1</span> <span class="o">=</span> <span class="n">tm</span><span class="o">.</span><span class="n">mk_bv_sort</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="linenos">21</span>    <span class="c1"># Create a bit-vector sort of size 2.</span>
<span class="linenos">22</span>    <span class="n">sortbv2</span> <span class="o">=</span> <span class="n">tm</span><span class="o">.</span><span class="n">mk_bv_sort</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="linenos">23</span>
<span class="linenos">24</span>    <span class="c1"># Create bit-vector variables.</span>
<span class="linenos">25</span>    <span class="c1"># (declare-const o0 (_ BitVec 1))</span>
<span class="linenos">26</span>    <span class="n">o0</span> <span class="o">=</span> <span class="n">tm</span><span class="o">.</span><span class="n">mk_const</span><span class="p">(</span><span class="n">sortbv1</span><span class="p">,</span> <span class="s1">&#39;o0&#39;</span><span class="p">)</span>
<span class="linenos">27</span>    <span class="c1"># (declare-const o1 (_ BitVec 1))</span>
<span class="linenos">28</span>    <span class="n">o1</span> <span class="o">=</span> <span class="n">tm</span><span class="o">.</span><span class="n">mk_const</span><span class="p">(</span><span class="n">sortbv1</span><span class="p">,</span> <span class="s1">&#39;o1&#39;</span><span class="p">)</span>
<span class="linenos">29</span>    <span class="c1"># (declare-const s0 (_ BitVec 2))</span>
<span class="linenos">30</span>    <span class="n">s0</span> <span class="o">=</span> <span class="n">tm</span><span class="o">.</span><span class="n">mk_const</span><span class="p">(</span><span class="n">sortbv2</span><span class="p">,</span> <span class="s1">&#39;s0&#39;</span><span class="p">)</span>
<span class="linenos">31</span>    <span class="c1"># (declare-const s1 (_ BitVec 2))</span>
<span class="linenos">32</span>    <span class="n">s1</span> <span class="o">=</span> <span class="n">tm</span><span class="o">.</span><span class="n">mk_const</span><span class="p">(</span><span class="n">sortbv2</span><span class="p">,</span> <span class="s1">&#39;s1&#39;</span><span class="p">)</span>
<span class="linenos">33</span>    <span class="c1"># (declare-const s2 (_ BitVec 2))</span>
<span class="linenos">34</span>    <span class="n">s2</span> <span class="o">=</span> <span class="n">tm</span><span class="o">.</span><span class="n">mk_const</span><span class="p">(</span><span class="n">sortbv2</span><span class="p">,</span> <span class="s1">&#39;s2&#39;</span><span class="p">)</span>
<span class="linenos">35</span>    <span class="c1"># (declare-const goal (_ BitVec 2))</span>
<span class="linenos">36</span>    <span class="n">goal</span> <span class="o">=</span> <span class="n">tm</span><span class="o">.</span><span class="n">mk_const</span><span class="p">(</span><span class="n">sortbv2</span><span class="p">,</span> <span class="s1">&#39;goal&#39;</span><span class="p">)</span>
<span class="linenos">37</span>
<span class="linenos">38</span>    <span class="c1"># Create bit-vector values zero, one, three.</span>
<span class="linenos">39</span>    <span class="n">zero</span>  <span class="o">=</span> <span class="n">tm</span><span class="o">.</span><span class="n">mk_bv_zero</span><span class="p">(</span><span class="n">sortbv2</span><span class="p">)</span>
<span class="linenos">40</span>    <span class="n">one1</span>  <span class="o">=</span> <span class="n">tm</span><span class="o">.</span><span class="n">mk_bv_one</span><span class="p">(</span><span class="n">sortbv1</span><span class="p">)</span>
<span class="linenos">41</span>    <span class="n">one2</span>  <span class="o">=</span> <span class="n">tm</span><span class="o">.</span><span class="n">mk_bv_one</span><span class="p">(</span><span class="n">sortbv2</span><span class="p">)</span>
<span class="linenos">42</span>    <span class="n">three</span> <span class="o">=</span> <span class="n">tm</span><span class="o">.</span><span class="n">mk_bv_value</span><span class="p">(</span><span class="n">sortbv2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="linenos">43</span>
<span class="linenos">44</span>    <span class="c1"># Add some assertions.</span>
<span class="linenos">45</span>    <span class="n">bitwuzla</span><span class="o">.</span><span class="n">assert_formula</span><span class="p">(</span><span class="n">tm</span><span class="o">.</span><span class="n">mk_term</span><span class="p">(</span><span class="n">Kind</span><span class="o">.</span><span class="n">EQUAL</span><span class="p">,</span> <span class="p">[</span><span class="n">s0</span><span class="p">,</span> <span class="n">zero</span><span class="p">]))</span>
<span class="linenos">46</span>    <span class="n">bitwuzla</span><span class="o">.</span><span class="n">assert_formula</span><span class="p">(</span><span class="n">tm</span><span class="o">.</span><span class="n">mk_term</span><span class="p">(</span><span class="n">Kind</span><span class="o">.</span><span class="n">EQUAL</span><span class="p">,</span> <span class="p">[</span><span class="n">goal</span><span class="p">,</span> <span class="n">three</span><span class="p">]))</span>
<span class="linenos">47</span>
<span class="linenos">48</span>    <span class="c1"># Push, assert, check sat and pop.</span>
<span class="linenos">49</span>    <span class="n">bitwuzla</span><span class="o">.</span><span class="n">push</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="linenos">50</span>    <span class="n">bitwuzla</span><span class="o">.</span><span class="n">assert_formula</span><span class="p">(</span><span class="n">tm</span><span class="o">.</span><span class="n">mk_term</span><span class="p">(</span><span class="n">Kind</span><span class="o">.</span><span class="n">EQUAL</span><span class="p">,</span> <span class="p">[</span><span class="n">s0</span><span class="p">,</span> <span class="n">goal</span><span class="p">]))</span>
<span class="linenos">51</span>    <span class="n">result</span> <span class="o">=</span> <span class="n">bitwuzla</span><span class="o">.</span><span class="n">check_sat</span><span class="p">()</span>
<span class="linenos">52</span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Expect: unsat&#39;</span><span class="p">)</span>
<span class="linenos">53</span>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Bitwuzla: </span><span class="si">{</span><span class="n">result</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="linenos">54</span>    <span class="n">bitwuzla</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="linenos">55</span>
<span class="linenos">56</span>    <span class="c1"># (assert (= s1 (ite (= o0 (_ sortbv1 1)) (bvadd s0 one) s0)))</span>
<span class="linenos">57</span>    <span class="n">bitwuzla</span><span class="o">.</span><span class="n">assert_formula</span><span class="p">(</span><span class="n">tm</span><span class="o">.</span><span class="n">mk_term</span><span class="p">(</span><span class="n">Kind</span><span class="o">.</span><span class="n">EQUAL</span><span class="p">,</span>
<span class="linenos">58</span>                                    <span class="p">[</span><span class="n">s1</span><span class="p">,</span>
<span class="linenos">59</span>                                     <span class="n">tm</span><span class="o">.</span><span class="n">mk_term</span><span class="p">(</span><span class="n">Kind</span><span class="o">.</span><span class="n">ITE</span><span class="p">,</span>
<span class="linenos">60</span>                                             <span class="p">[</span><span class="n">tm</span><span class="o">.</span><span class="n">mk_term</span><span class="p">(</span><span class="n">Kind</span><span class="o">.</span><span class="n">EQUAL</span><span class="p">,</span> <span class="p">[</span><span class="n">o0</span><span class="p">,</span> <span class="n">one1</span><span class="p">]),</span>
<span class="linenos">61</span>                                              <span class="n">tm</span><span class="o">.</span><span class="n">mk_term</span><span class="p">(</span><span class="n">Kind</span><span class="o">.</span><span class="n">BV_ADD</span><span class="p">,</span> <span class="p">[</span><span class="n">s0</span><span class="p">,</span> <span class="n">one2</span><span class="p">]),</span>
<span class="linenos">62</span>                                              <span class="n">s0</span><span class="p">])]))</span>
<span class="linenos">63</span>
<span class="linenos">64</span>    <span class="c1"># Push, assert, check sat and pop.</span>
<span class="linenos">65</span>    <span class="n">bitwuzla</span><span class="o">.</span><span class="n">push</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="linenos">66</span>    <span class="n">bitwuzla</span><span class="o">.</span><span class="n">assert_formula</span><span class="p">(</span><span class="n">tm</span><span class="o">.</span><span class="n">mk_term</span><span class="p">(</span><span class="n">Kind</span><span class="o">.</span><span class="n">EQUAL</span><span class="p">,</span> <span class="p">[</span><span class="n">s1</span><span class="p">,</span> <span class="n">goal</span><span class="p">]))</span>
<span class="linenos">67</span>    <span class="n">result</span> <span class="o">=</span> <span class="n">bitwuzla</span><span class="o">.</span><span class="n">check_sat</span><span class="p">()</span>
<span class="linenos">68</span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Expect: unsat&#39;</span><span class="p">)</span>
<span class="linenos">69</span>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Bitwuzla: </span><span class="si">{</span><span class="n">result</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="linenos">70</span>    <span class="n">bitwuzla</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="linenos">71</span>
<span class="linenos">72</span>    <span class="c1"># (assert (= s2 (ite (= o1 (_ sortbv1 1)) (bvadd s1 one) s1)))</span>
<span class="linenos">73</span>    <span class="n">bitwuzla</span><span class="o">.</span><span class="n">assert_formula</span><span class="p">(</span><span class="n">tm</span><span class="o">.</span><span class="n">mk_term</span><span class="p">(</span><span class="n">Kind</span><span class="o">.</span><span class="n">EQUAL</span><span class="p">,</span>
<span class="linenos">74</span>                                    <span class="p">[</span><span class="n">s2</span><span class="p">,</span>
<span class="linenos">75</span>                                     <span class="n">tm</span><span class="o">.</span><span class="n">mk_term</span><span class="p">(</span><span class="n">Kind</span><span class="o">.</span><span class="n">ITE</span><span class="p">,</span>
<span class="linenos">76</span>                                             <span class="p">[</span><span class="n">tm</span><span class="o">.</span><span class="n">mk_term</span><span class="p">(</span><span class="n">Kind</span><span class="o">.</span><span class="n">EQUAL</span><span class="p">,</span> <span class="p">[</span><span class="n">o1</span><span class="p">,</span> <span class="n">one1</span><span class="p">]),</span>
<span class="linenos">77</span>                                              <span class="n">tm</span><span class="o">.</span><span class="n">mk_term</span><span class="p">(</span><span class="n">Kind</span><span class="o">.</span><span class="n">BV_ADD</span><span class="p">,</span> <span class="p">[</span><span class="n">s1</span><span class="p">,</span> <span class="n">one2</span><span class="p">]),</span>
<span class="linenos">78</span>                                              <span class="n">s1</span><span class="p">])]))</span>
<span class="linenos">79</span>
<span class="linenos">80</span>    <span class="c1"># Push, assert, check sat and pop.</span>
<span class="linenos">81</span>    <span class="n">bitwuzla</span><span class="o">.</span><span class="n">push</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="linenos">82</span>    <span class="n">bitwuzla</span><span class="o">.</span><span class="n">assert_formula</span><span class="p">(</span><span class="n">tm</span><span class="o">.</span><span class="n">mk_term</span><span class="p">(</span><span class="n">Kind</span><span class="o">.</span><span class="n">EQUAL</span><span class="p">,</span> <span class="p">[</span><span class="n">s2</span><span class="p">,</span> <span class="n">goal</span><span class="p">]))</span>
<span class="linenos">83</span>    <span class="n">result</span> <span class="o">=</span> <span class="n">bitwuzla</span><span class="o">.</span><span class="n">check_sat</span><span class="p">()</span>
<span class="linenos">84</span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Expect: unsat&#39;</span><span class="p">)</span>
<span class="linenos">85</span>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Bitwuzla: </span><span class="si">{</span><span class="n">result</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="linenos">86</span>    <span class="n">bitwuzla</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</div><div aria-labelledby="tab-3-3-3" class="sphinx-tabs-panel" hidden="true" id="panel-3-3-3" name="3-3" role="tabpanel" tabindex="0"><div class="highlight-smtlib notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span>(<span class="k">set-logic</span> QF_BV)
<span class="linenos"> 2</span>
<span class="linenos"> 3</span>(<span class="k">declare-fun</span> <span class="n">o0</span> () (_ <span class="na">BitVec</span> <span class="m">1</span>))
<span class="linenos"> 4</span>(<span class="k">declare-fun</span> <span class="n">o1</span> () (_ <span class="na">BitVec</span> <span class="m">1</span>))
<span class="linenos"> 5</span>(<span class="k">declare-fun</span> <span class="n">s0</span> () (_ <span class="na">BitVec</span> <span class="m">2</span>))
<span class="linenos"> 6</span>(<span class="k">declare-fun</span> <span class="n">s1</span> () (_ <span class="na">BitVec</span> <span class="m">2</span>))
<span class="linenos"> 7</span>(<span class="k">declare-fun</span> <span class="n">s2</span> () (_ <span class="na">BitVec</span> <span class="m">2</span>))
<span class="linenos"> 8</span>(<span class="k">declare-fun</span> <span class="n">goal</span> () (_ <span class="na">BitVec</span> <span class="m">2</span>))
<span class="linenos"> 9</span>
<span class="linenos">10</span>(<span class="k">assert</span> (<span class="o">=</span> <span class="n">s0</span> (_ <span class="s">bv0</span> <span class="m">2</span>)))
<span class="linenos">11</span>(<span class="k">assert</span> (<span class="o">=</span> <span class="n">goal</span> (_ <span class="s">bv3</span> <span class="m">2</span>)))
<span class="linenos">12</span>(<span class="k">push</span> <span class="m">1</span>)
<span class="linenos">13</span>(<span class="k">assert</span> (<span class="o">=</span> <span class="n">s0</span> <span class="n">goal</span>))
<span class="linenos">14</span>(<span class="k">check-sat</span>)
<span class="linenos">15</span>(<span class="k">pop</span> <span class="m">1</span>)
<span class="linenos">16</span>
<span class="linenos">17</span>(<span class="k">assert</span> (<span class="o">=</span> <span class="n">s1</span> (<span class="o">ite</span> (<span class="o">=</span> <span class="n">o0</span> (_ <span class="s">bv1</span> <span class="m">1</span>)) (<span class="o">bvadd</span> <span class="n">s0</span> (_ <span class="s">bv1</span> <span class="m">2</span>)) <span class="n">s0</span>)))
<span class="linenos">18</span>(<span class="k">push</span> <span class="m">1</span>)
<span class="linenos">19</span>(<span class="k">assert</span> (<span class="o">=</span> <span class="n">s1</span> <span class="n">goal</span>))
<span class="linenos">20</span>(<span class="k">check-sat</span>)
<span class="linenos">21</span>(<span class="k">pop</span> <span class="m">1</span>)
<span class="linenos">22</span>
<span class="linenos">23</span>(<span class="k">assert</span> (<span class="o">=</span> <span class="n">s2</span> (<span class="o">ite</span> (<span class="o">=</span> <span class="n">o1</span> (_ <span class="s">bv1</span> <span class="m">1</span>)) (<span class="o">bvadd</span> <span class="n">s1</span> (_ <span class="s">bv1</span> <span class="m">2</span>)) <span class="n">s1</span>)))
<span class="linenos">24</span>(<span class="k">push</span> <span class="m">1</span>)
<span class="linenos">25</span>(<span class="k">assert</span> (<span class="o">=</span> <span class="n">s2</span> <span class="n">goal</span>))
<span class="linenos">26</span>(<span class="k">check-sat</span>)
<span class="linenos">27</span>(<span class="k">pop</span> <span class="m">1</span>)
</pre></div>
</div>
</div></div>
</section>
<section id="incremental-example-with-check-sat-assuming">
<h3><a class="toc-backref" href="#id10" role="doc-backlink">Incremental Example with check-sat-assuming</a><a class="headerlink" href="#incremental-example-with-check-sat-assuming" title="Link to this heading"></a></h3>
<div class="line-block">
<div class="line">This example shows how to implement the example above with <code class="code docutils literal notranslate"><span class="pre">check-sat-assuming</span></code>.</div>
<div class="line">The SMT-LIB input for this example can be found at <a class="reference external" href="https://github.com/bitwuzla/bitwuzla/tree/main/examples/smt2/checksatassuming.smt2">examples/smt2/checksatassuming.smt2</a>.</div>
<div class="line">The source code for this example can be found at <a class="reference external" href="https://github.com/bitwuzla/bitwuzla/tree/main/examples/cpp/checksatassuming.cpp">examples/cpp/checksatassuming.cpp</a>.</div>
</div>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-4-4-0" aria-selected="true" class="sphinx-tabs-tab" id="tab-4-4-0" name="4-0" role="tab" tabindex="0">C++</button><button aria-controls="panel-4-4-1" aria-selected="false" class="sphinx-tabs-tab" id="tab-4-4-1" name="4-1" role="tab" tabindex="-1">C</button><button aria-controls="panel-4-4-2" aria-selected="false" class="sphinx-tabs-tab" id="tab-4-4-2" name="4-2" role="tab" tabindex="-1">Python</button><button aria-controls="panel-4-4-3" aria-selected="false" class="sphinx-tabs-tab" id="tab-4-4-3" name="4-3" role="tab" tabindex="-1">SMT-LIBv2</button></div><div aria-labelledby="tab-4-4-0" class="sphinx-tabs-panel" id="panel-4-4-0" name="4-0" role="tabpanel" tabindex="0"><div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="cm">/***</span>
<span class="linenos"> 2</span><span class="cm"> * Bitwuzla: Satisfiability Modulo Theories (SMT) solver.</span>
<span class="linenos"> 3</span><span class="cm"> *</span>
<span class="linenos"> 4</span><span class="cm"> * Copyright (C) 2023 by the authors listed in the AUTHORS file at</span>
<span class="linenos"> 5</span><span class="cm"> * https://github.com/bitwuzla/bitwuzla/blob/main/AUTHORS</span>
<span class="linenos"> 6</span><span class="cm"> *</span>
<span class="linenos"> 7</span><span class="cm"> * This file is part of Bitwuzla under the MIT license. See COPYING for more</span>
<span class="linenos"> 8</span><span class="cm"> * information at https://github.com/bitwuzla/bitwuzla/blob/main/COPYING</span>
<span class="linenos"> 9</span><span class="cm"> */</span>
<span class="linenos">10</span>
<span class="linenos">11</span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;bitwuzla/cpp/bitwuzla.h&gt;</span>
<span class="linenos">12</span>
<span class="linenos">13</span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;iostream&gt;</span>
<span class="linenos">14</span>
<span class="linenos">15</span><span class="k">using</span><span class="w"> </span><span class="k">namespace</span><span class="w"> </span><span class="nn">bitwuzla</span><span class="p">;</span>
<span class="linenos">16</span>
<span class="linenos">17</span><span class="kt">int</span>
<span class="linenos">18</span><span class="nf">main</span><span class="p">()</span>
<span class="linenos">19</span><span class="p">{</span>
<span class="linenos">20</span><span class="w">  </span><span class="n">Result</span><span class="w"> </span><span class="n">result</span><span class="p">;</span>
<span class="linenos">21</span>
<span class="linenos">22</span><span class="w">  </span><span class="c1">// First, create a term manager instance.</span>
<span class="linenos">23</span><span class="w">  </span><span class="n">TermManager</span><span class="w"> </span><span class="n">tm</span><span class="p">;</span>
<span class="linenos">24</span><span class="w">  </span><span class="c1">// Create a Bitwuzla options instance.</span>
<span class="linenos">25</span><span class="w">  </span><span class="n">Options</span><span class="w"> </span><span class="n">options</span><span class="p">;</span>
<span class="linenos">26</span><span class="w">  </span><span class="c1">// Then, create a Bitwuzla instance.</span>
<span class="linenos">27</span><span class="w">  </span><span class="n">Bitwuzla</span><span class="w"> </span><span class="n">bitwuzla</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span><span class="w"> </span><span class="n">options</span><span class="p">);</span>
<span class="linenos">28</span>
<span class="linenos">29</span><span class="w">  </span><span class="c1">// Create a bit-vector sort of size 1.</span>
<span class="linenos">30</span><span class="w">  </span><span class="n">Sort</span><span class="w"> </span><span class="n">sortbv1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">tm</span><span class="p">.</span><span class="n">mk_bv_sort</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
<span class="linenos">31</span><span class="w">  </span><span class="c1">// Create a bit-vector sort of size 2</span>
<span class="linenos">32</span><span class="w">  </span><span class="n">Sort</span><span class="w"> </span><span class="n">sortbv2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">tm</span><span class="p">.</span><span class="n">mk_bv_sort</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span>
<span class="linenos">33</span>
<span class="linenos">34</span><span class="w">  </span><span class="c1">// Create bit-vector variables.</span>
<span class="linenos">35</span><span class="w">  </span><span class="c1">// (declare-const o0 (_ BitVec 1))</span>
<span class="linenos">36</span><span class="w">  </span><span class="n">Term</span><span class="w"> </span><span class="n">o0</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">tm</span><span class="p">.</span><span class="n">mk_const</span><span class="p">(</span><span class="n">sortbv1</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;o0&quot;</span><span class="p">);</span>
<span class="linenos">37</span><span class="w">  </span><span class="c1">// (declare-const o1 (_ BitVec 1))</span>
<span class="linenos">38</span><span class="w">  </span><span class="n">Term</span><span class="w"> </span><span class="n">o1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">tm</span><span class="p">.</span><span class="n">mk_const</span><span class="p">(</span><span class="n">sortbv1</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;o1&quot;</span><span class="p">);</span>
<span class="linenos">39</span><span class="w">  </span><span class="c1">// (declare-const s0 (_ BitVec 2))</span>
<span class="linenos">40</span><span class="w">  </span><span class="n">Term</span><span class="w"> </span><span class="n">s0</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">tm</span><span class="p">.</span><span class="n">mk_const</span><span class="p">(</span><span class="n">sortbv2</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;s0&quot;</span><span class="p">);</span>
<span class="linenos">41</span><span class="w">  </span><span class="c1">// (declare-const s1 (_ BitVec 2))</span>
<span class="linenos">42</span><span class="w">  </span><span class="n">Term</span><span class="w"> </span><span class="n">s1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">tm</span><span class="p">.</span><span class="n">mk_const</span><span class="p">(</span><span class="n">sortbv2</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;s1&quot;</span><span class="p">);</span>
<span class="linenos">43</span><span class="w">  </span><span class="c1">// (declare-const s2 (_ BitVec 2))</span>
<span class="linenos">44</span><span class="w">  </span><span class="n">Term</span><span class="w"> </span><span class="n">s2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">tm</span><span class="p">.</span><span class="n">mk_const</span><span class="p">(</span><span class="n">sortbv2</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;s2&quot;</span><span class="p">);</span>
<span class="linenos">45</span><span class="w">  </span><span class="c1">// (declare-const goal (_ BitVec 2))</span>
<span class="linenos">46</span><span class="w">  </span><span class="n">Term</span><span class="w"> </span><span class="n">goal</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">tm</span><span class="p">.</span><span class="n">mk_const</span><span class="p">(</span><span class="n">sortbv2</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;goal&quot;</span><span class="p">);</span>
<span class="linenos">47</span>
<span class="linenos">48</span><span class="w">  </span><span class="c1">// Create bit-vector values zero, one, three.</span>
<span class="linenos">49</span><span class="w">  </span><span class="n">Term</span><span class="w"> </span><span class="n">zero</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="n">tm</span><span class="p">.</span><span class="n">mk_bv_zero</span><span class="p">(</span><span class="n">sortbv2</span><span class="p">);</span>
<span class="linenos">50</span><span class="w">  </span><span class="n">Term</span><span class="w"> </span><span class="n">one1</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="n">tm</span><span class="p">.</span><span class="n">mk_bv_one</span><span class="p">(</span><span class="n">sortbv1</span><span class="p">);</span>
<span class="linenos">51</span><span class="w">  </span><span class="n">Term</span><span class="w"> </span><span class="n">one2</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="n">tm</span><span class="p">.</span><span class="n">mk_bv_one</span><span class="p">(</span><span class="n">sortbv2</span><span class="p">);</span>
<span class="linenos">52</span><span class="w">  </span><span class="n">Term</span><span class="w"> </span><span class="n">three</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">tm</span><span class="p">.</span><span class="n">mk_bv_value_uint64</span><span class="p">(</span><span class="n">sortbv2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">);</span>
<span class="linenos">53</span>
<span class="linenos">54</span><span class="w">  </span><span class="c1">// Add some assertions.</span>
<span class="linenos">55</span><span class="w">  </span><span class="n">bitwuzla</span><span class="p">.</span><span class="n">assert_formula</span><span class="p">(</span><span class="n">tm</span><span class="p">.</span><span class="n">mk_term</span><span class="p">(</span><span class="n">Kind</span><span class="o">::</span><span class="n">EQUAL</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="n">s0</span><span class="p">,</span><span class="w"> </span><span class="n">zero</span><span class="p">}));</span>
<span class="linenos">56</span><span class="w">  </span><span class="n">bitwuzla</span><span class="p">.</span><span class="n">assert_formula</span><span class="p">(</span><span class="n">tm</span><span class="p">.</span><span class="n">mk_term</span><span class="p">(</span><span class="n">Kind</span><span class="o">::</span><span class="n">EQUAL</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="n">goal</span><span class="p">,</span><span class="w"> </span><span class="n">three</span><span class="p">}));</span>
<span class="linenos">57</span>
<span class="linenos">58</span><span class="w">  </span><span class="c1">// (check-sat-assuming ((= s0 goal)))</span>
<span class="linenos">59</span><span class="w">  </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla</span><span class="p">.</span><span class="n">check_sat</span><span class="p">({</span><span class="n">tm</span><span class="p">.</span><span class="n">mk_term</span><span class="p">(</span><span class="n">Kind</span><span class="o">::</span><span class="n">EQUAL</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="n">s0</span><span class="p">,</span><span class="w"> </span><span class="n">goal</span><span class="p">})});</span>
<span class="linenos">60</span><span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Expect: unsat&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="linenos">61</span><span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Bitwuzla: &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="linenos">62</span>
<span class="linenos">63</span><span class="w">  </span><span class="c1">// (assert (= s1 (ite (= o0 (_ sortbv1 1)) (bvadd s0 one) s0)))</span>
<span class="linenos">64</span><span class="w">  </span><span class="n">bitwuzla</span><span class="p">.</span><span class="n">assert_formula</span><span class="p">(</span>
<span class="linenos">65</span><span class="w">      </span><span class="n">tm</span><span class="p">.</span><span class="n">mk_term</span><span class="p">(</span><span class="n">Kind</span><span class="o">::</span><span class="n">EQUAL</span><span class="p">,</span>
<span class="linenos">66</span><span class="w">                 </span><span class="p">{</span><span class="n">s1</span><span class="p">,</span>
<span class="linenos">67</span><span class="w">                  </span><span class="n">tm</span><span class="p">.</span><span class="n">mk_term</span><span class="p">(</span><span class="n">Kind</span><span class="o">::</span><span class="n">ITE</span><span class="p">,</span>
<span class="linenos">68</span><span class="w">                             </span><span class="p">{</span><span class="n">tm</span><span class="p">.</span><span class="n">mk_term</span><span class="p">(</span><span class="n">Kind</span><span class="o">::</span><span class="n">EQUAL</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="n">o0</span><span class="p">,</span><span class="w"> </span><span class="n">one1</span><span class="p">}),</span>
<span class="linenos">69</span><span class="w">                              </span><span class="n">tm</span><span class="p">.</span><span class="n">mk_term</span><span class="p">(</span><span class="n">Kind</span><span class="o">::</span><span class="n">BV_ADD</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="n">s0</span><span class="p">,</span><span class="w"> </span><span class="n">one2</span><span class="p">}),</span>
<span class="linenos">70</span><span class="w">                              </span><span class="n">s0</span><span class="p">})}));</span>
<span class="linenos">71</span>
<span class="linenos">72</span><span class="w">  </span><span class="c1">// (check-sat-assuming ((= s1 goal)))</span>
<span class="linenos">73</span><span class="w">  </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla</span><span class="p">.</span><span class="n">check_sat</span><span class="p">({</span><span class="n">tm</span><span class="p">.</span><span class="n">mk_term</span><span class="p">(</span><span class="n">Kind</span><span class="o">::</span><span class="n">EQUAL</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="n">s1</span><span class="p">,</span><span class="w"> </span><span class="n">goal</span><span class="p">})});</span>
<span class="linenos">74</span><span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Expect: unsat&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="linenos">75</span><span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Bitwuzla: &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="linenos">76</span>
<span class="linenos">77</span><span class="w">  </span><span class="c1">// (assert (= s2 (ite (= o1 (_ sortbv1 1)) (bvadd s1 one) s1)))</span>
<span class="linenos">78</span><span class="w">  </span><span class="n">bitwuzla</span><span class="p">.</span><span class="n">assert_formula</span><span class="p">(</span>
<span class="linenos">79</span><span class="w">      </span><span class="n">tm</span><span class="p">.</span><span class="n">mk_term</span><span class="p">(</span><span class="n">Kind</span><span class="o">::</span><span class="n">EQUAL</span><span class="p">,</span>
<span class="linenos">80</span><span class="w">                 </span><span class="p">{</span><span class="n">s2</span><span class="p">,</span>
<span class="linenos">81</span><span class="w">                  </span><span class="n">tm</span><span class="p">.</span><span class="n">mk_term</span><span class="p">(</span><span class="n">Kind</span><span class="o">::</span><span class="n">ITE</span><span class="p">,</span>
<span class="linenos">82</span><span class="w">                             </span><span class="p">{</span><span class="n">tm</span><span class="p">.</span><span class="n">mk_term</span><span class="p">(</span><span class="n">Kind</span><span class="o">::</span><span class="n">EQUAL</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="n">o1</span><span class="p">,</span><span class="w"> </span><span class="n">one1</span><span class="p">}),</span>
<span class="linenos">83</span><span class="w">                              </span><span class="n">tm</span><span class="p">.</span><span class="n">mk_term</span><span class="p">(</span><span class="n">Kind</span><span class="o">::</span><span class="n">BV_ADD</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="n">s1</span><span class="p">,</span><span class="w"> </span><span class="n">one2</span><span class="p">}),</span>
<span class="linenos">84</span><span class="w">                              </span><span class="n">s1</span><span class="p">})}));</span>
<span class="linenos">85</span>
<span class="linenos">86</span><span class="w">  </span><span class="c1">// (check-sat-assuming ((= s2 goal)))</span>
<span class="linenos">87</span><span class="w">  </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla</span><span class="p">.</span><span class="n">check_sat</span><span class="p">({</span><span class="n">tm</span><span class="p">.</span><span class="n">mk_term</span><span class="p">(</span><span class="n">Kind</span><span class="o">::</span><span class="n">EQUAL</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="n">s2</span><span class="p">,</span><span class="w"> </span><span class="n">goal</span><span class="p">})});</span>
<span class="linenos">88</span><span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Expect: unsat&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="linenos">89</span><span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Bitwuzla: &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="linenos">90</span>
<span class="linenos">91</span><span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">92</span><span class="p">}</span>
</pre></div>
</div>
</div><div aria-labelledby="tab-4-4-1" class="sphinx-tabs-panel" hidden="true" id="panel-4-4-1" name="4-1" role="tabpanel" tabindex="0"><div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="linenos">  1</span><span class="cm">/***</span>
<span class="linenos">  2</span><span class="cm"> * Bitwuzla: Satisfiability Modulo Theories (SMT) solver.</span>
<span class="linenos">  3</span><span class="cm"> *</span>
<span class="linenos">  4</span><span class="cm"> * Copyright (C) 2021 by the authors listed in the AUTHORS file at</span>
<span class="linenos">  5</span><span class="cm"> * https://github.com/bitwuzla/bitwuzla/blob/main/AUTHORS</span>
<span class="linenos">  6</span><span class="cm"> *</span>
<span class="linenos">  7</span><span class="cm"> * This file is part of Bitwuzla under the MIT license. See COPYING for more</span>
<span class="linenos">  8</span><span class="cm"> * information at https://github.com/bitwuzla/bitwuzla/blob/main/COPYING</span>
<span class="linenos">  9</span><span class="cm"> */</span>
<span class="linenos"> 10</span>
<span class="linenos"> 11</span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;bitwuzla/c/bitwuzla.h&gt;</span>
<span class="linenos"> 12</span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;stdio.h&gt;</span>
<span class="linenos"> 13</span>
<span class="linenos"> 14</span><span class="kt">int</span>
<span class="linenos"> 15</span><span class="nf">main</span><span class="p">()</span>
<span class="linenos"> 16</span><span class="p">{</span>
<span class="linenos"> 17</span><span class="w">  </span><span class="n">BitwuzlaResult</span><span class="w"> </span><span class="n">result</span><span class="p">;</span>
<span class="linenos"> 18</span>
<span class="linenos"> 19</span><span class="w">  </span><span class="c1">// First, create a term manager instance.</span>
<span class="linenos"> 20</span><span class="w">  </span><span class="n">BitwuzlaTermManager</span><span class="o">*</span><span class="w"> </span><span class="n">tm</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_term_manager_new</span><span class="p">();</span>
<span class="linenos"> 21</span><span class="w">  </span><span class="c1">// Create a Bitwuzla options instance.</span>
<span class="linenos"> 22</span><span class="w">  </span><span class="n">BitwuzlaOptions</span><span class="o">*</span><span class="w"> </span><span class="n">options</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_options_new</span><span class="p">();</span>
<span class="linenos"> 23</span><span class="w">  </span><span class="c1">// Then, create a Bitwuzla instance.</span>
<span class="linenos"> 24</span><span class="w">  </span><span class="n">Bitwuzla</span><span class="o">*</span><span class="w"> </span><span class="n">bitwuzla</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_new</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span><span class="w"> </span><span class="n">options</span><span class="p">);</span>
<span class="linenos"> 25</span>
<span class="linenos"> 26</span><span class="w">  </span><span class="c1">// Create a bit-vector sort of size 1.</span>
<span class="linenos"> 27</span><span class="w">  </span><span class="n">BitwuzlaSort</span><span class="w"> </span><span class="n">sortbv1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_bv_sort</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span>
<span class="linenos"> 28</span><span class="w">  </span><span class="c1">// Create a bit-vector sort of size 2</span>
<span class="linenos"> 29</span><span class="w">  </span><span class="n">BitwuzlaSort</span><span class="w"> </span><span class="n">sortbv2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_bv_sort</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">);</span>
<span class="linenos"> 30</span>
<span class="linenos"> 31</span><span class="w">  </span><span class="c1">// Create bit-vector variables.</span>
<span class="linenos"> 32</span><span class="w">  </span><span class="c1">// (declare-const o0 (_ BitVec 1))</span>
<span class="linenos"> 33</span><span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">o0</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_const</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span><span class="w"> </span><span class="n">sortbv1</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;o0&quot;</span><span class="p">);</span>
<span class="linenos"> 34</span><span class="w">  </span><span class="c1">// (declare-const o1 (_ BitVec 1))</span>
<span class="linenos"> 35</span><span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">o1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_const</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span><span class="w"> </span><span class="n">sortbv1</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;o1&quot;</span><span class="p">);</span>
<span class="linenos"> 36</span><span class="w">  </span><span class="c1">// (declare-const s0 (_ BitVec 2))</span>
<span class="linenos"> 37</span><span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">s0</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_const</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span><span class="w"> </span><span class="n">sortbv2</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;s0&quot;</span><span class="p">);</span>
<span class="linenos"> 38</span><span class="w">  </span><span class="c1">// (declare-const s1 (_ BitVec 2))</span>
<span class="linenos"> 39</span><span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">s1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_const</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span><span class="w"> </span><span class="n">sortbv2</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;s1&quot;</span><span class="p">);</span>
<span class="linenos"> 40</span><span class="w">  </span><span class="c1">// (declare-const s2 (_ BitVec 2))</span>
<span class="linenos"> 41</span><span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">s2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_const</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span><span class="w"> </span><span class="n">sortbv2</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;s2&quot;</span><span class="p">);</span>
<span class="linenos"> 42</span><span class="w">  </span><span class="c1">// (declare-const goal (_ BitVec 2))</span>
<span class="linenos"> 43</span><span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">goal</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_const</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span><span class="w"> </span><span class="n">sortbv2</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;goal&quot;</span><span class="p">);</span>
<span class="linenos"> 44</span>
<span class="linenos"> 45</span><span class="w">  </span><span class="c1">// Create bit-vector values zero, one, three.</span>
<span class="linenos"> 46</span><span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">zero</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_bv_zero</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span><span class="w"> </span><span class="n">sortbv2</span><span class="p">);</span>
<span class="linenos"> 47</span><span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">one1</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_bv_one</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span><span class="w"> </span><span class="n">sortbv1</span><span class="p">);</span>
<span class="linenos"> 48</span><span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">one2</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_bv_one</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span><span class="w"> </span><span class="n">sortbv2</span><span class="p">);</span>
<span class="linenos"> 49</span><span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">three</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_bv_value_uint64</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span><span class="w"> </span><span class="n">sortbv2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">);</span>
<span class="linenos"> 50</span>
<span class="linenos"> 51</span><span class="w">  </span><span class="c1">// Add some assertions.</span>
<span class="linenos"> 52</span><span class="w">  </span><span class="n">bitwuzla_assert</span><span class="p">(</span><span class="n">bitwuzla</span><span class="p">,</span>
<span class="linenos"> 53</span><span class="w">                  </span><span class="n">bitwuzla_mk_term2</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span><span class="w"> </span><span class="n">BITWUZLA_KIND_EQUAL</span><span class="p">,</span><span class="w"> </span><span class="n">s0</span><span class="p">,</span><span class="w"> </span><span class="n">zero</span><span class="p">));</span>
<span class="linenos"> 54</span><span class="w">  </span><span class="n">bitwuzla_assert</span><span class="p">(</span><span class="n">bitwuzla</span><span class="p">,</span>
<span class="linenos"> 55</span><span class="w">                  </span><span class="n">bitwuzla_mk_term2</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span><span class="w"> </span><span class="n">BITWUZLA_KIND_EQUAL</span><span class="p">,</span><span class="w"> </span><span class="n">goal</span><span class="p">,</span><span class="w"> </span><span class="n">three</span><span class="p">));</span>
<span class="linenos"> 56</span>
<span class="linenos"> 57</span><span class="w">  </span><span class="c1">// (check-sat-assuming ((= s0 goal)))</span>
<span class="linenos"> 58</span><span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">assumptions</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 59</span><span class="w">      </span><span class="n">bitwuzla_mk_term2</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span><span class="w"> </span><span class="n">BITWUZLA_KIND_EQUAL</span><span class="p">,</span><span class="w"> </span><span class="n">s0</span><span class="p">,</span><span class="w"> </span><span class="n">goal</span><span class="p">)};</span>
<span class="linenos"> 60</span><span class="w">  </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_check_sat_assuming</span><span class="p">(</span><span class="n">bitwuzla</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">assumptions</span><span class="p">);</span>
<span class="linenos"> 61</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Expect: unsat</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="linenos"> 62</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Bitwuzla: %s</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">bitwuzla_result_to_string</span><span class="p">(</span><span class="n">result</span><span class="p">));</span>
<span class="linenos"> 63</span>
<span class="linenos"> 64</span><span class="w">  </span><span class="c1">// (assert (= s1 (ite (= o0 (_ sortbv1 1)) (bvadd s0 one) s0)))</span>
<span class="linenos"> 65</span><span class="w">  </span><span class="n">bitwuzla_assert</span><span class="p">(</span><span class="n">bitwuzla</span><span class="p">,</span>
<span class="linenos"> 66</span><span class="w">                  </span><span class="n">bitwuzla_mk_term2</span><span class="p">(</span>
<span class="linenos"> 67</span><span class="w">                      </span><span class="n">tm</span><span class="p">,</span>
<span class="linenos"> 68</span><span class="w">                      </span><span class="n">BITWUZLA_KIND_EQUAL</span><span class="p">,</span>
<span class="linenos"> 69</span><span class="w">                      </span><span class="n">s1</span><span class="p">,</span>
<span class="linenos"> 70</span><span class="w">                      </span><span class="n">bitwuzla_mk_term3</span><span class="p">(</span>
<span class="linenos"> 71</span><span class="w">                          </span><span class="n">tm</span><span class="p">,</span>
<span class="linenos"> 72</span><span class="w">                          </span><span class="n">BITWUZLA_KIND_ITE</span><span class="p">,</span>
<span class="linenos"> 73</span><span class="w">                          </span><span class="n">bitwuzla_mk_term2</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span><span class="w"> </span><span class="n">BITWUZLA_KIND_EQUAL</span><span class="p">,</span><span class="w"> </span><span class="n">o0</span><span class="p">,</span><span class="w"> </span><span class="n">one1</span><span class="p">),</span>
<span class="linenos"> 74</span><span class="w">                          </span><span class="n">bitwuzla_mk_term2</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span><span class="w"> </span><span class="n">BITWUZLA_KIND_BV_ADD</span><span class="p">,</span><span class="w"> </span><span class="n">s0</span><span class="p">,</span><span class="w"> </span><span class="n">one2</span><span class="p">),</span>
<span class="linenos"> 75</span><span class="w">                          </span><span class="n">s0</span><span class="p">)));</span>
<span class="linenos"> 76</span>
<span class="linenos"> 77</span><span class="w">  </span><span class="c1">// (check-sat-assuming ((= s1 goal)))</span>
<span class="linenos"> 78</span><span class="w">  </span><span class="n">assumptions</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_term2</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span><span class="w"> </span><span class="n">BITWUZLA_KIND_EQUAL</span><span class="p">,</span><span class="w"> </span><span class="n">s1</span><span class="p">,</span><span class="w"> </span><span class="n">goal</span><span class="p">);</span>
<span class="linenos"> 79</span><span class="w">  </span><span class="n">result</span><span class="w">         </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_check_sat_assuming</span><span class="p">(</span><span class="n">bitwuzla</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">assumptions</span><span class="p">);</span>
<span class="linenos"> 80</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Expect: unsat</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="linenos"> 81</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Bitwuzla: %s</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">bitwuzla_result_to_string</span><span class="p">(</span><span class="n">result</span><span class="p">));</span>
<span class="linenos"> 82</span>
<span class="linenos"> 83</span><span class="w">  </span><span class="c1">// (assert (= s2 (ite (= o1 (_ sortbv1 1)) (bvadd s1 one) s1)))</span>
<span class="linenos"> 84</span><span class="w">  </span><span class="n">bitwuzla_assert</span><span class="p">(</span><span class="n">bitwuzla</span><span class="p">,</span>
<span class="linenos"> 85</span><span class="w">                  </span><span class="n">bitwuzla_mk_term2</span><span class="p">(</span>
<span class="linenos"> 86</span><span class="w">                      </span><span class="n">tm</span><span class="p">,</span>
<span class="linenos"> 87</span><span class="w">                      </span><span class="n">BITWUZLA_KIND_EQUAL</span><span class="p">,</span>
<span class="linenos"> 88</span><span class="w">                      </span><span class="n">s2</span><span class="p">,</span>
<span class="linenos"> 89</span><span class="w">                      </span><span class="n">bitwuzla_mk_term3</span><span class="p">(</span>
<span class="linenos"> 90</span><span class="w">                          </span><span class="n">tm</span><span class="p">,</span>
<span class="linenos"> 91</span><span class="w">                          </span><span class="n">BITWUZLA_KIND_ITE</span><span class="p">,</span>
<span class="linenos"> 92</span><span class="w">                          </span><span class="n">bitwuzla_mk_term2</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span><span class="w"> </span><span class="n">BITWUZLA_KIND_EQUAL</span><span class="p">,</span><span class="w"> </span><span class="n">o1</span><span class="p">,</span><span class="w"> </span><span class="n">one1</span><span class="p">),</span>
<span class="linenos"> 93</span><span class="w">                          </span><span class="n">bitwuzla_mk_term2</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span><span class="w"> </span><span class="n">BITWUZLA_KIND_BV_ADD</span><span class="p">,</span><span class="w"> </span><span class="n">s1</span><span class="p">,</span><span class="w"> </span><span class="n">one2</span><span class="p">),</span>
<span class="linenos"> 94</span><span class="w">                          </span><span class="n">s1</span><span class="p">)));</span>
<span class="linenos"> 95</span>
<span class="linenos"> 96</span><span class="w">  </span><span class="c1">// (check-sat-assuming ((= s2 goal)))</span>
<span class="linenos"> 97</span><span class="w">  </span><span class="n">assumptions</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_term2</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span><span class="w"> </span><span class="n">BITWUZLA_KIND_EQUAL</span><span class="p">,</span><span class="w"> </span><span class="n">s2</span><span class="p">,</span><span class="w"> </span><span class="n">goal</span><span class="p">);</span>
<span class="linenos"> 98</span><span class="w">  </span><span class="n">result</span><span class="w">         </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_check_sat_assuming</span><span class="p">(</span><span class="n">bitwuzla</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">assumptions</span><span class="p">);</span>
<span class="linenos"> 99</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Expect: unsat</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="linenos">100</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Bitwuzla: %s</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">bitwuzla_result_to_string</span><span class="p">(</span><span class="n">result</span><span class="p">));</span>
<span class="linenos">101</span>
<span class="linenos">102</span><span class="w">  </span><span class="c1">// Finally, delete the Bitwuzla solver, options, and term manager instances.</span>
<span class="linenos">103</span><span class="w">  </span><span class="n">bitwuzla_delete</span><span class="p">(</span><span class="n">bitwuzla</span><span class="p">);</span>
<span class="linenos">104</span><span class="w">  </span><span class="n">bitwuzla_options_delete</span><span class="p">(</span><span class="n">options</span><span class="p">);</span>
<span class="linenos">105</span><span class="w">  </span><span class="n">bitwuzla_term_manager_delete</span><span class="p">(</span><span class="n">tm</span><span class="p">);</span>
<span class="linenos">106</span>
<span class="linenos">107</span><span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">108</span><span class="p">}</span>
</pre></div>
</div>
</div><div aria-labelledby="tab-4-4-2" class="sphinx-tabs-panel" hidden="true" id="panel-4-4-2" name="4-2" role="tabpanel" tabindex="0"><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="c1">###</span>
<span class="linenos"> 2</span><span class="c1"># Bitwuzla: Satisfiability Modulo Theories (SMT) solver.</span>
<span class="linenos"> 3</span><span class="c1">#</span>
<span class="linenos"> 4</span><span class="c1"># Copyright (C) 2023 by the authors listed in the AUTHORS file at</span>
<span class="linenos"> 5</span><span class="c1"># https://github.com/bitwuzla/bitwuzla/blob/main/AUTHORS</span>
<span class="linenos"> 6</span><span class="c1">#</span>
<span class="linenos"> 7</span><span class="c1"># This file is part of Bitwuzla under the MIT license. See COPYING for more</span>
<span class="linenos"> 8</span><span class="c1"># information at https://github.com/bitwuzla/bitwuzla/blob/main/COPYING</span>
<span class="linenos"> 9</span><span class="c1">##</span>
<span class="linenos">10</span>
<span class="linenos">11</span><span class="kn">from</span><span class="w"> </span><span class="nn">bitwuzla</span><span class="w"> </span><span class="kn">import</span> <span class="o">*</span>
<span class="linenos">12</span>
<span class="linenos">13</span><span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
<span class="linenos">14</span>
<span class="linenos">15</span>    <span class="c1"># No options configured, create Bitwuzla instance with default options.</span>
<span class="linenos">16</span>    <span class="n">tm</span> <span class="o">=</span> <span class="n">TermManager</span><span class="p">()</span>
<span class="linenos">17</span>    <span class="n">bitwuzla</span> <span class="o">=</span> <span class="n">Bitwuzla</span><span class="p">(</span><span class="n">tm</span><span class="p">)</span>
<span class="linenos">18</span>
<span class="linenos">19</span>    <span class="c1"># Create a bit-vector sort of size 1.</span>
<span class="linenos">20</span>    <span class="n">sortbv1</span> <span class="o">=</span> <span class="n">tm</span><span class="o">.</span><span class="n">mk_bv_sort</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="linenos">21</span>    <span class="c1"># Create a bit-vector sort of size 2</span>
<span class="linenos">22</span>    <span class="n">sortbv2</span> <span class="o">=</span> <span class="n">tm</span><span class="o">.</span><span class="n">mk_bv_sort</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="linenos">23</span>
<span class="linenos">24</span>    <span class="c1"># Create bit-vector variables.</span>
<span class="linenos">25</span>    <span class="c1"># (declare-const o0 (_ BitVec 1))</span>
<span class="linenos">26</span>    <span class="n">o0</span> <span class="o">=</span> <span class="n">tm</span><span class="o">.</span><span class="n">mk_const</span><span class="p">(</span><span class="n">sortbv1</span><span class="p">,</span> <span class="s1">&#39;o0&#39;</span><span class="p">)</span>
<span class="linenos">27</span>    <span class="c1"># (declare-const o1 (_ BitVec 1))</span>
<span class="linenos">28</span>    <span class="n">o1</span> <span class="o">=</span> <span class="n">tm</span><span class="o">.</span><span class="n">mk_const</span><span class="p">(</span><span class="n">sortbv1</span><span class="p">,</span> <span class="s1">&#39;o1&#39;</span><span class="p">)</span>
<span class="linenos">29</span>    <span class="c1"># (declare-const s0 (_ BitVec 2))</span>
<span class="linenos">30</span>    <span class="n">s0</span> <span class="o">=</span> <span class="n">tm</span><span class="o">.</span><span class="n">mk_const</span><span class="p">(</span><span class="n">sortbv2</span><span class="p">,</span> <span class="s1">&#39;s0&#39;</span><span class="p">)</span>
<span class="linenos">31</span>    <span class="c1"># (declare-const s1 (_ BitVec 2))</span>
<span class="linenos">32</span>    <span class="n">s1</span> <span class="o">=</span> <span class="n">tm</span><span class="o">.</span><span class="n">mk_const</span><span class="p">(</span><span class="n">sortbv2</span><span class="p">,</span> <span class="s1">&#39;s1&#39;</span><span class="p">)</span>
<span class="linenos">33</span>    <span class="c1"># (declare-const s2 (_ BitVec 2))</span>
<span class="linenos">34</span>    <span class="n">s2</span> <span class="o">=</span> <span class="n">tm</span><span class="o">.</span><span class="n">mk_const</span><span class="p">(</span><span class="n">sortbv2</span><span class="p">,</span> <span class="s1">&#39;s2&#39;</span><span class="p">)</span>
<span class="linenos">35</span>    <span class="c1"># (declare-const goal (_ BitVec 2))</span>
<span class="linenos">36</span>    <span class="n">goal</span> <span class="o">=</span> <span class="n">tm</span><span class="o">.</span><span class="n">mk_const</span><span class="p">(</span><span class="n">sortbv2</span><span class="p">,</span> <span class="s1">&#39;goal&#39;</span><span class="p">)</span>
<span class="linenos">37</span>
<span class="linenos">38</span>    <span class="c1"># Create bit-vector values zero, one, three.</span>
<span class="linenos">39</span>    <span class="n">zero</span>  <span class="o">=</span> <span class="n">tm</span><span class="o">.</span><span class="n">mk_bv_zero</span><span class="p">(</span><span class="n">sortbv2</span><span class="p">)</span>
<span class="linenos">40</span>    <span class="n">one1</span>  <span class="o">=</span> <span class="n">tm</span><span class="o">.</span><span class="n">mk_bv_one</span><span class="p">(</span><span class="n">sortbv1</span><span class="p">)</span>
<span class="linenos">41</span>    <span class="n">one2</span>  <span class="o">=</span> <span class="n">tm</span><span class="o">.</span><span class="n">mk_bv_one</span><span class="p">(</span><span class="n">sortbv2</span><span class="p">)</span>
<span class="linenos">42</span>    <span class="n">three</span> <span class="o">=</span> <span class="n">tm</span><span class="o">.</span><span class="n">mk_bv_value</span><span class="p">(</span><span class="n">sortbv2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="linenos">43</span>
<span class="linenos">44</span>    <span class="c1"># Add some assertions.</span>
<span class="linenos">45</span>    <span class="n">bitwuzla</span><span class="o">.</span><span class="n">assert_formula</span><span class="p">(</span><span class="n">tm</span><span class="o">.</span><span class="n">mk_term</span><span class="p">(</span><span class="n">Kind</span><span class="o">.</span><span class="n">EQUAL</span><span class="p">,</span> <span class="p">[</span><span class="n">s0</span><span class="p">,</span> <span class="n">zero</span><span class="p">]))</span>
<span class="linenos">46</span>    <span class="n">bitwuzla</span><span class="o">.</span><span class="n">assert_formula</span><span class="p">(</span><span class="n">tm</span><span class="o">.</span><span class="n">mk_term</span><span class="p">(</span><span class="n">Kind</span><span class="o">.</span><span class="n">EQUAL</span><span class="p">,</span> <span class="p">[</span><span class="n">goal</span><span class="p">,</span> <span class="n">three</span><span class="p">]))</span>
<span class="linenos">47</span>
<span class="linenos">48</span>    <span class="c1"># (check-sat-assuming ((= s0 goal)))</span>
<span class="linenos">49</span>    <span class="n">result</span> <span class="o">=</span> <span class="n">bitwuzla</span><span class="o">.</span><span class="n">check_sat</span><span class="p">(</span><span class="n">tm</span><span class="o">.</span><span class="n">mk_term</span><span class="p">(</span><span class="n">Kind</span><span class="o">.</span><span class="n">EQUAL</span><span class="p">,</span> <span class="p">[</span><span class="n">s0</span><span class="p">,</span> <span class="n">goal</span><span class="p">]))</span>
<span class="linenos">50</span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Expect: unsat&#39;</span><span class="p">)</span>
<span class="linenos">51</span>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Bitwuzla: </span><span class="si">{</span><span class="n">result</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="linenos">52</span>
<span class="linenos">53</span>    <span class="c1"># (assert (= s1 (ite (= o0 (_ sortbv1 1)) (bvadd s0 one) s0)))</span>
<span class="linenos">54</span>    <span class="n">bitwuzla</span><span class="o">.</span><span class="n">assert_formula</span><span class="p">(</span><span class="n">tm</span><span class="o">.</span><span class="n">mk_term</span><span class="p">(</span><span class="n">Kind</span><span class="o">.</span><span class="n">EQUAL</span><span class="p">,</span>
<span class="linenos">55</span>                                    <span class="p">[</span><span class="n">s1</span><span class="p">,</span>
<span class="linenos">56</span>                                     <span class="n">tm</span><span class="o">.</span><span class="n">mk_term</span><span class="p">(</span><span class="n">Kind</span><span class="o">.</span><span class="n">ITE</span><span class="p">,</span>
<span class="linenos">57</span>                                             <span class="p">[</span><span class="n">tm</span><span class="o">.</span><span class="n">mk_term</span><span class="p">(</span><span class="n">Kind</span><span class="o">.</span><span class="n">EQUAL</span><span class="p">,</span> <span class="p">[</span><span class="n">o0</span><span class="p">,</span> <span class="n">one1</span><span class="p">]),</span>
<span class="linenos">58</span>                                              <span class="n">tm</span><span class="o">.</span><span class="n">mk_term</span><span class="p">(</span><span class="n">Kind</span><span class="o">.</span><span class="n">BV_ADD</span><span class="p">,</span> <span class="p">[</span><span class="n">s0</span><span class="p">,</span> <span class="n">one2</span><span class="p">]),</span>
<span class="linenos">59</span>                                              <span class="n">s0</span><span class="p">])]))</span>
<span class="linenos">60</span>
<span class="linenos">61</span>    <span class="c1"># (check-sat-assuming ((= s1 goal)))</span>
<span class="linenos">62</span>    <span class="n">result</span> <span class="o">=</span> <span class="n">bitwuzla</span><span class="o">.</span><span class="n">check_sat</span><span class="p">(</span><span class="n">tm</span><span class="o">.</span><span class="n">mk_term</span><span class="p">(</span><span class="n">Kind</span><span class="o">.</span><span class="n">EQUAL</span><span class="p">,</span> <span class="p">[</span><span class="n">s1</span><span class="p">,</span> <span class="n">goal</span><span class="p">]))</span>
<span class="linenos">63</span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Expect: unsat&#39;</span><span class="p">)</span>
<span class="linenos">64</span>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Bitwuzla: </span><span class="si">{</span><span class="n">result</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="linenos">65</span>
<span class="linenos">66</span>    <span class="c1"># (assert (= s2 (ite (= o1 (_ sortbv1 1)) (bvadd s1 one) s1)))</span>
<span class="linenos">67</span>    <span class="n">bitwuzla</span><span class="o">.</span><span class="n">assert_formula</span><span class="p">(</span><span class="n">tm</span><span class="o">.</span><span class="n">mk_term</span><span class="p">(</span><span class="n">Kind</span><span class="o">.</span><span class="n">EQUAL</span><span class="p">,</span>
<span class="linenos">68</span>                                     <span class="p">[</span><span class="n">s2</span><span class="p">,</span>
<span class="linenos">69</span>                                      <span class="n">tm</span><span class="o">.</span><span class="n">mk_term</span><span class="p">(</span><span class="n">Kind</span><span class="o">.</span><span class="n">ITE</span><span class="p">,</span>
<span class="linenos">70</span>                                              <span class="p">[</span><span class="n">tm</span><span class="o">.</span><span class="n">mk_term</span><span class="p">(</span><span class="n">Kind</span><span class="o">.</span><span class="n">EQUAL</span><span class="p">,</span> <span class="p">[</span><span class="n">o1</span><span class="p">,</span> <span class="n">one1</span><span class="p">]),</span>
<span class="linenos">71</span>                                               <span class="n">tm</span><span class="o">.</span><span class="n">mk_term</span><span class="p">(</span><span class="n">Kind</span><span class="o">.</span><span class="n">BV_ADD</span><span class="p">,</span> <span class="p">[</span><span class="n">s1</span><span class="p">,</span> <span class="n">one2</span><span class="p">]),</span>
<span class="linenos">72</span>                                               <span class="n">s1</span><span class="p">])]))</span>
<span class="linenos">73</span>
<span class="linenos">74</span>    <span class="c1"># (check-sat-assuming ((= s2 goal)))</span>
<span class="linenos">75</span>    <span class="n">result</span> <span class="o">=</span> <span class="n">bitwuzla</span><span class="o">.</span><span class="n">check_sat</span><span class="p">(</span><span class="n">tm</span><span class="o">.</span><span class="n">mk_term</span><span class="p">(</span><span class="n">Kind</span><span class="o">.</span><span class="n">EQUAL</span><span class="p">,</span> <span class="p">[</span><span class="n">s2</span><span class="p">,</span> <span class="n">goal</span><span class="p">]))</span>
<span class="linenos">76</span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Expect: unsat&#39;</span><span class="p">)</span>
<span class="linenos">77</span>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Bitwuzla: </span><span class="si">{</span><span class="n">result</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div><div aria-labelledby="tab-4-4-3" class="sphinx-tabs-panel" hidden="true" id="panel-4-4-3" name="4-3" role="tabpanel" tabindex="0"><div class="highlight-smtlib notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span>(<span class="k">set-logic</span> QF_BV)
<span class="linenos"> 2</span>
<span class="linenos"> 3</span>(<span class="k">declare-fun</span> <span class="n">o0</span> () (_ <span class="na">BitVec</span> <span class="m">1</span>))
<span class="linenos"> 4</span>(<span class="k">declare-fun</span> <span class="n">o1</span> () (_ <span class="na">BitVec</span> <span class="m">1</span>))
<span class="linenos"> 5</span>(<span class="k">declare-fun</span> <span class="n">s0</span> () (_ <span class="na">BitVec</span> <span class="m">2</span>))
<span class="linenos"> 6</span>(<span class="k">declare-fun</span> <span class="n">s1</span> () (_ <span class="na">BitVec</span> <span class="m">2</span>))
<span class="linenos"> 7</span>(<span class="k">declare-fun</span> <span class="n">s2</span> () (_ <span class="na">BitVec</span> <span class="m">2</span>))
<span class="linenos"> 8</span>(<span class="k">declare-fun</span> <span class="n">goal</span> () (_ <span class="na">BitVec</span> <span class="m">2</span>))
<span class="linenos"> 9</span>
<span class="linenos">10</span>(<span class="k">assert</span> (<span class="o">=</span> <span class="n">s0</span> (_ <span class="s">bv0</span> <span class="m">2</span>)))
<span class="linenos">11</span>(<span class="k">assert</span> (<span class="o">=</span> <span class="n">goal</span> (_ <span class="s">bv3</span> <span class="m">2</span>)))
<span class="linenos">12</span>(<span class="k">check-sat-assuming</span> ((<span class="o">=</span> <span class="n">s0</span> <span class="n">goal</span>)))
<span class="linenos">13</span>
<span class="linenos">14</span>(<span class="k">assert</span> (<span class="o">=</span> <span class="n">s1</span> (<span class="o">ite</span> (<span class="o">=</span> <span class="n">o0</span> (_ <span class="s">bv1</span> <span class="m">1</span>)) (<span class="o">bvadd</span> <span class="n">s0</span> (_ <span class="s">bv1</span> <span class="m">2</span>)) <span class="n">s0</span>)))
<span class="linenos">15</span>(<span class="k">check-sat-assuming</span> ((<span class="o">=</span> <span class="n">s1</span> <span class="n">goal</span>)))
<span class="linenos">16</span>
<span class="linenos">17</span>(<span class="k">assert</span> (<span class="o">=</span> <span class="n">s2</span> (<span class="o">ite</span> (<span class="o">=</span> <span class="n">o1</span> (_ <span class="s">bv1</span> <span class="m">1</span>)) (<span class="o">bvadd</span> <span class="n">s1</span> (_ <span class="s">bv1</span> <span class="m">2</span>)) <span class="n">s1</span>)))
<span class="linenos">18</span>(<span class="k">check-sat-assuming</span> ((<span class="o">=</span> <span class="n">s2</span> <span class="n">goal</span>)))
</pre></div>
</div>
</div></div>
</section>
<section id="unsat-core-example">
<h3><a class="toc-backref" href="#id11" role="doc-backlink">Unsat Core Example</a><a class="headerlink" href="#unsat-core-example" title="Link to this heading"></a></h3>
<p>This example shows how to extract an unsat core.
It creates bit-vector and floating-point terms and further illustrates how to
create lambda terms (<code class="code docutils literal notranslate"><span class="pre">define-fun</span></code>).</p>
<div class="line-block">
<div class="line">The SMT-LIB input for this example can be found at <a class="reference external" href="https://github.com/bitwuzla/bitwuzla/tree/main/examples/smt2/unsatcore.smt2">examples/smt2/unsatcore.smt2</a>.</div>
<div class="line">The source code for this example can be found at <a class="reference external" href="https://github.com/bitwuzla/bitwuzla/tree/main/examples/cpp/unsatcore.cpp">examples/cpp/unsatcore.cpp</a>.</div>
</div>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-5-5-0" aria-selected="true" class="sphinx-tabs-tab" id="tab-5-5-0" name="5-0" role="tab" tabindex="0">C++</button><button aria-controls="panel-5-5-1" aria-selected="false" class="sphinx-tabs-tab" id="tab-5-5-1" name="5-1" role="tab" tabindex="-1">C</button><button aria-controls="panel-5-5-2" aria-selected="false" class="sphinx-tabs-tab" id="tab-5-5-2" name="5-2" role="tab" tabindex="-1">Python</button><button aria-controls="panel-5-5-3" aria-selected="false" class="sphinx-tabs-tab" id="tab-5-5-3" name="5-3" role="tab" tabindex="-1">SMT-LIBv2</button></div><div aria-labelledby="tab-5-5-0" class="sphinx-tabs-panel" id="panel-5-5-0" name="5-0" role="tabpanel" tabindex="0"><div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="linenos">  1</span><span class="cm">/***</span>
<span class="linenos">  2</span><span class="cm"> * Bitwuzla: Satisfiability Modulo Theories (SMT) solver.</span>
<span class="linenos">  3</span><span class="cm"> *</span>
<span class="linenos">  4</span><span class="cm"> * Copyright (C) 2023 by the authors listed in the AUTHORS file at</span>
<span class="linenos">  5</span><span class="cm"> * https://github.com/bitwuzla/bitwuzla/blob/main/AUTHORS</span>
<span class="linenos">  6</span><span class="cm"> *</span>
<span class="linenos">  7</span><span class="cm"> * This file is part of Bitwuzla under the MIT license. See COPYING for more</span>
<span class="linenos">  8</span><span class="cm"> * information at https://github.com/bitwuzla/bitwuzla/blob/main/COPYING</span>
<span class="linenos">  9</span><span class="cm"> */</span>
<span class="linenos"> 10</span>
<span class="linenos"> 11</span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;bitwuzla/cpp/bitwuzla.h&gt;</span>
<span class="linenos"> 12</span>
<span class="linenos"> 13</span><span class="k">using</span><span class="w"> </span><span class="k">namespace</span><span class="w"> </span><span class="nn">bitwuzla</span><span class="p">;</span>
<span class="linenos"> 14</span>
<span class="linenos"> 15</span><span class="kt">int</span>
<span class="linenos"> 16</span><span class="nf">main</span><span class="p">()</span>
<span class="linenos"> 17</span><span class="p">{</span>
<span class="linenos"> 18</span><span class="w">  </span><span class="c1">// First, create a term manager instance.</span>
<span class="linenos"> 19</span><span class="w">  </span><span class="n">TermManager</span><span class="w"> </span><span class="n">tm</span><span class="p">;</span>
<span class="linenos"> 20</span><span class="w">  </span><span class="c1">// Create a Bitwuzla options instance.</span>
<span class="linenos"> 21</span><span class="w">  </span><span class="n">Options</span><span class="w"> </span><span class="n">options</span><span class="p">;</span>
<span class="linenos"> 22</span><span class="w">  </span><span class="c1">// Then, enable unsat core extraction.</span>
<span class="linenos"> 23</span><span class="w">  </span><span class="c1">// Note: Unsat core extraction is disabled by default.</span>
<span class="linenos"> 24</span><span class="w">  </span><span class="n">options</span><span class="p">.</span><span class="n">set</span><span class="p">(</span><span class="n">Option</span><span class="o">::</span><span class="n">PRODUCE_UNSAT_CORES</span><span class="p">,</span><span class="w"> </span><span class="nb">true</span><span class="p">);</span>
<span class="linenos"> 25</span><span class="w">  </span><span class="c1">// Then, create a Bitwuzla instance.</span>
<span class="linenos"> 26</span><span class="w">  </span><span class="n">Bitwuzla</span><span class="w"> </span><span class="n">bitwuzla</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span><span class="w"> </span><span class="n">options</span><span class="p">);</span>
<span class="linenos"> 27</span>
<span class="linenos"> 28</span><span class="w">  </span><span class="c1">// Create a bit-vector sort of size 2.</span>
<span class="linenos"> 29</span><span class="w">  </span><span class="n">Sort</span><span class="w"> </span><span class="n">sortbv2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">tm</span><span class="p">.</span><span class="n">mk_bv_sort</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span>
<span class="linenos"> 30</span><span class="w">  </span><span class="c1">// Create a bit-vector sort of size 4.</span>
<span class="linenos"> 31</span><span class="w">  </span><span class="n">Sort</span><span class="w"> </span><span class="n">sortbv4</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">tm</span><span class="p">.</span><span class="n">mk_bv_sort</span><span class="p">(</span><span class="mi">4</span><span class="p">);</span>
<span class="linenos"> 32</span><span class="w">  </span><span class="c1">// Create Float16 floatinf-point sort.</span>
<span class="linenos"> 33</span><span class="w">  </span><span class="n">Sort</span><span class="w"> </span><span class="n">sortfp16</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">tm</span><span class="p">.</span><span class="n">mk_fp_sort</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">11</span><span class="p">);</span>
<span class="linenos"> 34</span>
<span class="linenos"> 35</span><span class="w">  </span><span class="c1">// Create bit-vector variables.</span>
<span class="linenos"> 36</span><span class="w">  </span><span class="c1">// (declare-const x0 (_ BitVec 4))</span>
<span class="linenos"> 37</span><span class="w">  </span><span class="n">Term</span><span class="w"> </span><span class="n">x0</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">tm</span><span class="p">.</span><span class="n">mk_const</span><span class="p">(</span><span class="n">sortbv4</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;x0&quot;</span><span class="p">);</span>
<span class="linenos"> 38</span><span class="w">  </span><span class="c1">// (declare-const x1 (_ BitVec 2))</span>
<span class="linenos"> 39</span><span class="w">  </span><span class="n">Term</span><span class="w"> </span><span class="n">x1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">tm</span><span class="p">.</span><span class="n">mk_const</span><span class="p">(</span><span class="n">sortbv2</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;x1&quot;</span><span class="p">);</span>
<span class="linenos"> 40</span><span class="w">  </span><span class="c1">// (declare-const x2 (_ BitVec 2))</span>
<span class="linenos"> 41</span><span class="w">  </span><span class="n">Term</span><span class="w"> </span><span class="n">x2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">tm</span><span class="p">.</span><span class="n">mk_const</span><span class="p">(</span><span class="n">sortbv2</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;x2&quot;</span><span class="p">);</span>
<span class="linenos"> 42</span><span class="w">  </span><span class="c1">// (declare-const x3 (_ BitVec 2))</span>
<span class="linenos"> 43</span><span class="w">  </span><span class="n">Term</span><span class="w"> </span><span class="n">x3</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">tm</span><span class="p">.</span><span class="n">mk_const</span><span class="p">(</span><span class="n">sortbv2</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;x3&quot;</span><span class="p">);</span>
<span class="linenos"> 44</span><span class="w">  </span><span class="c1">// (declare-const x4 Float16)</span>
<span class="linenos"> 45</span><span class="w">  </span><span class="n">Term</span><span class="w"> </span><span class="n">x4</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">tm</span><span class="p">.</span><span class="n">mk_const</span><span class="p">(</span><span class="n">sortfp16</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;x4&quot;</span><span class="p">);</span>
<span class="linenos"> 46</span>
<span class="linenos"> 47</span><span class="w">  </span><span class="c1">// Create FP positive zero.</span>
<span class="linenos"> 48</span><span class="w">  </span><span class="n">Term</span><span class="w"> </span><span class="n">fpzero</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">tm</span><span class="p">.</span><span class="n">mk_fp_pos_zero</span><span class="p">(</span><span class="n">sortfp16</span><span class="p">);</span>
<span class="linenos"> 49</span><span class="w">  </span><span class="c1">// Create BV zero of size 4.</span>
<span class="linenos"> 50</span><span class="w">  </span><span class="n">Term</span><span class="w"> </span><span class="n">bvzero</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">tm</span><span class="p">.</span><span class="n">mk_bv_zero</span><span class="p">(</span><span class="n">sortbv4</span><span class="p">);</span>
<span class="linenos"> 51</span>
<span class="linenos"> 52</span><span class="w">  </span><span class="c1">// (define-fun f0 ((a Float16)) Bool (fp.gt a (_ +zero 5 11)))</span>
<span class="linenos"> 53</span><span class="w">  </span><span class="n">Term</span><span class="w"> </span><span class="n">a_f0</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">tm</span><span class="p">.</span><span class="n">mk_var</span><span class="p">(</span><span class="n">sortfp16</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;a_f0&quot;</span><span class="p">);</span>
<span class="linenos"> 54</span><span class="w">  </span><span class="n">Term</span><span class="w"> </span><span class="n">f0</span><span class="w"> </span><span class="o">=</span>
<span class="linenos"> 55</span><span class="w">      </span><span class="n">tm</span><span class="p">.</span><span class="n">mk_term</span><span class="p">(</span><span class="n">Kind</span><span class="o">::</span><span class="n">LAMBDA</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="n">a_f0</span><span class="p">,</span><span class="w"> </span><span class="n">tm</span><span class="p">.</span><span class="n">mk_term</span><span class="p">(</span><span class="n">Kind</span><span class="o">::</span><span class="n">FP_GT</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="n">a_f0</span><span class="p">,</span><span class="w"> </span><span class="n">fpzero</span><span class="p">})});</span>
<span class="linenos"> 56</span>
<span class="linenos"> 57</span><span class="w">  </span><span class="c1">// (define-fun f1 ((a Float16)) (_ BitVec 4) (ite (f0 a) x0 #b0000))</span>
<span class="linenos"> 58</span><span class="w">  </span><span class="n">Term</span><span class="w"> </span><span class="n">a_f1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">tm</span><span class="p">.</span><span class="n">mk_var</span><span class="p">(</span><span class="n">sortfp16</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;a_f1&quot;</span><span class="p">);</span>
<span class="linenos"> 59</span><span class="w">  </span><span class="n">Term</span><span class="w"> </span><span class="n">f1</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="n">tm</span><span class="p">.</span><span class="n">mk_term</span><span class="p">(</span>
<span class="linenos"> 60</span><span class="w">      </span><span class="n">Kind</span><span class="o">::</span><span class="n">LAMBDA</span><span class="p">,</span>
<span class="linenos"> 61</span><span class="w">      </span><span class="p">{</span><span class="n">a_f1</span><span class="p">,</span>
<span class="linenos"> 62</span><span class="w">         </span><span class="n">tm</span><span class="p">.</span><span class="n">mk_term</span><span class="p">(</span><span class="n">Kind</span><span class="o">::</span><span class="n">ITE</span><span class="p">,</span>
<span class="linenos"> 63</span><span class="w">                    </span><span class="p">{</span><span class="n">tm</span><span class="p">.</span><span class="n">mk_term</span><span class="p">(</span><span class="n">Kind</span><span class="o">::</span><span class="n">APPLY</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="n">f0</span><span class="p">,</span><span class="w"> </span><span class="n">a_f1</span><span class="p">}),</span><span class="w"> </span><span class="n">x0</span><span class="p">,</span><span class="w"> </span><span class="n">bvzero</span><span class="p">})});</span>
<span class="linenos"> 64</span>
<span class="linenos"> 65</span><span class="w">  </span><span class="c1">// (define-fun f2 ((a Float16)) (_ BitVec 2) ((_ extract 1 0) (f1 a)))</span>
<span class="linenos"> 66</span><span class="w">  </span><span class="n">Term</span><span class="w"> </span><span class="n">a_f2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">tm</span><span class="p">.</span><span class="n">mk_var</span><span class="p">(</span><span class="n">sortfp16</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;a_f2&quot;</span><span class="p">);</span>
<span class="linenos"> 67</span><span class="w">  </span><span class="n">Term</span><span class="w"> </span><span class="n">f2</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="n">tm</span><span class="p">.</span><span class="n">mk_term</span><span class="p">(</span>
<span class="linenos"> 68</span><span class="w">      </span><span class="n">Kind</span><span class="o">::</span><span class="n">LAMBDA</span><span class="p">,</span>
<span class="linenos"> 69</span><span class="w">      </span><span class="p">{</span><span class="n">a_f2</span><span class="p">,</span>
<span class="linenos"> 70</span><span class="w">         </span><span class="n">tm</span><span class="p">.</span><span class="n">mk_term</span><span class="p">(</span>
<span class="linenos"> 71</span><span class="w">           </span><span class="n">Kind</span><span class="o">::</span><span class="n">BV_EXTRACT</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="n">tm</span><span class="p">.</span><span class="n">mk_term</span><span class="p">(</span><span class="n">Kind</span><span class="o">::</span><span class="n">APPLY</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="n">f1</span><span class="p">,</span><span class="w"> </span><span class="n">a_f2</span><span class="p">})},</span><span class="w"> </span><span class="p">{</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">})});</span>
<span class="linenos"> 72</span>
<span class="linenos"> 73</span><span class="w">  </span><span class="c1">// (assert (! (bvult x2 (f2 (_ +zero 5 11))) :named a0))</span>
<span class="linenos"> 74</span><span class="w">  </span><span class="n">Term</span><span class="w"> </span><span class="n">a0</span><span class="w"> </span><span class="o">=</span>
<span class="linenos"> 75</span><span class="w">      </span><span class="n">tm</span><span class="p">.</span><span class="n">mk_term</span><span class="p">(</span><span class="n">Kind</span><span class="o">::</span><span class="n">BV_ULT</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="n">x2</span><span class="p">,</span><span class="w"> </span><span class="n">tm</span><span class="p">.</span><span class="n">mk_term</span><span class="p">(</span><span class="n">Kind</span><span class="o">::</span><span class="n">APPLY</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="n">f2</span><span class="p">,</span><span class="w"> </span><span class="n">fpzero</span><span class="p">})});</span>
<span class="linenos"> 76</span><span class="w">  </span><span class="n">bitwuzla</span><span class="p">.</span><span class="n">assert_formula</span><span class="p">(</span><span class="n">a0</span><span class="p">);</span>
<span class="linenos"> 77</span>
<span class="linenos"> 78</span><span class="w">  </span><span class="c1">// (assert (! (= x1 x2 x3) :named a1))</span>
<span class="linenos"> 79</span><span class="w">  </span><span class="n">Term</span><span class="w"> </span><span class="n">a1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">tm</span><span class="p">.</span><span class="n">mk_term</span><span class="p">(</span><span class="n">Kind</span><span class="o">::</span><span class="n">EQUAL</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="n">x1</span><span class="p">,</span><span class="w"> </span><span class="n">x2</span><span class="p">,</span><span class="w"> </span><span class="n">x3</span><span class="p">});</span>
<span class="linenos"> 80</span><span class="w">  </span><span class="n">bitwuzla</span><span class="p">.</span><span class="n">assert_formula</span><span class="p">(</span><span class="n">a1</span><span class="p">);</span>
<span class="linenos"> 81</span>
<span class="linenos"> 82</span><span class="w">  </span><span class="c1">// (assert (!(= x4 ((_ to_fp_unsigned 5 11) RNE x3)) :named a2))</span>
<span class="linenos"> 83</span><span class="w">  </span><span class="n">Term</span><span class="w"> </span><span class="n">a2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">tm</span><span class="p">.</span><span class="n">mk_term</span><span class="p">(</span><span class="n">Kind</span><span class="o">::</span><span class="n">EQUAL</span><span class="p">,</span>
<span class="linenos"> 84</span><span class="w">                       </span><span class="p">{</span><span class="n">x4</span><span class="p">,</span>
<span class="linenos"> 85</span><span class="w">                        </span><span class="n">tm</span><span class="p">.</span><span class="n">mk_term</span><span class="p">(</span><span class="n">Kind</span><span class="o">::</span><span class="n">FP_TO_FP_FROM_UBV</span><span class="p">,</span>
<span class="linenos"> 86</span><span class="w">                                   </span><span class="p">{</span><span class="n">tm</span><span class="p">.</span><span class="n">mk_rm_value</span><span class="p">(</span><span class="n">RoundingMode</span><span class="o">::</span><span class="n">RNE</span><span class="p">),</span><span class="w"> </span><span class="n">x3</span><span class="p">},</span>
<span class="linenos"> 87</span><span class="w">                                   </span><span class="p">{</span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">11</span><span class="p">})});</span>
<span class="linenos"> 88</span><span class="w">  </span><span class="n">bitwuzla</span><span class="p">.</span><span class="n">assert_formula</span><span class="p">(</span><span class="n">a2</span><span class="p">);</span>
<span class="linenos"> 89</span>
<span class="linenos"> 90</span><span class="w">  </span><span class="c1">// (check-sat)</span>
<span class="linenos"> 91</span><span class="w">  </span><span class="n">Result</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla</span><span class="p">.</span><span class="n">check_sat</span><span class="p">();</span>
<span class="linenos"> 92</span><span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Expect: unsat&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="linenos"> 93</span><span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Bitwuzla: &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="linenos"> 94</span>
<span class="linenos"> 95</span><span class="w">  </span><span class="c1">// (get-unsat-core)</span>
<span class="linenos"> 96</span><span class="w">  </span><span class="k">auto</span><span class="w"> </span><span class="n">unsat_core</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla</span><span class="p">.</span><span class="n">get_unsat_core</span><span class="p">();</span>
<span class="linenos"> 97</span><span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Unsat Core:&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;{&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="linenos"> 98</span><span class="w">  </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="k">auto</span><span class="o">&amp;</span><span class="w"> </span><span class="n">t</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">unsat_core</span><span class="p">)</span>
<span class="linenos"> 99</span><span class="w">  </span><span class="p">{</span>
<span class="linenos">100</span><span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot; &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">t</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="linenos">101</span><span class="w">  </span><span class="p">}</span>
<span class="linenos">102</span><span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;}&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="linenos">103</span>
<span class="linenos">104</span><span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">105</span><span class="p">}</span>
</pre></div>
</div>
</div><div aria-labelledby="tab-5-5-1" class="sphinx-tabs-panel" hidden="true" id="panel-5-5-1" name="5-1" role="tabpanel" tabindex="0"><div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="linenos">  1</span><span class="cm">/***</span>
<span class="linenos">  2</span><span class="cm"> * Bitwuzla: Satisfiability Modulo Theories (SMT) solver.</span>
<span class="linenos">  3</span><span class="cm"> *</span>
<span class="linenos">  4</span><span class="cm"> * Copyright (C) 2021 by the authors listed in the AUTHORS file at</span>
<span class="linenos">  5</span><span class="cm"> * https://github.com/bitwuzla/bitwuzla/blob/main/AUTHORS</span>
<span class="linenos">  6</span><span class="cm"> *</span>
<span class="linenos">  7</span><span class="cm"> * This file is part of Bitwuzla under the MIT license. See COPYING for more</span>
<span class="linenos">  8</span><span class="cm"> * information at https://github.com/bitwuzla/bitwuzla/blob/main/COPYING</span>
<span class="linenos">  9</span><span class="cm"> */</span>
<span class="linenos"> 10</span>
<span class="linenos"> 11</span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;bitwuzla/c/bitwuzla.h&gt;</span>
<span class="linenos"> 12</span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;stdio.h&gt;</span>
<span class="linenos"> 13</span>
<span class="linenos"> 14</span><span class="kt">int</span>
<span class="linenos"> 15</span><span class="nf">main</span><span class="p">()</span>
<span class="linenos"> 16</span><span class="p">{</span>
<span class="linenos"> 17</span><span class="w">  </span><span class="c1">// First, create a term manager instance.</span>
<span class="linenos"> 18</span><span class="w">  </span><span class="n">BitwuzlaTermManager</span><span class="w"> </span><span class="o">*</span><span class="n">tm</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_term_manager_new</span><span class="p">();</span>
<span class="linenos"> 19</span><span class="w">  </span><span class="c1">// Create a Bitwuzla options instance.</span>
<span class="linenos"> 20</span><span class="w">  </span><span class="n">BitwuzlaOptions</span><span class="w"> </span><span class="o">*</span><span class="n">options</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_options_new</span><span class="p">();</span>
<span class="linenos"> 21</span><span class="w">  </span><span class="c1">// Then, enable unsat core extraction.</span>
<span class="linenos"> 22</span><span class="w">  </span><span class="c1">// Note: Unsat core extraction is disabled by default.</span>
<span class="linenos"> 23</span><span class="w">  </span><span class="n">bitwuzla_set_option</span><span class="p">(</span><span class="n">options</span><span class="p">,</span><span class="w"> </span><span class="n">BITWUZLA_OPT_PRODUCE_UNSAT_CORES</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span>
<span class="linenos"> 24</span><span class="w">  </span><span class="c1">// Then, create a Bitwuzla instance.</span>
<span class="linenos"> 25</span><span class="w">  </span><span class="n">Bitwuzla</span><span class="w"> </span><span class="o">*</span><span class="n">bitwuzla</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_new</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span><span class="w"> </span><span class="n">options</span><span class="p">);</span>
<span class="linenos"> 26</span>
<span class="linenos"> 27</span><span class="w">  </span><span class="c1">// Create a bit-vector sort of size 2.</span>
<span class="linenos"> 28</span><span class="w">  </span><span class="n">BitwuzlaSort</span><span class="w"> </span><span class="n">sortbv2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_bv_sort</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">);</span>
<span class="linenos"> 29</span><span class="w">  </span><span class="c1">// Create a bit-vector sort of size 4.</span>
<span class="linenos"> 30</span><span class="w">  </span><span class="n">BitwuzlaSort</span><span class="w"> </span><span class="n">sortbv4</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_bv_sort</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">);</span>
<span class="linenos"> 31</span><span class="w">  </span><span class="c1">// Create Float16 floatinf-point sort.</span>
<span class="linenos"> 32</span><span class="w">  </span><span class="n">BitwuzlaSort</span><span class="w"> </span><span class="n">sortfp16</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_fp_sort</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">11</span><span class="p">);</span>
<span class="linenos"> 33</span>
<span class="linenos"> 34</span><span class="w">  </span><span class="c1">// Create bit-vector variables.</span>
<span class="linenos"> 35</span><span class="w">  </span><span class="c1">// (declare-const x0 (_ BitVec 4))</span>
<span class="linenos"> 36</span><span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">x0</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_const</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span><span class="w"> </span><span class="n">sortbv4</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;x0&quot;</span><span class="p">);</span>
<span class="linenos"> 37</span><span class="w">  </span><span class="c1">// (declare-const x1 (_ BitVec 2))</span>
<span class="linenos"> 38</span><span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">x1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_const</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span><span class="w"> </span><span class="n">sortbv2</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;x1&quot;</span><span class="p">);</span>
<span class="linenos"> 39</span><span class="w">  </span><span class="c1">// (declare-const x2 (_ BitVec 2))</span>
<span class="linenos"> 40</span><span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">x2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_const</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span><span class="w"> </span><span class="n">sortbv2</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;x2&quot;</span><span class="p">);</span>
<span class="linenos"> 41</span><span class="w">  </span><span class="c1">// (declare-const x3 (_ BitVec 2))</span>
<span class="linenos"> 42</span><span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">x3</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_const</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span><span class="w"> </span><span class="n">sortbv2</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;x3&quot;</span><span class="p">);</span>
<span class="linenos"> 43</span><span class="w">  </span><span class="c1">// (declare-const x4 Float16)</span>
<span class="linenos"> 44</span><span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">x4</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_const</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span><span class="w"> </span><span class="n">sortfp16</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;x4&quot;</span><span class="p">);</span>
<span class="linenos"> 45</span>
<span class="linenos"> 46</span><span class="w">  </span><span class="c1">// Create FP positive zero.</span>
<span class="linenos"> 47</span><span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">fpzero</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_fp_pos_zero</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span><span class="w"> </span><span class="n">sortfp16</span><span class="p">);</span>
<span class="linenos"> 48</span><span class="w">  </span><span class="c1">// Create BV zero of size 4.</span>
<span class="linenos"> 49</span><span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">bvzero</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_bv_zero</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span><span class="w"> </span><span class="n">sortbv4</span><span class="p">);</span>
<span class="linenos"> 50</span>
<span class="linenos"> 51</span><span class="w">  </span><span class="c1">// (define-fun f0 ((a Float16)) Bool (fp.gt a (_ +zero 5 11)))</span>
<span class="linenos"> 52</span><span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">a_f0</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_var</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span><span class="w"> </span><span class="n">sortfp16</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;a_f0&quot;</span><span class="p">);</span>
<span class="linenos"> 53</span><span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">f0</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_term2</span><span class="p">(</span>
<span class="linenos"> 54</span><span class="w">      </span><span class="n">tm</span><span class="p">,</span>
<span class="linenos"> 55</span><span class="w">      </span><span class="n">BITWUZLA_KIND_LAMBDA</span><span class="p">,</span>
<span class="linenos"> 56</span><span class="w">      </span><span class="n">a_f0</span><span class="p">,</span>
<span class="linenos"> 57</span><span class="w">      </span><span class="n">bitwuzla_mk_term2</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span><span class="w"> </span><span class="n">BITWUZLA_KIND_FP_GT</span><span class="p">,</span><span class="w"> </span><span class="n">a_f0</span><span class="p">,</span><span class="w"> </span><span class="n">fpzero</span><span class="p">));</span>
<span class="linenos"> 58</span>
<span class="linenos"> 59</span><span class="w">  </span><span class="c1">// (define-fun f1 ((a Float16)) (_ BitVec 4) (ite (f0 a) x0 #b0000))</span>
<span class="linenos"> 60</span><span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">a_f1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_var</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span><span class="w"> </span><span class="n">sortfp16</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;a_f1&quot;</span><span class="p">);</span>
<span class="linenos"> 61</span><span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">f1</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_term2</span><span class="p">(</span>
<span class="linenos"> 62</span><span class="w">      </span><span class="n">tm</span><span class="p">,</span>
<span class="linenos"> 63</span><span class="w">      </span><span class="n">BITWUZLA_KIND_LAMBDA</span><span class="p">,</span>
<span class="linenos"> 64</span><span class="w">      </span><span class="n">a_f1</span><span class="p">,</span>
<span class="linenos"> 65</span><span class="w">      </span><span class="n">bitwuzla_mk_term3</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span>
<span class="linenos"> 66</span><span class="w">                        </span><span class="n">BITWUZLA_KIND_ITE</span><span class="p">,</span>
<span class="linenos"> 67</span><span class="w">                        </span><span class="n">bitwuzla_mk_term2</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span><span class="w"> </span><span class="n">BITWUZLA_KIND_APPLY</span><span class="p">,</span><span class="w"> </span><span class="n">f0</span><span class="p">,</span><span class="w"> </span><span class="n">a_f1</span><span class="p">),</span>
<span class="linenos"> 68</span><span class="w">                        </span><span class="n">x0</span><span class="p">,</span>
<span class="linenos"> 69</span><span class="w">                        </span><span class="n">bvzero</span><span class="p">));</span>
<span class="linenos"> 70</span>
<span class="linenos"> 71</span><span class="w">  </span><span class="c1">// (define-fun f2 ((a Float16)) (_ BitVec 2) ((_ extract 1 0) (f1 a)))</span>
<span class="linenos"> 72</span><span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">a_f2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_var</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span><span class="w"> </span><span class="n">sortfp16</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;a_f2&quot;</span><span class="p">);</span>
<span class="linenos"> 73</span><span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">f2</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_term2</span><span class="p">(</span>
<span class="linenos"> 74</span><span class="w">      </span><span class="n">tm</span><span class="p">,</span>
<span class="linenos"> 75</span><span class="w">      </span><span class="n">BITWUZLA_KIND_LAMBDA</span><span class="p">,</span>
<span class="linenos"> 76</span><span class="w">      </span><span class="n">a_f2</span><span class="p">,</span>
<span class="linenos"> 77</span><span class="w">      </span><span class="n">bitwuzla_mk_term1_indexed2</span><span class="p">(</span>
<span class="linenos"> 78</span><span class="w">          </span><span class="n">tm</span><span class="p">,</span>
<span class="linenos"> 79</span><span class="w">          </span><span class="n">BITWUZLA_KIND_BV_EXTRACT</span><span class="p">,</span>
<span class="linenos"> 80</span><span class="w">          </span><span class="n">bitwuzla_mk_term2</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span><span class="w"> </span><span class="n">BITWUZLA_KIND_APPLY</span><span class="p">,</span><span class="w"> </span><span class="n">f1</span><span class="p">,</span><span class="w"> </span><span class="n">a_f2</span><span class="p">),</span>
<span class="linenos"> 81</span><span class="w">          </span><span class="mi">1</span><span class="p">,</span>
<span class="linenos"> 82</span><span class="w">          </span><span class="mi">0</span><span class="p">));</span>
<span class="linenos"> 83</span>
<span class="linenos"> 84</span><span class="w">  </span><span class="c1">// (assert (! (bvult x2 (f2 (_ +zero 5 11))) :named a0))</span>
<span class="linenos"> 85</span><span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">a0</span><span class="w"> </span><span class="o">=</span>
<span class="linenos"> 86</span><span class="w">      </span><span class="n">bitwuzla_mk_term2</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span>
<span class="linenos"> 87</span><span class="w">                        </span><span class="n">BITWUZLA_KIND_BV_ULT</span><span class="p">,</span>
<span class="linenos"> 88</span><span class="w">                        </span><span class="n">x2</span><span class="p">,</span>
<span class="linenos"> 89</span><span class="w">                        </span><span class="n">bitwuzla_mk_term2</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span><span class="w"> </span><span class="n">BITWUZLA_KIND_APPLY</span><span class="p">,</span><span class="w"> </span><span class="n">f2</span><span class="p">,</span><span class="w"> </span><span class="n">fpzero</span><span class="p">));</span>
<span class="linenos"> 90</span><span class="w">  </span><span class="n">bitwuzla_assert</span><span class="p">(</span><span class="n">bitwuzla</span><span class="p">,</span><span class="w"> </span><span class="n">a0</span><span class="p">);</span>
<span class="linenos"> 91</span>
<span class="linenos"> 92</span><span class="w">  </span><span class="c1">// (assert (! (= x1 x2 x3) :named a1))</span>
<span class="linenos"> 93</span><span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">a1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_term3</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span><span class="w"> </span><span class="n">BITWUZLA_KIND_EQUAL</span><span class="p">,</span><span class="w"> </span><span class="n">x1</span><span class="p">,</span><span class="w"> </span><span class="n">x2</span><span class="p">,</span><span class="w"> </span><span class="n">x3</span><span class="p">);</span>
<span class="linenos"> 94</span><span class="w">  </span><span class="n">bitwuzla_assert</span><span class="p">(</span><span class="n">bitwuzla</span><span class="p">,</span><span class="w"> </span><span class="n">a1</span><span class="p">);</span>
<span class="linenos"> 95</span>
<span class="linenos"> 96</span><span class="w">  </span><span class="c1">// (assert (!(= x4 ((_ to_fp_unsigned 5 11) RNE x3)) :named a2))</span>
<span class="linenos"> 97</span><span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">a2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_term2</span><span class="p">(</span>
<span class="linenos"> 98</span><span class="w">      </span><span class="n">tm</span><span class="p">,</span>
<span class="linenos"> 99</span><span class="w">      </span><span class="n">BITWUZLA_KIND_EQUAL</span><span class="p">,</span>
<span class="linenos">100</span><span class="w">      </span><span class="n">x4</span><span class="p">,</span>
<span class="linenos">101</span><span class="w">      </span><span class="n">bitwuzla_mk_term2_indexed2</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span>
<span class="linenos">102</span><span class="w">                                 </span><span class="n">BITWUZLA_KIND_FP_TO_FP_FROM_UBV</span><span class="p">,</span>
<span class="linenos">103</span><span class="w">                                 </span><span class="n">bitwuzla_mk_rm_value</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span><span class="w"> </span><span class="n">BITWUZLA_RM_RNE</span><span class="p">),</span>
<span class="linenos">104</span><span class="w">                                 </span><span class="n">x3</span><span class="p">,</span>
<span class="linenos">105</span><span class="w">                                 </span><span class="mi">5</span><span class="p">,</span>
<span class="linenos">106</span><span class="w">                                 </span><span class="mi">11</span><span class="p">));</span>
<span class="linenos">107</span><span class="w">  </span><span class="n">bitwuzla_assert</span><span class="p">(</span><span class="n">bitwuzla</span><span class="p">,</span><span class="w"> </span><span class="n">a2</span><span class="p">);</span>
<span class="linenos">108</span>
<span class="linenos">109</span><span class="w">  </span><span class="c1">// (check-sat)</span>
<span class="linenos">110</span><span class="w">  </span><span class="n">BitwuzlaResult</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_check_sat</span><span class="p">(</span><span class="n">bitwuzla</span><span class="p">);</span>
<span class="linenos">111</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Expect: unsat</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="linenos">112</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Bitwuzla: %s</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">bitwuzla_result_to_string</span><span class="p">(</span><span class="n">result</span><span class="p">));</span>
<span class="linenos">113</span>
<span class="linenos">114</span><span class="w">  </span><span class="c1">// (get-unsat-core)</span>
<span class="linenos">115</span><span class="w">  </span><span class="kt">size_t</span><span class="w"> </span><span class="n">unsat_core_size</span><span class="p">;</span>
<span class="linenos">116</span><span class="w">  </span><span class="k">const</span><span class="w"> </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="o">*</span><span class="n">unsat_core</span><span class="w"> </span><span class="o">=</span>
<span class="linenos">117</span><span class="w">      </span><span class="n">bitwuzla_get_unsat_core</span><span class="p">(</span><span class="n">bitwuzla</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">unsat_core_size</span><span class="p">);</span>
<span class="linenos">118</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Unsat Core:</span><span class="se">\n</span><span class="s">{</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="linenos">119</span><span class="w">  </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">unsat_core_size</span><span class="p">;</span><span class="w"> </span><span class="o">++</span><span class="n">i</span><span class="p">)</span>
<span class="linenos">120</span><span class="w">  </span><span class="p">{</span>
<span class="linenos">121</span><span class="w">    </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot; %s</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">bitwuzla_term_to_string</span><span class="p">(</span><span class="n">unsat_core</span><span class="p">[</span><span class="n">i</span><span class="p">]));</span>
<span class="linenos">122</span><span class="w">  </span><span class="p">}</span>
<span class="linenos">123</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;}</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="linenos">124</span>
<span class="linenos">125</span><span class="w">  </span><span class="c1">// Finally, delete the Bitwuzla solver, options, and term manager instances.</span>
<span class="linenos">126</span><span class="w">  </span><span class="n">bitwuzla_delete</span><span class="p">(</span><span class="n">bitwuzla</span><span class="p">);</span>
<span class="linenos">127</span><span class="w">  </span><span class="n">bitwuzla_options_delete</span><span class="p">(</span><span class="n">options</span><span class="p">);</span>
<span class="linenos">128</span><span class="w">  </span><span class="n">bitwuzla_term_manager_delete</span><span class="p">(</span><span class="n">tm</span><span class="p">);</span>
<span class="linenos">129</span>
<span class="linenos">130</span><span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">131</span><span class="p">}</span>
</pre></div>
</div>
</div><div aria-labelledby="tab-5-5-2" class="sphinx-tabs-panel" hidden="true" id="panel-5-5-2" name="5-2" role="tabpanel" tabindex="0"><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="c1">###</span>
<span class="linenos"> 2</span><span class="c1"># Bitwuzla: Satisfiability Modulo Theories (SMT) solver.</span>
<span class="linenos"> 3</span><span class="c1">#</span>
<span class="linenos"> 4</span><span class="c1"># Copyright (C) 2023 by the authors listed in the AUTHORS file at</span>
<span class="linenos"> 5</span><span class="c1"># https:#github.com/bitwuzla/bitwuzla/blob/main/AUTHORS</span>
<span class="linenos"> 6</span><span class="c1">#</span>
<span class="linenos"> 7</span><span class="c1"># This file is part of Bitwuzla under the MIT license. See COPYING for more</span>
<span class="linenos"> 8</span><span class="c1"># information at https:#github.com/bitwuzla/bitwuzla/blob/main/COPYING</span>
<span class="linenos"> 9</span><span class="c1">##</span>
<span class="linenos">10</span>
<span class="linenos">11</span><span class="kn">from</span><span class="w"> </span><span class="nn">bitwuzla</span><span class="w"> </span><span class="kn">import</span> <span class="o">*</span>
<span class="linenos">12</span>
<span class="linenos">13</span><span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
<span class="linenos">14</span>
<span class="linenos">15</span>    <span class="c1"># First, create a term manager instance.</span>
<span class="linenos">16</span>    <span class="n">tm</span> <span class="o">=</span> <span class="n">TermManager</span><span class="p">()</span>
<span class="linenos">17</span>    <span class="c1"># Create a Bitwuzla options instance.</span>
<span class="linenos">18</span>    <span class="n">options</span> <span class="o">=</span> <span class="n">Options</span><span class="p">()</span>
<span class="linenos">19</span>    <span class="c1"># Then, enable unsat core extraction.</span>
<span class="linenos">20</span>    <span class="c1"># Note: Unsat core extraction is disabled by default.</span>
<span class="linenos">21</span>    <span class="n">options</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">Option</span><span class="o">.</span><span class="n">PRODUCE_UNSAT_CORES</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
<span class="linenos">22</span>
<span class="linenos">23</span>    <span class="c1"># Then, create a Bitwuzla instance.</span>
<span class="linenos">24</span>    <span class="n">bitwuzla</span> <span class="o">=</span> <span class="n">Bitwuzla</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span> <span class="n">options</span><span class="p">)</span>
<span class="linenos">25</span>
<span class="linenos">26</span>    <span class="c1"># Create a bit-vector sort of size 2.</span>
<span class="linenos">27</span>    <span class="n">sortbv2</span> <span class="o">=</span> <span class="n">tm</span><span class="o">.</span><span class="n">mk_bv_sort</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="linenos">28</span>    <span class="c1"># Create a bit-vector sort of size 4.</span>
<span class="linenos">29</span>    <span class="n">sortbv4</span> <span class="o">=</span> <span class="n">tm</span><span class="o">.</span><span class="n">mk_bv_sort</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="linenos">30</span>    <span class="c1"># Create Float16 floatinf-point sort.</span>
<span class="linenos">31</span>    <span class="n">sortfp16</span> <span class="o">=</span> <span class="n">tm</span><span class="o">.</span><span class="n">mk_fp_sort</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">11</span><span class="p">)</span>
<span class="linenos">32</span>
<span class="linenos">33</span>    <span class="c1"># Create bit-vector variables.</span>
<span class="linenos">34</span>    <span class="c1"># (declare-const x0 (_ BitVec 4))</span>
<span class="linenos">35</span>    <span class="n">x0</span> <span class="o">=</span> <span class="n">tm</span><span class="o">.</span><span class="n">mk_const</span><span class="p">(</span><span class="n">sortbv4</span><span class="p">,</span> <span class="s1">&#39;x0&#39;</span><span class="p">)</span>
<span class="linenos">36</span>    <span class="c1"># (declare-const x1 (_ BitVec 2))</span>
<span class="linenos">37</span>    <span class="n">x1</span> <span class="o">=</span> <span class="n">tm</span><span class="o">.</span><span class="n">mk_const</span><span class="p">(</span><span class="n">sortbv2</span><span class="p">,</span> <span class="s1">&#39;x1&#39;</span><span class="p">)</span>
<span class="linenos">38</span>    <span class="c1"># (declare-const x2 (_ BitVec 2))</span>
<span class="linenos">39</span>    <span class="n">x2</span> <span class="o">=</span> <span class="n">tm</span><span class="o">.</span><span class="n">mk_const</span><span class="p">(</span><span class="n">sortbv2</span><span class="p">,</span> <span class="s1">&#39;x2&#39;</span><span class="p">)</span>
<span class="linenos">40</span>    <span class="c1"># (declare-const x3 (_ BitVec 2))</span>
<span class="linenos">41</span>    <span class="n">x3</span> <span class="o">=</span> <span class="n">tm</span><span class="o">.</span><span class="n">mk_const</span><span class="p">(</span><span class="n">sortbv2</span><span class="p">,</span> <span class="s1">&#39;x3&#39;</span><span class="p">)</span>
<span class="linenos">42</span>    <span class="c1"># (declare-const x4 Float16)</span>
<span class="linenos">43</span>    <span class="n">x4</span> <span class="o">=</span> <span class="n">tm</span><span class="o">.</span><span class="n">mk_const</span><span class="p">(</span><span class="n">sortfp16</span><span class="p">,</span> <span class="s1">&#39;x4&#39;</span><span class="p">)</span>
<span class="linenos">44</span>
<span class="linenos">45</span>    <span class="c1"># Create FP positive zero.</span>
<span class="linenos">46</span>    <span class="n">fpzero</span> <span class="o">=</span> <span class="n">tm</span><span class="o">.</span><span class="n">mk_fp_pos_zero</span><span class="p">(</span><span class="n">sortfp16</span><span class="p">)</span>
<span class="linenos">47</span>    <span class="c1"># Create BV zero of size 4.</span>
<span class="linenos">48</span>    <span class="n">bvzero</span> <span class="o">=</span> <span class="n">tm</span><span class="o">.</span><span class="n">mk_bv_zero</span><span class="p">(</span><span class="n">sortbv4</span><span class="p">)</span>
<span class="linenos">49</span>
<span class="linenos">50</span>    <span class="c1"># (define-fun f0 ((a Float16)) Bool (fp.gt a (_ +zero 5 11)))</span>
<span class="linenos">51</span>    <span class="n">a_f0</span> <span class="o">=</span> <span class="n">tm</span><span class="o">.</span><span class="n">mk_var</span><span class="p">(</span><span class="n">sortfp16</span><span class="p">,</span> <span class="s1">&#39;a_f0&#39;</span><span class="p">)</span>
<span class="linenos">52</span>    <span class="n">f0</span> <span class="o">=</span> <span class="n">tm</span><span class="o">.</span><span class="n">mk_term</span><span class="p">(</span><span class="n">Kind</span><span class="o">.</span><span class="n">LAMBDA</span><span class="p">,</span> <span class="p">[</span><span class="n">a_f0</span><span class="p">,</span> <span class="n">tm</span><span class="o">.</span><span class="n">mk_term</span><span class="p">(</span><span class="n">Kind</span><span class="o">.</span><span class="n">FP_GT</span><span class="p">,</span> <span class="p">[</span><span class="n">a_f0</span><span class="p">,</span> <span class="n">fpzero</span><span class="p">])])</span>
<span class="linenos">53</span>
<span class="linenos">54</span>    <span class="c1"># (define-fun f1 ((a Float16)) (_ BitVec 4) (ite (f0 a) x0 #b0000))</span>
<span class="linenos">55</span>    <span class="n">a_f1</span> <span class="o">=</span> <span class="n">tm</span><span class="o">.</span><span class="n">mk_var</span><span class="p">(</span><span class="n">sortfp16</span><span class="p">,</span> <span class="s1">&#39;a_f1&#39;</span><span class="p">)</span>
<span class="linenos">56</span>    <span class="n">f1</span>   <span class="o">=</span> <span class="n">tm</span><span class="o">.</span><span class="n">mk_term</span><span class="p">(</span>
<span class="linenos">57</span>        <span class="n">Kind</span><span class="o">.</span><span class="n">LAMBDA</span><span class="p">,</span>
<span class="linenos">58</span>        <span class="p">[</span><span class="n">a_f1</span><span class="p">,</span>
<span class="linenos">59</span>           <span class="n">tm</span><span class="o">.</span><span class="n">mk_term</span><span class="p">(</span><span class="n">Kind</span><span class="o">.</span><span class="n">ITE</span><span class="p">,</span> <span class="p">[</span><span class="n">tm</span><span class="o">.</span><span class="n">mk_term</span><span class="p">(</span><span class="n">Kind</span><span class="o">.</span><span class="n">APPLY</span><span class="p">,</span> <span class="p">[</span><span class="n">f0</span><span class="p">,</span> <span class="n">a_f1</span><span class="p">]),</span> <span class="n">x0</span><span class="p">,</span> <span class="n">bvzero</span><span class="p">])])</span>
<span class="linenos">60</span>
<span class="linenos">61</span>    <span class="c1"># (define-fun f2 ((a Float16)) (_ BitVec 2) ((_ extract 1 0) (f1 a)))</span>
<span class="linenos">62</span>    <span class="n">a_f2</span> <span class="o">=</span> <span class="n">tm</span><span class="o">.</span><span class="n">mk_var</span><span class="p">(</span><span class="n">sortfp16</span><span class="p">,</span> <span class="s1">&#39;a_f2&#39;</span><span class="p">)</span>
<span class="linenos">63</span>    <span class="n">f2</span>   <span class="o">=</span> <span class="n">tm</span><span class="o">.</span><span class="n">mk_term</span><span class="p">(</span>
<span class="linenos">64</span>        <span class="n">Kind</span><span class="o">.</span><span class="n">LAMBDA</span><span class="p">,</span>
<span class="linenos">65</span>        <span class="p">[</span><span class="n">a_f2</span><span class="p">,</span>
<span class="linenos">66</span>           <span class="n">tm</span><span class="o">.</span><span class="n">mk_term</span><span class="p">(</span><span class="n">Kind</span><span class="o">.</span><span class="n">BV_EXTRACT</span><span class="p">,</span> <span class="p">[</span><span class="n">tm</span><span class="o">.</span><span class="n">mk_term</span><span class="p">(</span><span class="n">Kind</span><span class="o">.</span><span class="n">APPLY</span><span class="p">,</span> <span class="p">[</span><span class="n">f1</span><span class="p">,</span> <span class="n">a_f2</span><span class="p">])],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">])])</span>
<span class="linenos">67</span>
<span class="linenos">68</span>    <span class="c1"># (assert (! (bvult x2 (f2 (_ +zero 5 11))) :named a0))</span>
<span class="linenos">69</span>    <span class="n">a0</span> <span class="o">=</span> <span class="n">tm</span><span class="o">.</span><span class="n">mk_term</span><span class="p">(</span><span class="n">Kind</span><span class="o">.</span><span class="n">BV_ULT</span><span class="p">,</span> <span class="p">[</span><span class="n">x2</span><span class="p">,</span> <span class="n">tm</span><span class="o">.</span><span class="n">mk_term</span><span class="p">(</span><span class="n">Kind</span><span class="o">.</span><span class="n">APPLY</span><span class="p">,</span> <span class="p">[</span><span class="n">f2</span><span class="p">,</span> <span class="n">fpzero</span><span class="p">])])</span>
<span class="linenos">70</span>    <span class="n">bitwuzla</span><span class="o">.</span><span class="n">assert_formula</span><span class="p">(</span><span class="n">a0</span><span class="p">)</span>
<span class="linenos">71</span>
<span class="linenos">72</span>    <span class="c1"># (assert (! (= x1 x2 x3) :named a1))</span>
<span class="linenos">73</span>    <span class="n">a1</span> <span class="o">=</span> <span class="n">tm</span><span class="o">.</span><span class="n">mk_term</span><span class="p">(</span><span class="n">Kind</span><span class="o">.</span><span class="n">EQUAL</span><span class="p">,</span> <span class="p">[</span><span class="n">x1</span><span class="p">,</span> <span class="n">x2</span><span class="p">,</span> <span class="n">x3</span><span class="p">])</span>
<span class="linenos">74</span>    <span class="n">bitwuzla</span><span class="o">.</span><span class="n">assert_formula</span><span class="p">(</span><span class="n">a1</span><span class="p">)</span>
<span class="linenos">75</span>
<span class="linenos">76</span>    <span class="c1"># (assert (!(= x4 ((_ to_fp_unsigned 5 11) RNE x3)) :named a2))</span>
<span class="linenos">77</span>    <span class="n">a2</span> <span class="o">=</span> <span class="n">tm</span><span class="o">.</span><span class="n">mk_term</span><span class="p">(</span><span class="n">Kind</span><span class="o">.</span><span class="n">EQUAL</span><span class="p">,</span>
<span class="linenos">78</span>                      <span class="p">[</span><span class="n">x4</span><span class="p">,</span>
<span class="linenos">79</span>                       <span class="n">tm</span><span class="o">.</span><span class="n">mk_term</span><span class="p">(</span><span class="n">Kind</span><span class="o">.</span><span class="n">FP_TO_FP_FROM_UBV</span><span class="p">,</span>
<span class="linenos">80</span>                               <span class="p">[</span><span class="n">tm</span><span class="o">.</span><span class="n">mk_rm_value</span><span class="p">(</span><span class="n">RoundingMode</span><span class="o">.</span><span class="n">RNE</span><span class="p">),</span> <span class="n">x3</span><span class="p">],</span>
<span class="linenos">81</span>                               <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">11</span><span class="p">])])</span>
<span class="linenos">82</span>    <span class="n">bitwuzla</span><span class="o">.</span><span class="n">assert_formula</span><span class="p">(</span><span class="n">a2</span><span class="p">)</span>
<span class="linenos">83</span>
<span class="linenos">84</span>    <span class="c1"># (check-sat)</span>
<span class="linenos">85</span>    <span class="n">result</span> <span class="o">=</span> <span class="n">bitwuzla</span><span class="o">.</span><span class="n">check_sat</span><span class="p">()</span>
<span class="linenos">86</span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Expect: unsat&#39;</span><span class="p">)</span>
<span class="linenos">87</span>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Bitwuzla: </span><span class="si">{</span><span class="n">result</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="linenos">88</span>
<span class="linenos">89</span>    <span class="c1"># (get-unsat-core)</span>
<span class="linenos">90</span>    <span class="n">unsat_core</span> <span class="o">=</span> <span class="n">bitwuzla</span><span class="o">.</span><span class="n">get_unsat_core</span><span class="p">()</span>
<span class="linenos">91</span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Unsat Core:&#39;</span><span class="p">)</span>
<span class="linenos">92</span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;{&#39;</span><span class="p">)</span>
<span class="linenos">93</span>    <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="n">unsat_core</span><span class="p">:</span>
<span class="linenos">94</span>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39; </span><span class="si">{</span><span class="n">t</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="linenos">95</span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;}&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div><div aria-labelledby="tab-5-5-3" class="sphinx-tabs-panel" hidden="true" id="panel-5-5-3" name="5-3" role="tabpanel" tabindex="0"><div class="highlight-smtlib notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span>(<span class="k">set-logic</span> <span class="n">ALL</span>)
<span class="linenos"> 2</span>(<span class="k">set-option</span> <span class="na">:produce-unsat-cores</span> <span class="s">true</span>)
<span class="linenos"> 3</span>(<span class="k">declare-const</span> <span class="n">x0</span> (_ <span class="na">BitVec</span> <span class="m">4</span>))
<span class="linenos"> 4</span>(<span class="k">declare-const</span> <span class="n">x1</span> (_ <span class="na">BitVec</span> <span class="m">2</span>))
<span class="linenos"> 5</span>(<span class="k">declare-const</span> <span class="n">x2</span> (_ <span class="na">BitVec</span> <span class="m">2</span>))
<span class="linenos"> 6</span>(<span class="k">declare-const</span> <span class="n">x3</span> (_ <span class="na">BitVec</span> <span class="m">2</span>))
<span class="linenos"> 7</span>(<span class="k">declare-const</span> <span class="n">x4</span> <span class="n">Float16</span>)
<span class="linenos"> 8</span>(<span class="k">define-fun</span> <span class="n">f0</span> ((<span class="n">a</span> <span class="n">Float16</span>)) <span class="n">Bool</span> (<span class="o">fp.gt</span> <span class="n">a</span> (_ <span class="o">+zero</span> <span class="m">5</span> <span class="m">11</span>)))
<span class="linenos"> 9</span>(<span class="k">define-fun</span> <span class="n">f1</span> ((<span class="n">a</span> <span class="n">Float16</span>)) (_ <span class="na">BitVec</span> <span class="m">4</span>) (<span class="o">ite</span> (<span class="n">f0</span> <span class="n">a</span>) <span class="n">x0</span> <span class="s">#b0000</span>))
<span class="linenos">10</span>(<span class="k">define-fun</span> <span class="n">f2</span> ((<span class="n">a</span> <span class="n">Float16</span>)) (_ <span class="na">BitVec</span> <span class="m">2</span>) ((_ <span class="o">extract</span> <span class="m">1</span> <span class="m">0</span>) (<span class="n">f1</span> <span class="n">a</span>)))
<span class="linenos">11</span>(<span class="k">assert</span> (<span class="na">!</span> (<span class="o">bvult</span> <span class="n">x2</span> (<span class="n">f2</span> (_ <span class="o">+zero</span> <span class="m">5</span> <span class="m">11</span>))) <span class="na">:named</span> <span class="n">a0</span>))
<span class="linenos">12</span>(<span class="k">assert</span> (<span class="na">!</span> (<span class="o">=</span> <span class="n">x1</span> <span class="n">x2</span> <span class="n">x3</span>) <span class="na">:named</span> <span class="n">a1</span>))
<span class="linenos">13</span>(<span class="k">assert</span> (<span class="na">!</span>(<span class="o">=</span> <span class="n">x4</span> ((_ <span class="o">to_fp_unsigned</span> <span class="m">5</span> <span class="m">11</span>) <span class="na">RNE</span> <span class="n">x3</span>)) <span class="na">:named</span> <span class="n">a2</span>))
<span class="linenos">14</span>(<span class="k">check-sat</span>)
<span class="linenos">15</span>(<span class="k">get-unsat-core</span>)
</pre></div>
</div>
</div></div>
</section>
<section id="unsat-assumptions-example">
<h3><a class="toc-backref" href="#id12" role="doc-backlink">Unsat Assumptions Example</a><a class="headerlink" href="#unsat-assumptions-example" title="Link to this heading"></a></h3>
<div class="line-block">
<div class="line">This example shows how to implement the example above with <code class="code docutils literal notranslate"><span class="pre">get-unsat-assumptions</span></code>.</div>
<div class="line">The SMT-LIB input for this example can be found at <a class="reference external" href="https://github.com/bitwuzla/bitwuzla/tree/main/examples/smt2/unsatassumptions.smt2">examples/smt2/unsatassumptions.smt2</a>.</div>
<div class="line">The source code for this example can be found at <a class="reference external" href="https://github.com/bitwuzla/bitwuzla/tree/main/examples/cpp/unsatassumptions.cpp">examples/cpp/unsatassumptions.cpp</a>.</div>
</div>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-6-6-0" aria-selected="true" class="sphinx-tabs-tab" id="tab-6-6-0" name="6-0" role="tab" tabindex="0">C++</button><button aria-controls="panel-6-6-1" aria-selected="false" class="sphinx-tabs-tab" id="tab-6-6-1" name="6-1" role="tab" tabindex="-1">C</button><button aria-controls="panel-6-6-2" aria-selected="false" class="sphinx-tabs-tab" id="tab-6-6-2" name="6-2" role="tab" tabindex="-1">Python</button><button aria-controls="panel-6-6-3" aria-selected="false" class="sphinx-tabs-tab" id="tab-6-6-3" name="6-3" role="tab" tabindex="-1">SMT-LIBv2</button></div><div aria-labelledby="tab-6-6-0" class="sphinx-tabs-panel" id="panel-6-6-0" name="6-0" role="tabpanel" tabindex="0"><div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="linenos">  1</span><span class="cm">/***</span>
<span class="linenos">  2</span><span class="cm"> * Bitwuzla: Satisfiability Modulo Theories (SMT) solver.</span>
<span class="linenos">  3</span><span class="cm"> *</span>
<span class="linenos">  4</span><span class="cm"> * Copyright (C) 2023 by the authors listed in the AUTHORS file at</span>
<span class="linenos">  5</span><span class="cm"> * https://github.com/bitwuzla/bitwuzla/blob/main/AUTHORS</span>
<span class="linenos">  6</span><span class="cm"> *</span>
<span class="linenos">  7</span><span class="cm"> * This file is part of Bitwuzla under the MIT license. See COPYING for more</span>
<span class="linenos">  8</span><span class="cm"> * information at https://github.com/bitwuzla/bitwuzla/blob/main/COPYING</span>
<span class="linenos">  9</span><span class="cm"> */</span>
<span class="linenos"> 10</span>
<span class="linenos"> 11</span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;bitwuzla/cpp/bitwuzla.h&gt;</span>
<span class="linenos"> 12</span>
<span class="linenos"> 13</span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;iostream&gt;</span>
<span class="linenos"> 14</span>
<span class="linenos"> 15</span><span class="k">using</span><span class="w"> </span><span class="k">namespace</span><span class="w"> </span><span class="nn">bitwuzla</span><span class="p">;</span>
<span class="linenos"> 16</span>
<span class="linenos"> 17</span><span class="kt">int</span>
<span class="linenos"> 18</span><span class="nf">main</span><span class="p">()</span>
<span class="linenos"> 19</span><span class="p">{</span>
<span class="linenos"> 20</span><span class="w">  </span><span class="c1">// First, create a term manager instance.</span>
<span class="linenos"> 21</span><span class="w">  </span><span class="n">TermManager</span><span class="w"> </span><span class="n">tm</span><span class="p">;</span>
<span class="linenos"> 22</span><span class="w">  </span><span class="c1">// Create a Bitwuzla options instance.</span>
<span class="linenos"> 23</span><span class="w">  </span><span class="n">Options</span><span class="w"> </span><span class="n">options</span><span class="p">;</span>
<span class="linenos"> 24</span><span class="w">  </span><span class="c1">// (set-option :produce-unsat-assumptions true)</span>
<span class="linenos"> 25</span><span class="w">  </span><span class="n">options</span><span class="p">.</span><span class="n">set</span><span class="p">(</span><span class="n">Option</span><span class="o">::</span><span class="n">PRODUCE_UNSAT_ASSUMPTIONS</span><span class="p">,</span><span class="w"> </span><span class="nb">true</span><span class="p">);</span>
<span class="linenos"> 26</span><span class="w">  </span><span class="c1">// Then, create a Bitwuzla instance.</span>
<span class="linenos"> 27</span><span class="w">  </span><span class="n">Bitwuzla</span><span class="w"> </span><span class="n">bitwuzla</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span><span class="w"> </span><span class="n">options</span><span class="p">);</span>
<span class="linenos"> 28</span>
<span class="linenos"> 29</span><span class="w">  </span><span class="c1">// Create Boolean sort.</span>
<span class="linenos"> 30</span><span class="w">  </span><span class="n">Sort</span><span class="w"> </span><span class="n">sortbool</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">tm</span><span class="p">.</span><span class="n">mk_bool_sort</span><span class="p">();</span>
<span class="linenos"> 31</span><span class="w">  </span><span class="c1">// Create a bit-vector sort of size 2.</span>
<span class="linenos"> 32</span><span class="w">  </span><span class="n">Sort</span><span class="w"> </span><span class="n">sortbv2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">tm</span><span class="p">.</span><span class="n">mk_bv_sort</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span>
<span class="linenos"> 33</span><span class="w">  </span><span class="c1">// Create a bit-vector sort of size 4.</span>
<span class="linenos"> 34</span><span class="w">  </span><span class="n">Sort</span><span class="w"> </span><span class="n">sortbv4</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">tm</span><span class="p">.</span><span class="n">mk_bv_sort</span><span class="p">(</span><span class="mi">4</span><span class="p">);</span>
<span class="linenos"> 35</span><span class="w">  </span><span class="c1">// Create Float16 floatinf-point sort.</span>
<span class="linenos"> 36</span><span class="w">  </span><span class="n">Sort</span><span class="w"> </span><span class="n">sortfp16</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">tm</span><span class="p">.</span><span class="n">mk_fp_sort</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">11</span><span class="p">);</span>
<span class="linenos"> 37</span><span class="w">  </span><span class="c1">// Create bit-vector variables.</span>
<span class="linenos"> 38</span><span class="w">  </span><span class="c1">// (declare-const x0 (_ BitVec 4))</span>
<span class="linenos"> 39</span><span class="w">  </span><span class="n">Term</span><span class="w"> </span><span class="n">x0</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">tm</span><span class="p">.</span><span class="n">mk_const</span><span class="p">(</span><span class="n">sortbv4</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;x0&quot;</span><span class="p">);</span>
<span class="linenos"> 40</span><span class="w">  </span><span class="c1">// (declare-const x1 (_ BitVec 2))</span>
<span class="linenos"> 41</span><span class="w">  </span><span class="n">Term</span><span class="w"> </span><span class="n">x1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">tm</span><span class="p">.</span><span class="n">mk_const</span><span class="p">(</span><span class="n">sortbv2</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;x1&quot;</span><span class="p">);</span>
<span class="linenos"> 42</span><span class="w">  </span><span class="c1">// (declare-const x2 (_ BitVec 2))</span>
<span class="linenos"> 43</span><span class="w">  </span><span class="n">Term</span><span class="w"> </span><span class="n">x2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">tm</span><span class="p">.</span><span class="n">mk_const</span><span class="p">(</span><span class="n">sortbv2</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;x2&quot;</span><span class="p">);</span>
<span class="linenos"> 44</span><span class="w">  </span><span class="c1">// (declare-const x3 (_ BitVec 2))</span>
<span class="linenos"> 45</span><span class="w">  </span><span class="n">Term</span><span class="w"> </span><span class="n">x3</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">tm</span><span class="p">.</span><span class="n">mk_const</span><span class="p">(</span><span class="n">sortbv2</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;x3&quot;</span><span class="p">);</span>
<span class="linenos"> 46</span><span class="w">  </span><span class="c1">// (declare-const x4 Float16)</span>
<span class="linenos"> 47</span><span class="w">  </span><span class="n">Term</span><span class="w"> </span><span class="n">x4</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">tm</span><span class="p">.</span><span class="n">mk_const</span><span class="p">(</span><span class="n">sortfp16</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;x4&quot;</span><span class="p">);</span>
<span class="linenos"> 48</span>
<span class="linenos"> 49</span><span class="w">  </span><span class="c1">// Create FP positive zero.</span>
<span class="linenos"> 50</span><span class="w">  </span><span class="n">Term</span><span class="w"> </span><span class="n">fpzero</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">tm</span><span class="p">.</span><span class="n">mk_fp_pos_zero</span><span class="p">(</span><span class="n">sortfp16</span><span class="p">);</span>
<span class="linenos"> 51</span><span class="w">  </span><span class="c1">// Create BV zero of size 4.</span>
<span class="linenos"> 52</span><span class="w">  </span><span class="n">Term</span><span class="w"> </span><span class="n">bvzero</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">tm</span><span class="p">.</span><span class="n">mk_bv_zero</span><span class="p">(</span><span class="n">sortbv4</span><span class="p">);</span>
<span class="linenos"> 53</span>
<span class="linenos"> 54</span><span class="w">  </span><span class="c1">// (define-fun f0 ((a Float16)) Bool (fp.gt a (_ +zero 5 11)))</span>
<span class="linenos"> 55</span><span class="w">  </span><span class="n">Term</span><span class="w"> </span><span class="n">a_f0</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">tm</span><span class="p">.</span><span class="n">mk_var</span><span class="p">(</span><span class="n">sortfp16</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;a_f0&quot;</span><span class="p">);</span>
<span class="linenos"> 56</span><span class="w">  </span><span class="n">Term</span><span class="w"> </span><span class="n">f0</span><span class="w"> </span><span class="o">=</span>
<span class="linenos"> 57</span><span class="w">      </span><span class="n">tm</span><span class="p">.</span><span class="n">mk_term</span><span class="p">(</span><span class="n">Kind</span><span class="o">::</span><span class="n">LAMBDA</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="n">a_f0</span><span class="p">,</span><span class="w"> </span><span class="n">tm</span><span class="p">.</span><span class="n">mk_term</span><span class="p">(</span><span class="n">Kind</span><span class="o">::</span><span class="n">FP_GT</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="n">a_f0</span><span class="p">,</span><span class="w"> </span><span class="n">fpzero</span><span class="p">})});</span>
<span class="linenos"> 58</span>
<span class="linenos"> 59</span><span class="w">  </span><span class="c1">// (define-fun f1 ((a Float16)) (_ BitVec 4) (ite (f0 a) x0 #b0000))</span>
<span class="linenos"> 60</span><span class="w">  </span><span class="n">Term</span><span class="w"> </span><span class="n">a_f1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">tm</span><span class="p">.</span><span class="n">mk_var</span><span class="p">(</span><span class="n">sortfp16</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;a_f1&quot;</span><span class="p">);</span>
<span class="linenos"> 61</span><span class="w">  </span><span class="n">Term</span><span class="w"> </span><span class="n">f1</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="n">tm</span><span class="p">.</span><span class="n">mk_term</span><span class="p">(</span>
<span class="linenos"> 62</span><span class="w">      </span><span class="n">Kind</span><span class="o">::</span><span class="n">LAMBDA</span><span class="p">,</span>
<span class="linenos"> 63</span><span class="w">      </span><span class="p">{</span><span class="n">a_f1</span><span class="p">,</span>
<span class="linenos"> 64</span><span class="w">         </span><span class="n">tm</span><span class="p">.</span><span class="n">mk_term</span><span class="p">(</span><span class="n">Kind</span><span class="o">::</span><span class="n">ITE</span><span class="p">,</span>
<span class="linenos"> 65</span><span class="w">                    </span><span class="p">{</span><span class="n">tm</span><span class="p">.</span><span class="n">mk_term</span><span class="p">(</span><span class="n">Kind</span><span class="o">::</span><span class="n">APPLY</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="n">f0</span><span class="p">,</span><span class="w"> </span><span class="n">a_f1</span><span class="p">}),</span><span class="w"> </span><span class="n">x0</span><span class="p">,</span><span class="w"> </span><span class="n">bvzero</span><span class="p">})});</span>
<span class="linenos"> 66</span>
<span class="linenos"> 67</span><span class="w">  </span><span class="c1">// (define-fun f2 ((a Float16)) (_ BitVec 2) ((_ extract 1 0) (f1 a)))</span>
<span class="linenos"> 68</span><span class="w">  </span><span class="n">Term</span><span class="w"> </span><span class="n">a_f2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">tm</span><span class="p">.</span><span class="n">mk_var</span><span class="p">(</span><span class="n">sortfp16</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;a_f2&quot;</span><span class="p">);</span>
<span class="linenos"> 69</span><span class="w">  </span><span class="n">Term</span><span class="w"> </span><span class="n">f2</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="n">tm</span><span class="p">.</span><span class="n">mk_term</span><span class="p">(</span>
<span class="linenos"> 70</span><span class="w">      </span><span class="n">Kind</span><span class="o">::</span><span class="n">LAMBDA</span><span class="p">,</span>
<span class="linenos"> 71</span><span class="w">      </span><span class="p">{</span><span class="n">a_f2</span><span class="p">,</span>
<span class="linenos"> 72</span><span class="w">         </span><span class="n">tm</span><span class="p">.</span><span class="n">mk_term</span><span class="p">(</span>
<span class="linenos"> 73</span><span class="w">           </span><span class="n">Kind</span><span class="o">::</span><span class="n">BV_EXTRACT</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="n">tm</span><span class="p">.</span><span class="n">mk_term</span><span class="p">(</span><span class="n">Kind</span><span class="o">::</span><span class="n">APPLY</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="n">f1</span><span class="p">,</span><span class="w"> </span><span class="n">a_f2</span><span class="p">})},</span><span class="w"> </span><span class="p">{</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">})});</span>
<span class="linenos"> 74</span>
<span class="linenos"> 75</span><span class="w">  </span><span class="c1">// (assert (! (bvult x2 (f2 (_ +zero 5 11))) :named a0))</span>
<span class="linenos"> 76</span><span class="w">  </span><span class="n">Term</span><span class="w"> </span><span class="n">a0</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">tm</span><span class="p">.</span><span class="n">mk_const</span><span class="p">(</span><span class="n">sortbool</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;a0&quot;</span><span class="p">);</span>
<span class="linenos"> 77</span><span class="w">  </span><span class="n">Term</span><span class="w"> </span><span class="n">assumption0</span><span class="w"> </span><span class="o">=</span>
<span class="linenos"> 78</span><span class="w">      </span><span class="n">tm</span><span class="p">.</span><span class="n">mk_term</span><span class="p">(</span><span class="n">Kind</span><span class="o">::</span><span class="n">BV_ULT</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="n">x2</span><span class="p">,</span><span class="w"> </span><span class="n">tm</span><span class="p">.</span><span class="n">mk_term</span><span class="p">(</span><span class="n">Kind</span><span class="o">::</span><span class="n">APPLY</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="n">f2</span><span class="p">,</span><span class="w"> </span><span class="n">fpzero</span><span class="p">})});</span>
<span class="linenos"> 79</span><span class="w">  </span><span class="n">bitwuzla</span><span class="p">.</span><span class="n">assert_formula</span><span class="p">(</span><span class="n">tm</span><span class="p">.</span><span class="n">mk_term</span><span class="p">(</span><span class="n">Kind</span><span class="o">::</span><span class="n">EQUAL</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="n">a0</span><span class="p">,</span><span class="w"> </span><span class="n">assumption0</span><span class="p">}));</span>
<span class="linenos"> 80</span><span class="w">  </span><span class="c1">// (assert (! (= x1 x2 x3) :named a1))</span>
<span class="linenos"> 81</span><span class="w">  </span><span class="n">Term</span><span class="w"> </span><span class="n">a1</span><span class="w">          </span><span class="o">=</span><span class="w"> </span><span class="n">tm</span><span class="p">.</span><span class="n">mk_const</span><span class="p">(</span><span class="n">sortbool</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;a1&quot;</span><span class="p">);</span>
<span class="linenos"> 82</span><span class="w">  </span><span class="n">Term</span><span class="w"> </span><span class="n">assumption1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">tm</span><span class="p">.</span><span class="n">mk_term</span><span class="p">(</span><span class="n">Kind</span><span class="o">::</span><span class="n">EQUAL</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="n">x1</span><span class="p">,</span><span class="w"> </span><span class="n">x2</span><span class="p">,</span><span class="w"> </span><span class="n">x3</span><span class="p">});</span>
<span class="linenos"> 83</span><span class="w">  </span><span class="n">bitwuzla</span><span class="p">.</span><span class="n">assert_formula</span><span class="p">(</span><span class="n">tm</span><span class="p">.</span><span class="n">mk_term</span><span class="p">(</span><span class="n">Kind</span><span class="o">::</span><span class="n">EQUAL</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="n">a1</span><span class="p">,</span><span class="w"> </span><span class="n">assumption1</span><span class="p">}));</span>
<span class="linenos"> 84</span><span class="w">  </span><span class="c1">// (assert (!(= x4 ((_ to_fp_unsigned 5 11) RNE x3)) :named a2))</span>
<span class="linenos"> 85</span><span class="w">  </span><span class="n">Term</span><span class="w"> </span><span class="n">a2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">tm</span><span class="p">.</span><span class="n">mk_const</span><span class="p">(</span><span class="n">sortbool</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;a2&quot;</span><span class="p">);</span>
<span class="linenos"> 86</span><span class="w">  </span><span class="n">Term</span><span class="w"> </span><span class="n">assumption2</span><span class="w"> </span><span class="o">=</span>
<span class="linenos"> 87</span><span class="w">      </span><span class="n">tm</span><span class="p">.</span><span class="n">mk_term</span><span class="p">(</span><span class="n">Kind</span><span class="o">::</span><span class="n">EQUAL</span><span class="p">,</span>
<span class="linenos"> 88</span><span class="w">                 </span><span class="p">{</span><span class="n">x4</span><span class="p">,</span>
<span class="linenos"> 89</span><span class="w">                  </span><span class="n">tm</span><span class="p">.</span><span class="n">mk_term</span><span class="p">(</span><span class="n">Kind</span><span class="o">::</span><span class="n">FP_TO_FP_FROM_UBV</span><span class="p">,</span>
<span class="linenos"> 90</span><span class="w">                             </span><span class="p">{</span><span class="n">tm</span><span class="p">.</span><span class="n">mk_rm_value</span><span class="p">(</span><span class="n">RoundingMode</span><span class="o">::</span><span class="n">RNE</span><span class="p">),</span><span class="w"> </span><span class="n">x3</span><span class="p">},</span>
<span class="linenos"> 91</span><span class="w">                             </span><span class="p">{</span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">11</span><span class="p">})});</span>
<span class="linenos"> 92</span><span class="w">  </span><span class="n">bitwuzla</span><span class="p">.</span><span class="n">assert_formula</span><span class="p">(</span><span class="n">tm</span><span class="p">.</span><span class="n">mk_term</span><span class="p">(</span><span class="n">Kind</span><span class="o">::</span><span class="n">EQUAL</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="n">a2</span><span class="p">,</span><span class="w"> </span><span class="n">assumption2</span><span class="p">}));</span>
<span class="linenos"> 93</span>
<span class="linenos"> 94</span><span class="w">  </span><span class="c1">// (check-sat-assuming (assumption0 assumption1 assumption2))</span>
<span class="linenos"> 95</span><span class="w">  </span><span class="n">Result</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla</span><span class="p">.</span><span class="n">check_sat</span><span class="p">({</span><span class="n">a0</span><span class="p">,</span><span class="w"> </span><span class="n">a1</span><span class="p">,</span><span class="w"> </span><span class="n">a2</span><span class="p">});</span>
<span class="linenos"> 96</span><span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Expect: unsat&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="linenos"> 97</span><span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Bitwuzla: &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="linenos"> 98</span>
<span class="linenos"> 99</span><span class="w">  </span><span class="c1">// (get-unsat-assumptions)</span>
<span class="linenos">100</span><span class="w">  </span><span class="k">auto</span><span class="w"> </span><span class="n">unsat_assumptions</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla</span><span class="p">.</span><span class="n">get_unsat_assumptions</span><span class="p">();</span>
<span class="linenos">101</span><span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Unsat Assumptions: {&quot;</span><span class="p">;</span>
<span class="linenos">102</span><span class="w">  </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="k">auto</span><span class="o">&amp;</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">unsat_assumptions</span><span class="p">)</span>
<span class="linenos">103</span><span class="w">  </span><span class="p">{</span>
<span class="linenos">104</span><span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot; &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">a</span><span class="p">;</span>
<span class="linenos">105</span><span class="w">  </span><span class="p">}</span>
<span class="linenos">106</span><span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot; }&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="linenos">107</span>
<span class="linenos">108</span><span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">109</span><span class="p">}</span>
</pre></div>
</div>
</div><div aria-labelledby="tab-6-6-1" class="sphinx-tabs-panel" hidden="true" id="panel-6-6-1" name="6-1" role="tabpanel" tabindex="0"><div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="linenos">  1</span><span class="cm">/***</span>
<span class="linenos">  2</span><span class="cm"> * Bitwuzla: Satisfiability Modulo Theories (SMT) solver.</span>
<span class="linenos">  3</span><span class="cm"> *</span>
<span class="linenos">  4</span><span class="cm"> * Copyright (C) 2021 by the authors listed in the AUTHORS file at</span>
<span class="linenos">  5</span><span class="cm"> * https://github.com/bitwuzla/bitwuzla/blob/main/AUTHORS</span>
<span class="linenos">  6</span><span class="cm"> *</span>
<span class="linenos">  7</span><span class="cm"> * This file is part of Bitwuzla under the MIT license. See COPYING for more</span>
<span class="linenos">  8</span><span class="cm"> * information at https://github.com/bitwuzla/bitwuzla/blob/main/COPYING</span>
<span class="linenos">  9</span><span class="cm"> */</span>
<span class="linenos"> 10</span>
<span class="linenos"> 11</span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;bitwuzla/c/bitwuzla.h&gt;</span>
<span class="linenos"> 12</span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;stdio.h&gt;</span>
<span class="linenos"> 13</span>
<span class="linenos"> 14</span><span class="kt">int</span>
<span class="linenos"> 15</span><span class="nf">main</span><span class="p">()</span>
<span class="linenos"> 16</span><span class="p">{</span>
<span class="linenos"> 17</span><span class="w">  </span><span class="c1">// First, create a term manager instance.</span>
<span class="linenos"> 18</span><span class="w">  </span><span class="n">BitwuzlaTermManager</span><span class="w"> </span><span class="o">*</span><span class="n">tm</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_term_manager_new</span><span class="p">();</span>
<span class="linenos"> 19</span><span class="w">  </span><span class="c1">// Create a Bitwuzla options instance.</span>
<span class="linenos"> 20</span><span class="w">  </span><span class="n">BitwuzlaOptions</span><span class="w"> </span><span class="o">*</span><span class="n">options</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_options_new</span><span class="p">();</span>
<span class="linenos"> 21</span><span class="w">  </span><span class="c1">// (set-option :produce-unsat-assumptions true)</span>
<span class="linenos"> 22</span><span class="w">  </span><span class="n">bitwuzla_set_option</span><span class="p">(</span><span class="n">options</span><span class="p">,</span><span class="w"> </span><span class="n">BITWUZLA_OPT_PRODUCE_UNSAT_ASSUMPTIONS</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span>
<span class="linenos"> 23</span><span class="w">  </span><span class="c1">// Then, create a Bitwuzla instance.</span>
<span class="linenos"> 24</span><span class="w">  </span><span class="n">Bitwuzla</span><span class="w"> </span><span class="o">*</span><span class="n">bitwuzla</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_new</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span><span class="w"> </span><span class="n">options</span><span class="p">);</span>
<span class="linenos"> 25</span>
<span class="linenos"> 26</span><span class="w">  </span><span class="c1">// Create Boolean sort.</span>
<span class="linenos"> 27</span><span class="w">  </span><span class="n">BitwuzlaSort</span><span class="w"> </span><span class="n">sortbool</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_bool_sort</span><span class="p">(</span><span class="n">tm</span><span class="p">);</span>
<span class="linenos"> 28</span><span class="w">  </span><span class="c1">// Create a bit-vector sort of size 2.</span>
<span class="linenos"> 29</span><span class="w">  </span><span class="n">BitwuzlaSort</span><span class="w"> </span><span class="n">sortbv2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_bv_sort</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">);</span>
<span class="linenos"> 30</span><span class="w">  </span><span class="c1">// Create a bit-vector sort of size 4.</span>
<span class="linenos"> 31</span><span class="w">  </span><span class="n">BitwuzlaSort</span><span class="w"> </span><span class="n">sortbv4</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_bv_sort</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">);</span>
<span class="linenos"> 32</span><span class="w">  </span><span class="c1">// Create Float16 floatinf-point sort.</span>
<span class="linenos"> 33</span><span class="w">  </span><span class="n">BitwuzlaSort</span><span class="w"> </span><span class="n">sortfp16</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_fp_sort</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">11</span><span class="p">);</span>
<span class="linenos"> 34</span><span class="w">  </span><span class="c1">// Create bit-vector variables.</span>
<span class="linenos"> 35</span><span class="w">  </span><span class="c1">// (declare-const x0 (_ BitVec 4))</span>
<span class="linenos"> 36</span><span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">x0</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_const</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span><span class="w"> </span><span class="n">sortbv4</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;x0&quot;</span><span class="p">);</span>
<span class="linenos"> 37</span><span class="w">  </span><span class="c1">// (declare-const x1 (_ BitVec 2))</span>
<span class="linenos"> 38</span><span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">x1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_const</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span><span class="w"> </span><span class="n">sortbv2</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;x1&quot;</span><span class="p">);</span>
<span class="linenos"> 39</span><span class="w">  </span><span class="c1">// (declare-const x2 (_ BitVec 2))</span>
<span class="linenos"> 40</span><span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">x2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_const</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span><span class="w"> </span><span class="n">sortbv2</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;x2&quot;</span><span class="p">);</span>
<span class="linenos"> 41</span><span class="w">  </span><span class="c1">// (declare-const x3 (_ BitVec 2))</span>
<span class="linenos"> 42</span><span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">x3</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_const</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span><span class="w"> </span><span class="n">sortbv2</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;x3&quot;</span><span class="p">);</span>
<span class="linenos"> 43</span><span class="w">  </span><span class="c1">// (declare-const x4 Float16)</span>
<span class="linenos"> 44</span><span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">x4</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_const</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span><span class="w"> </span><span class="n">sortfp16</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;x4&quot;</span><span class="p">);</span>
<span class="linenos"> 45</span>
<span class="linenos"> 46</span><span class="w">  </span><span class="c1">// Create FP positive zero.</span>
<span class="linenos"> 47</span><span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">fpzero</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_fp_pos_zero</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span><span class="w"> </span><span class="n">sortfp16</span><span class="p">);</span>
<span class="linenos"> 48</span><span class="w">  </span><span class="c1">// Create BV zero of size 4.</span>
<span class="linenos"> 49</span><span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">bvzero</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_bv_zero</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span><span class="w"> </span><span class="n">sortbv4</span><span class="p">);</span>
<span class="linenos"> 50</span>
<span class="linenos"> 51</span><span class="w">  </span><span class="c1">// (define-fun f0 ((a Float16)) Bool (fp.gt a (_ +zero 5 11)))</span>
<span class="linenos"> 52</span><span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">a_f0</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_var</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span><span class="w"> </span><span class="n">sortfp16</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;a_f0&quot;</span><span class="p">);</span>
<span class="linenos"> 53</span><span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">f0</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_term2</span><span class="p">(</span>
<span class="linenos"> 54</span><span class="w">      </span><span class="n">tm</span><span class="p">,</span>
<span class="linenos"> 55</span><span class="w">      </span><span class="n">BITWUZLA_KIND_LAMBDA</span><span class="p">,</span>
<span class="linenos"> 56</span><span class="w">      </span><span class="n">a_f0</span><span class="p">,</span>
<span class="linenos"> 57</span><span class="w">      </span><span class="n">bitwuzla_mk_term2</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span><span class="w"> </span><span class="n">BITWUZLA_KIND_FP_GT</span><span class="p">,</span><span class="w"> </span><span class="n">a_f0</span><span class="p">,</span><span class="w"> </span><span class="n">fpzero</span><span class="p">));</span>
<span class="linenos"> 58</span>
<span class="linenos"> 59</span><span class="w">  </span><span class="c1">// (define-fun f1 ((a Float16)) (_ BitVec 4) (ite (f0 a) x0 #b0000))</span>
<span class="linenos"> 60</span><span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">a_f1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_var</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span><span class="w"> </span><span class="n">sortfp16</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;a_f1&quot;</span><span class="p">);</span>
<span class="linenos"> 61</span><span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">f1</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_term2</span><span class="p">(</span>
<span class="linenos"> 62</span><span class="w">      </span><span class="n">tm</span><span class="p">,</span>
<span class="linenos"> 63</span><span class="w">      </span><span class="n">BITWUZLA_KIND_LAMBDA</span><span class="p">,</span>
<span class="linenos"> 64</span><span class="w">      </span><span class="n">a_f1</span><span class="p">,</span>
<span class="linenos"> 65</span><span class="w">      </span><span class="n">bitwuzla_mk_term3</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span>
<span class="linenos"> 66</span><span class="w">                        </span><span class="n">BITWUZLA_KIND_ITE</span><span class="p">,</span>
<span class="linenos"> 67</span><span class="w">                        </span><span class="n">bitwuzla_mk_term2</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span><span class="w"> </span><span class="n">BITWUZLA_KIND_APPLY</span><span class="p">,</span><span class="w"> </span><span class="n">f0</span><span class="p">,</span><span class="w"> </span><span class="n">a_f1</span><span class="p">),</span>
<span class="linenos"> 68</span><span class="w">                        </span><span class="n">x0</span><span class="p">,</span>
<span class="linenos"> 69</span><span class="w">                        </span><span class="n">bvzero</span><span class="p">));</span>
<span class="linenos"> 70</span>
<span class="linenos"> 71</span><span class="w">  </span><span class="c1">// (define-fun f2 ((a Float16)) (_ BitVec 2) ((_ extract 1 0) (f1 a)))</span>
<span class="linenos"> 72</span><span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">a_f2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_var</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span><span class="w"> </span><span class="n">sortfp16</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;a_f2&quot;</span><span class="p">);</span>
<span class="linenos"> 73</span><span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">f2</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_term2</span><span class="p">(</span>
<span class="linenos"> 74</span><span class="w">      </span><span class="n">tm</span><span class="p">,</span>
<span class="linenos"> 75</span><span class="w">      </span><span class="n">BITWUZLA_KIND_LAMBDA</span><span class="p">,</span>
<span class="linenos"> 76</span><span class="w">      </span><span class="n">a_f2</span><span class="p">,</span>
<span class="linenos"> 77</span><span class="w">      </span><span class="n">bitwuzla_mk_term1_indexed2</span><span class="p">(</span>
<span class="linenos"> 78</span><span class="w">          </span><span class="n">tm</span><span class="p">,</span>
<span class="linenos"> 79</span><span class="w">          </span><span class="n">BITWUZLA_KIND_BV_EXTRACT</span><span class="p">,</span>
<span class="linenos"> 80</span><span class="w">          </span><span class="n">bitwuzla_mk_term2</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span><span class="w"> </span><span class="n">BITWUZLA_KIND_APPLY</span><span class="p">,</span><span class="w"> </span><span class="n">f1</span><span class="p">,</span><span class="w"> </span><span class="n">a_f2</span><span class="p">),</span>
<span class="linenos"> 81</span><span class="w">          </span><span class="mi">1</span><span class="p">,</span>
<span class="linenos"> 82</span><span class="w">          </span><span class="mi">0</span><span class="p">));</span>
<span class="linenos"> 83</span>
<span class="linenos"> 84</span><span class="w">  </span><span class="c1">// (assert (! (bvult x2 (f2 (_ +zero 5 11))) :named a0))</span>
<span class="linenos"> 85</span><span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">a0</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_const</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span><span class="w"> </span><span class="n">sortbool</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;a0&quot;</span><span class="p">);</span>
<span class="linenos"> 86</span><span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">assumption0</span><span class="w"> </span><span class="o">=</span>
<span class="linenos"> 87</span><span class="w">      </span><span class="n">bitwuzla_mk_term2</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span>
<span class="linenos"> 88</span><span class="w">                        </span><span class="n">BITWUZLA_KIND_BV_ULT</span><span class="p">,</span>
<span class="linenos"> 89</span><span class="w">                        </span><span class="n">x2</span><span class="p">,</span>
<span class="linenos"> 90</span><span class="w">                        </span><span class="n">bitwuzla_mk_term2</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span><span class="w"> </span><span class="n">BITWUZLA_KIND_APPLY</span><span class="p">,</span><span class="w"> </span><span class="n">f2</span><span class="p">,</span><span class="w"> </span><span class="n">fpzero</span><span class="p">));</span>
<span class="linenos"> 91</span><span class="w">  </span><span class="n">bitwuzla_assert</span><span class="p">(</span><span class="n">bitwuzla</span><span class="p">,</span>
<span class="linenos"> 92</span><span class="w">                  </span><span class="n">bitwuzla_mk_term2</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span><span class="w"> </span><span class="n">BITWUZLA_KIND_EQUAL</span><span class="p">,</span><span class="w"> </span><span class="n">a0</span><span class="p">,</span><span class="w"> </span><span class="n">assumption0</span><span class="p">));</span>
<span class="linenos"> 93</span><span class="w">  </span><span class="c1">// (assert (! (= x1 x2 x3) :named a1))</span>
<span class="linenos"> 94</span><span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">a1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_const</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span><span class="w"> </span><span class="n">sortbool</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;a1&quot;</span><span class="p">);</span>
<span class="linenos"> 95</span><span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">assumption1</span><span class="w"> </span><span class="o">=</span>
<span class="linenos"> 96</span><span class="w">      </span><span class="n">bitwuzla_mk_term3</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span><span class="w"> </span><span class="n">BITWUZLA_KIND_EQUAL</span><span class="p">,</span><span class="w"> </span><span class="n">x1</span><span class="p">,</span><span class="w"> </span><span class="n">x2</span><span class="p">,</span><span class="w"> </span><span class="n">x3</span><span class="p">);</span>
<span class="linenos"> 97</span><span class="w">  </span><span class="n">bitwuzla_assert</span><span class="p">(</span><span class="n">bitwuzla</span><span class="p">,</span>
<span class="linenos"> 98</span><span class="w">                  </span><span class="n">bitwuzla_mk_term2</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span><span class="w"> </span><span class="n">BITWUZLA_KIND_EQUAL</span><span class="p">,</span><span class="w"> </span><span class="n">a1</span><span class="p">,</span><span class="w"> </span><span class="n">assumption1</span><span class="p">));</span>
<span class="linenos"> 99</span><span class="w">  </span><span class="c1">// (assert (!(= x4 ((_ to_fp_unsigned 5 11) RNE x3)) :named a2))</span>
<span class="linenos">100</span><span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">a2</span><span class="w">          </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_const</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span><span class="w"> </span><span class="n">sortbool</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;a2&quot;</span><span class="p">);</span>
<span class="linenos">101</span><span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">assumption2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_term2</span><span class="p">(</span>
<span class="linenos">102</span><span class="w">      </span><span class="n">tm</span><span class="p">,</span>
<span class="linenos">103</span><span class="w">      </span><span class="n">BITWUZLA_KIND_EQUAL</span><span class="p">,</span>
<span class="linenos">104</span><span class="w">      </span><span class="n">x4</span><span class="p">,</span>
<span class="linenos">105</span><span class="w">      </span><span class="n">bitwuzla_mk_term2_indexed2</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span>
<span class="linenos">106</span><span class="w">                                 </span><span class="n">BITWUZLA_KIND_FP_TO_FP_FROM_UBV</span><span class="p">,</span>
<span class="linenos">107</span><span class="w">                                 </span><span class="n">bitwuzla_mk_rm_value</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span><span class="w"> </span><span class="n">BITWUZLA_RM_RNE</span><span class="p">),</span>
<span class="linenos">108</span><span class="w">                                 </span><span class="n">x3</span><span class="p">,</span>
<span class="linenos">109</span><span class="w">                                 </span><span class="mi">5</span><span class="p">,</span>
<span class="linenos">110</span><span class="w">                                 </span><span class="mi">11</span><span class="p">));</span>
<span class="linenos">111</span><span class="w">  </span><span class="n">bitwuzla_assert</span><span class="p">(</span><span class="n">bitwuzla</span><span class="p">,</span>
<span class="linenos">112</span><span class="w">                  </span><span class="n">bitwuzla_mk_term2</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span><span class="w"> </span><span class="n">BITWUZLA_KIND_EQUAL</span><span class="p">,</span><span class="w"> </span><span class="n">a2</span><span class="p">,</span><span class="w"> </span><span class="n">assumption2</span><span class="p">));</span>
<span class="linenos">113</span>
<span class="linenos">114</span><span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">assumptions</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="n">a0</span><span class="p">,</span><span class="w"> </span><span class="n">a1</span><span class="p">,</span><span class="w"> </span><span class="n">a2</span><span class="p">};</span>
<span class="linenos">115</span><span class="w">  </span><span class="c1">// (check-sat-assuming (assumption0 assumption1 assumption2))</span>
<span class="linenos">116</span><span class="w">  </span><span class="n">BitwuzlaResult</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_check_sat_assuming</span><span class="p">(</span><span class="n">bitwuzla</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="n">assumptions</span><span class="p">);</span>
<span class="linenos">117</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Expect: unsat</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="linenos">118</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Bitwuzla: %s</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">bitwuzla_result_to_string</span><span class="p">(</span><span class="n">result</span><span class="p">));</span>
<span class="linenos">119</span>
<span class="linenos">120</span><span class="w">  </span><span class="c1">// (get-unsat-assumptions)</span>
<span class="linenos">121</span><span class="w">  </span><span class="kt">size_t</span><span class="w"> </span><span class="n">unsat_assumptions_size</span><span class="p">;</span>
<span class="linenos">122</span><span class="w">  </span><span class="k">const</span><span class="w"> </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="o">*</span><span class="n">unsat_assumptions</span><span class="w"> </span><span class="o">=</span>
<span class="linenos">123</span><span class="w">      </span><span class="n">bitwuzla_get_unsat_assumptions</span><span class="p">(</span><span class="n">bitwuzla</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">unsat_assumptions_size</span><span class="p">);</span>
<span class="linenos">124</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Unsat Assumptions: {&quot;</span><span class="p">);</span>
<span class="linenos">125</span><span class="w">  </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">unsat_assumptions_size</span><span class="p">;</span><span class="w"> </span><span class="o">++</span><span class="n">i</span><span class="p">)</span>
<span class="linenos">126</span><span class="w">  </span><span class="p">{</span>
<span class="linenos">127</span><span class="w">    </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot; %s&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">bitwuzla_term_to_string</span><span class="p">(</span><span class="n">unsat_assumptions</span><span class="p">[</span><span class="n">i</span><span class="p">]));</span>
<span class="linenos">128</span><span class="w">  </span><span class="p">}</span>
<span class="linenos">129</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot; }</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="linenos">130</span>
<span class="linenos">131</span><span class="w">  </span><span class="c1">// Finally, delete the Bitwuzla solver, options, and term manager instances.</span>
<span class="linenos">132</span><span class="w">  </span><span class="n">bitwuzla_delete</span><span class="p">(</span><span class="n">bitwuzla</span><span class="p">);</span>
<span class="linenos">133</span><span class="w">  </span><span class="n">bitwuzla_options_delete</span><span class="p">(</span><span class="n">options</span><span class="p">);</span>
<span class="linenos">134</span><span class="w">  </span><span class="n">bitwuzla_term_manager_delete</span><span class="p">(</span><span class="n">tm</span><span class="p">);</span>
<span class="linenos">135</span>
<span class="linenos">136</span><span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">137</span><span class="p">}</span>
</pre></div>
</div>
</div><div aria-labelledby="tab-6-6-2" class="sphinx-tabs-panel" hidden="true" id="panel-6-6-2" name="6-2" role="tabpanel" tabindex="0"><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="c1">###</span>
<span class="linenos"> 2</span><span class="c1"># Bitwuzla: Satisfiability Modulo Theories (SMT) solver.</span>
<span class="linenos"> 3</span><span class="c1">#</span>
<span class="linenos"> 4</span><span class="c1"># Copyright (C) 2023 by the authors listed in the AUTHORS file at</span>
<span class="linenos"> 5</span><span class="c1"># https:#github.com/bitwuzla/bitwuzla/blob/main/AUTHORS</span>
<span class="linenos"> 6</span><span class="c1">#</span>
<span class="linenos"> 7</span><span class="c1"># This file is part of Bitwuzla under the MIT license. See COPYING for more</span>
<span class="linenos"> 8</span><span class="c1"># information at https:#github.com/bitwuzla/bitwuzla/blob/main/COPYING</span>
<span class="linenos"> 9</span><span class="c1">##</span>
<span class="linenos">10</span>
<span class="linenos">11</span><span class="kn">from</span><span class="w"> </span><span class="nn">bitwuzla</span><span class="w"> </span><span class="kn">import</span> <span class="o">*</span>
<span class="linenos">12</span>
<span class="linenos">13</span><span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
<span class="linenos">14</span>
<span class="linenos">15</span>    <span class="c1"># First, create a term manager instance.</span>
<span class="linenos">16</span>    <span class="n">tm</span> <span class="o">=</span> <span class="n">TermManager</span><span class="p">()</span>
<span class="linenos">17</span>    <span class="c1"># Create a Bitwuzla options instance.</span>
<span class="linenos">18</span>    <span class="n">options</span> <span class="o">=</span> <span class="n">Options</span><span class="p">()</span>
<span class="linenos">19</span>    <span class="c1"># (set-option :produce-unsat-assumptions true)</span>
<span class="linenos">20</span>    <span class="n">options</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">Option</span><span class="o">.</span><span class="n">PRODUCE_UNSAT_ASSUMPTIONS</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
<span class="linenos">21</span>
<span class="linenos">22</span>    <span class="c1"># Then, create a Bitwuzla instance.</span>
<span class="linenos">23</span>    <span class="n">bitwuzla</span> <span class="o">=</span> <span class="n">Bitwuzla</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span> <span class="n">options</span><span class="p">)</span>
<span class="linenos">24</span>
<span class="linenos">25</span>    <span class="c1"># Create Boolean sort.</span>
<span class="linenos">26</span>    <span class="n">sortbool</span> <span class="o">=</span> <span class="n">tm</span><span class="o">.</span><span class="n">mk_bool_sort</span><span class="p">()</span>
<span class="linenos">27</span>    <span class="c1"># Create a bit-vector sort of size 2.</span>
<span class="linenos">28</span>    <span class="n">sortbv2</span> <span class="o">=</span> <span class="n">tm</span><span class="o">.</span><span class="n">mk_bv_sort</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="linenos">29</span>    <span class="c1"># Create a bit-vector sort of size 4.</span>
<span class="linenos">30</span>    <span class="n">sortbv4</span> <span class="o">=</span> <span class="n">tm</span><span class="o">.</span><span class="n">mk_bv_sort</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="linenos">31</span>    <span class="c1"># Create Float16 floatinf-point sort.</span>
<span class="linenos">32</span>    <span class="n">sortfp16</span> <span class="o">=</span> <span class="n">tm</span><span class="o">.</span><span class="n">mk_fp_sort</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">11</span><span class="p">)</span>
<span class="linenos">33</span>    <span class="c1"># Create bit-vector variables.</span>
<span class="linenos">34</span>    <span class="c1"># (declare-const x0 (_ BitVec 4))</span>
<span class="linenos">35</span>    <span class="n">x0</span> <span class="o">=</span> <span class="n">tm</span><span class="o">.</span><span class="n">mk_const</span><span class="p">(</span><span class="n">sortbv4</span><span class="p">,</span> <span class="s1">&#39;x0&#39;</span><span class="p">)</span>
<span class="linenos">36</span>    <span class="c1"># (declare-const x1 (_ BitVec 2))</span>
<span class="linenos">37</span>    <span class="n">x1</span> <span class="o">=</span> <span class="n">tm</span><span class="o">.</span><span class="n">mk_const</span><span class="p">(</span><span class="n">sortbv2</span><span class="p">,</span> <span class="s1">&#39;x1&#39;</span><span class="p">)</span>
<span class="linenos">38</span>    <span class="c1"># (declare-const x2 (_ BitVec 2))</span>
<span class="linenos">39</span>    <span class="n">x2</span> <span class="o">=</span> <span class="n">tm</span><span class="o">.</span><span class="n">mk_const</span><span class="p">(</span><span class="n">sortbv2</span><span class="p">,</span> <span class="s1">&#39;x2&#39;</span><span class="p">)</span>
<span class="linenos">40</span>    <span class="c1"># (declare-const x3 (_ BitVec 2))</span>
<span class="linenos">41</span>    <span class="n">x3</span> <span class="o">=</span> <span class="n">tm</span><span class="o">.</span><span class="n">mk_const</span><span class="p">(</span><span class="n">sortbv2</span><span class="p">,</span> <span class="s1">&#39;x3&#39;</span><span class="p">)</span>
<span class="linenos">42</span>    <span class="c1"># (declare-const x4 Float16)</span>
<span class="linenos">43</span>    <span class="n">x4</span> <span class="o">=</span> <span class="n">tm</span><span class="o">.</span><span class="n">mk_const</span><span class="p">(</span><span class="n">sortfp16</span><span class="p">,</span> <span class="s1">&#39;x4&#39;</span><span class="p">)</span>
<span class="linenos">44</span>
<span class="linenos">45</span>    <span class="c1"># Create FP positive zero.</span>
<span class="linenos">46</span>    <span class="n">fpzero</span> <span class="o">=</span> <span class="n">tm</span><span class="o">.</span><span class="n">mk_fp_pos_zero</span><span class="p">(</span><span class="n">sortfp16</span><span class="p">)</span>
<span class="linenos">47</span>    <span class="c1"># Create BV zero of size 4.</span>
<span class="linenos">48</span>    <span class="n">bvzero</span> <span class="o">=</span> <span class="n">tm</span><span class="o">.</span><span class="n">mk_bv_zero</span><span class="p">(</span><span class="n">sortbv4</span><span class="p">)</span>
<span class="linenos">49</span>
<span class="linenos">50</span>    <span class="c1"># (define-fun f0 ((a Float16)) Bool (fp.gt a (_ +zero 5 11)))</span>
<span class="linenos">51</span>    <span class="n">a_f0</span> <span class="o">=</span> <span class="n">tm</span><span class="o">.</span><span class="n">mk_var</span><span class="p">(</span><span class="n">sortfp16</span><span class="p">,</span> <span class="s1">&#39;a_f0&#39;</span><span class="p">)</span>
<span class="linenos">52</span>    <span class="n">f0</span> <span class="o">=</span> <span class="n">tm</span><span class="o">.</span><span class="n">mk_term</span><span class="p">(</span><span class="n">Kind</span><span class="o">.</span><span class="n">LAMBDA</span><span class="p">,</span> <span class="p">[</span><span class="n">a_f0</span><span class="p">,</span> <span class="n">tm</span><span class="o">.</span><span class="n">mk_term</span><span class="p">(</span><span class="n">Kind</span><span class="o">.</span><span class="n">FP_GT</span><span class="p">,</span> <span class="p">[</span><span class="n">a_f0</span><span class="p">,</span> <span class="n">fpzero</span><span class="p">])])</span>
<span class="linenos">53</span>
<span class="linenos">54</span>    <span class="c1"># (define-fun f1 ((a Float16)) (_ BitVec 4) (ite (f0 a) x0 #b0000))</span>
<span class="linenos">55</span>    <span class="n">a_f1</span> <span class="o">=</span> <span class="n">tm</span><span class="o">.</span><span class="n">mk_var</span><span class="p">(</span><span class="n">sortfp16</span><span class="p">,</span> <span class="s1">&#39;a_f1&#39;</span><span class="p">)</span>
<span class="linenos">56</span>    <span class="n">f1</span>   <span class="o">=</span> <span class="n">tm</span><span class="o">.</span><span class="n">mk_term</span><span class="p">(</span>
<span class="linenos">57</span>        <span class="n">Kind</span><span class="o">.</span><span class="n">LAMBDA</span><span class="p">,</span>
<span class="linenos">58</span>        <span class="p">[</span><span class="n">a_f1</span><span class="p">,</span>
<span class="linenos">59</span>           <span class="n">tm</span><span class="o">.</span><span class="n">mk_term</span><span class="p">(</span><span class="n">Kind</span><span class="o">.</span><span class="n">ITE</span><span class="p">,</span> <span class="p">[</span><span class="n">tm</span><span class="o">.</span><span class="n">mk_term</span><span class="p">(</span><span class="n">Kind</span><span class="o">.</span><span class="n">APPLY</span><span class="p">,</span> <span class="p">[</span><span class="n">f0</span><span class="p">,</span> <span class="n">a_f1</span><span class="p">]),</span> <span class="n">x0</span><span class="p">,</span> <span class="n">bvzero</span><span class="p">])])</span>
<span class="linenos">60</span>
<span class="linenos">61</span>    <span class="c1"># (define-fun f2 ((a Float16)) (_ BitVec 2) ((_ extract 1 0) (f1 a)))</span>
<span class="linenos">62</span>    <span class="n">a_f2</span> <span class="o">=</span> <span class="n">tm</span><span class="o">.</span><span class="n">mk_var</span><span class="p">(</span><span class="n">sortfp16</span><span class="p">,</span> <span class="s1">&#39;a_f2&#39;</span><span class="p">)</span>
<span class="linenos">63</span>    <span class="n">f2</span>   <span class="o">=</span> <span class="n">tm</span><span class="o">.</span><span class="n">mk_term</span><span class="p">(</span>
<span class="linenos">64</span>        <span class="n">Kind</span><span class="o">.</span><span class="n">LAMBDA</span><span class="p">,</span>
<span class="linenos">65</span>        <span class="p">[</span><span class="n">a_f2</span><span class="p">,</span>
<span class="linenos">66</span>           <span class="n">tm</span><span class="o">.</span><span class="n">mk_term</span><span class="p">(</span><span class="n">Kind</span><span class="o">.</span><span class="n">BV_EXTRACT</span><span class="p">,</span> <span class="p">[</span><span class="n">tm</span><span class="o">.</span><span class="n">mk_term</span><span class="p">(</span><span class="n">Kind</span><span class="o">.</span><span class="n">APPLY</span><span class="p">,</span> <span class="p">[</span><span class="n">f1</span><span class="p">,</span> <span class="n">a_f2</span><span class="p">])],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">])])</span>
<span class="linenos">67</span>
<span class="linenos">68</span>    <span class="c1"># (assert (! (bvult x2 (f2 (_ +zero 5 11))) :named a0))</span>
<span class="linenos">69</span>    <span class="n">a0</span> <span class="o">=</span> <span class="n">tm</span><span class="o">.</span><span class="n">mk_const</span><span class="p">(</span><span class="n">sortbool</span><span class="p">,</span> <span class="s1">&#39;a0&#39;</span><span class="p">)</span>
<span class="linenos">70</span>    <span class="n">assumption0</span> <span class="o">=</span> <span class="n">tm</span><span class="o">.</span><span class="n">mk_term</span><span class="p">(</span><span class="n">Kind</span><span class="o">.</span><span class="n">BV_ULT</span><span class="p">,</span> <span class="p">[</span><span class="n">x2</span><span class="p">,</span> <span class="n">tm</span><span class="o">.</span><span class="n">mk_term</span><span class="p">(</span><span class="n">Kind</span><span class="o">.</span><span class="n">APPLY</span><span class="p">,</span> <span class="p">[</span><span class="n">f2</span><span class="p">,</span> <span class="n">fpzero</span><span class="p">])])</span>
<span class="linenos">71</span>    <span class="n">bitwuzla</span><span class="o">.</span><span class="n">assert_formula</span><span class="p">(</span><span class="n">tm</span><span class="o">.</span><span class="n">mk_term</span><span class="p">(</span><span class="n">Kind</span><span class="o">.</span><span class="n">EQUAL</span><span class="p">,</span> <span class="p">[</span><span class="n">a0</span><span class="p">,</span> <span class="n">assumption0</span><span class="p">]))</span>
<span class="linenos">72</span>    <span class="c1"># (assert (! (= x1 x2 x3) :named a1))</span>
<span class="linenos">73</span>    <span class="n">a1</span>          <span class="o">=</span> <span class="n">tm</span><span class="o">.</span><span class="n">mk_const</span><span class="p">(</span><span class="n">sortbool</span><span class="p">,</span> <span class="s1">&#39;a1&#39;</span><span class="p">)</span>
<span class="linenos">74</span>    <span class="n">assumption1</span> <span class="o">=</span> <span class="n">tm</span><span class="o">.</span><span class="n">mk_term</span><span class="p">(</span><span class="n">Kind</span><span class="o">.</span><span class="n">EQUAL</span><span class="p">,</span> <span class="p">[</span><span class="n">x1</span><span class="p">,</span> <span class="n">x2</span><span class="p">,</span> <span class="n">x3</span><span class="p">])</span>
<span class="linenos">75</span>    <span class="n">bitwuzla</span><span class="o">.</span><span class="n">assert_formula</span><span class="p">(</span><span class="n">tm</span><span class="o">.</span><span class="n">mk_term</span><span class="p">(</span><span class="n">Kind</span><span class="o">.</span><span class="n">EQUAL</span><span class="p">,</span> <span class="p">[</span><span class="n">a1</span><span class="p">,</span> <span class="n">assumption1</span><span class="p">]))</span>
<span class="linenos">76</span>    <span class="c1"># (assert (!(= x4 ((_ to_fp_unsigned 5 11) RNE x3)) :named a2))</span>
<span class="linenos">77</span>    <span class="n">a2</span>          <span class="o">=</span> <span class="n">tm</span><span class="o">.</span><span class="n">mk_const</span><span class="p">(</span><span class="n">sortbool</span><span class="p">,</span> <span class="s1">&#39;a2&#39;</span><span class="p">)</span>
<span class="linenos">78</span>    <span class="n">assumption2</span> <span class="o">=</span> <span class="n">tm</span><span class="o">.</span><span class="n">mk_term</span><span class="p">(</span><span class="n">Kind</span><span class="o">.</span><span class="n">EQUAL</span><span class="p">,</span>
<span class="linenos">79</span>                               <span class="p">[</span><span class="n">x4</span><span class="p">,</span>
<span class="linenos">80</span>                                <span class="n">tm</span><span class="o">.</span><span class="n">mk_term</span><span class="p">(</span><span class="n">Kind</span><span class="o">.</span><span class="n">FP_TO_FP_FROM_UBV</span><span class="p">,</span>
<span class="linenos">81</span>                                        <span class="p">[</span><span class="n">tm</span><span class="o">.</span><span class="n">mk_rm_value</span><span class="p">(</span><span class="n">RoundingMode</span><span class="o">.</span><span class="n">RNE</span><span class="p">),</span> <span class="n">x3</span><span class="p">],</span>
<span class="linenos">82</span>                                        <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">11</span><span class="p">])])</span>
<span class="linenos">83</span>    <span class="n">bitwuzla</span><span class="o">.</span><span class="n">assert_formula</span><span class="p">(</span><span class="n">tm</span><span class="o">.</span><span class="n">mk_term</span><span class="p">(</span><span class="n">Kind</span><span class="o">.</span><span class="n">EQUAL</span><span class="p">,</span> <span class="p">[</span><span class="n">a2</span><span class="p">,</span> <span class="n">assumption2</span><span class="p">]))</span>
<span class="linenos">84</span>
<span class="linenos">85</span>    <span class="c1"># (check-sat-assuming (assumption0 assumption1 assumption2))</span>
<span class="linenos">86</span>    <span class="n">result</span> <span class="o">=</span> <span class="n">bitwuzla</span><span class="o">.</span><span class="n">check_sat</span><span class="p">(</span><span class="n">a0</span><span class="p">,</span> <span class="n">a1</span><span class="p">,</span> <span class="n">a2</span><span class="p">)</span>
<span class="linenos">87</span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Expect: unsat&#39;</span><span class="p">)</span>
<span class="linenos">88</span>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Bitwuzla: </span><span class="si">{</span><span class="n">result</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="linenos">89</span>
<span class="linenos">90</span>    <span class="c1"># (get-unsat-assumptions)</span>
<span class="linenos">91</span>    <span class="n">unsat_assumptions</span> <span class="o">=</span> <span class="n">bitwuzla</span><span class="o">.</span><span class="n">get_unsat_assumptions</span><span class="p">()</span>
<span class="linenos">92</span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Unsat Assumptions: {&#39;</span><span class="p">,</span> <span class="n">end</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
<span class="linenos">93</span>    <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">unsat_assumptions</span><span class="p">:</span>
<span class="linenos">94</span>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39; </span><span class="si">{</span><span class="n">a</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">end</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
<span class="linenos">95</span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39; }&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div><div aria-labelledby="tab-6-6-3" class="sphinx-tabs-panel" hidden="true" id="panel-6-6-3" name="6-3" role="tabpanel" tabindex="0"><div class="highlight-smtlib notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span>(<span class="k">set-logic</span> <span class="n">ALL</span>)
<span class="linenos"> 2</span>(<span class="k">set-option</span> <span class="na">:produce-unsat-assumptions</span> <span class="s">true</span>)
<span class="linenos"> 3</span>(<span class="k">declare-const</span> <span class="n">x0</span> (_ <span class="na">BitVec</span> <span class="m">4</span>))
<span class="linenos"> 4</span>(<span class="k">declare-const</span> <span class="n">x1</span> (_ <span class="na">BitVec</span> <span class="m">2</span>))
<span class="linenos"> 5</span>(<span class="k">declare-const</span> <span class="n">x2</span> (_ <span class="na">BitVec</span> <span class="m">2</span>))
<span class="linenos"> 6</span>(<span class="k">declare-const</span> <span class="n">x3</span> (_ <span class="na">BitVec</span> <span class="m">2</span>))
<span class="linenos"> 7</span>(<span class="k">declare-const</span> <span class="n">x4</span> <span class="n">Float16</span>)
<span class="linenos"> 8</span>(<span class="k">define-fun</span> <span class="n">f0</span> ((<span class="n">a</span> <span class="n">Float16</span>)) <span class="n">Bool</span> (<span class="o">fp.gt</span> <span class="n">a</span> (_ <span class="o">+zero</span> <span class="m">5</span> <span class="m">11</span>)))
<span class="linenos"> 9</span>(<span class="k">define-fun</span> <span class="n">f1</span> ((<span class="n">a</span> <span class="n">Float16</span>)) (_ <span class="na">BitVec</span> <span class="m">4</span>) (<span class="o">ite</span> (<span class="n">f0</span> <span class="n">a</span>) <span class="n">x0</span> <span class="s">#b0000</span>))
<span class="linenos">10</span>(<span class="k">define-fun</span> <span class="n">f2</span> ((<span class="n">a</span> <span class="n">Float16</span>)) (_ <span class="na">BitVec</span> <span class="m">2</span>) ((_ <span class="o">extract</span> <span class="m">1</span> <span class="m">0</span>) (<span class="n">f1</span> <span class="n">a</span>)))
<span class="linenos">11</span>(<span class="k">check-sat-assuming</span>
<span class="linenos">12</span>  (
<span class="linenos">13</span>   (<span class="na">!</span> (<span class="o">bvult</span> <span class="n">x2</span> (<span class="n">f2</span> (_ <span class="o">+zero</span> <span class="m">5</span> <span class="m">11</span>))) <span class="na">:named</span> <span class="n">a0</span>)
<span class="linenos">14</span>   (<span class="na">!</span> (<span class="o">=</span> <span class="n">x1</span> <span class="n">x2</span> <span class="n">x3</span>) <span class="na">:named</span> <span class="n">a1</span>)
<span class="linenos">15</span>   (<span class="na">!</span> (<span class="o">=</span> <span class="n">x4</span> ((_ <span class="o">to_fp_unsigned</span> <span class="m">5</span> <span class="m">11</span>) <span class="na">RNE</span> <span class="n">x3</span>)) <span class="na">:named</span> <span class="n">a2</span>)
<span class="linenos">16</span>  )
<span class="linenos">17</span>)
<span class="linenos">18</span>(<span class="k">get-unsat-assumptions</span>)
</pre></div>
</div>
</div></div>
</section>
<section id="reset-example">
<h3><a class="toc-backref" href="#id13" role="doc-backlink">Reset Example</a><a class="headerlink" href="#reset-example" title="Link to this heading"></a></h3>
<div class="line-block">
<div class="line">This example shows how to reset the solver instance (SMT-LIB command <code class="code docutils literal notranslate"><span class="pre">reset</span></code>).</div>
<div class="line">The SMT-LIB input for this example can be found at <a class="reference external" href="https://github.com/bitwuzla/bitwuzla/tree/main/examples/smt2/reset.smt2">examples/smt2/reset.smt2</a>.</div>
<div class="line">The source code for this example can be found at <a class="reference external" href="https://github.com/bitwuzla/bitwuzla/tree/main/examples/cpp/reset.cpp">examples/cpp/reset.cpp</a>.</div>
</div>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-7-7-0" aria-selected="true" class="sphinx-tabs-tab" id="tab-7-7-0" name="7-0" role="tab" tabindex="0">C++</button><button aria-controls="panel-7-7-1" aria-selected="false" class="sphinx-tabs-tab" id="tab-7-7-1" name="7-1" role="tab" tabindex="-1">C</button><button aria-controls="panel-7-7-2" aria-selected="false" class="sphinx-tabs-tab" id="tab-7-7-2" name="7-2" role="tab" tabindex="-1">Python</button><button aria-controls="panel-7-7-3" aria-selected="false" class="sphinx-tabs-tab" id="tab-7-7-3" name="7-3" role="tab" tabindex="-1">SMT-LIBv2</button></div><div aria-labelledby="tab-7-7-0" class="sphinx-tabs-panel" id="panel-7-7-0" name="7-0" role="tabpanel" tabindex="0"><div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="cm">/***</span>
<span class="linenos"> 2</span><span class="cm"> * Bitwuzla: Satisfiability Modulo Theories (SMT) solver.</span>
<span class="linenos"> 3</span><span class="cm"> *</span>
<span class="linenos"> 4</span><span class="cm"> * Copyright (C) 2023 by the authors listed in the AUTHORS file at</span>
<span class="linenos"> 5</span><span class="cm"> * https://github.com/bitwuzla/bitwuzla/blob/main/AUTHORS</span>
<span class="linenos"> 6</span><span class="cm"> *</span>
<span class="linenos"> 7</span><span class="cm"> * This file is part of Bitwuzla under the MIT license. See COPYING for more</span>
<span class="linenos"> 8</span><span class="cm"> * information at https://github.com/bitwuzla/bitwuzla/blob/main/COPYING</span>
<span class="linenos"> 9</span><span class="cm"> */</span>
<span class="linenos">10</span>
<span class="linenos">11</span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;bitwuzla/cpp/bitwuzla.h&gt;</span>
<span class="linenos">12</span>
<span class="linenos">13</span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;iostream&gt;</span>
<span class="linenos">14</span>
<span class="linenos">15</span><span class="k">using</span><span class="w"> </span><span class="k">namespace</span><span class="w"> </span><span class="nn">bitwuzla</span><span class="p">;</span>
<span class="linenos">16</span>
<span class="linenos">17</span><span class="kt">int</span>
<span class="linenos">18</span><span class="nf">main</span><span class="p">()</span>
<span class="linenos">19</span><span class="p">{</span>
<span class="linenos">20</span><span class="w">  </span><span class="n">Result</span><span class="w"> </span><span class="n">result</span><span class="p">;</span>
<span class="linenos">21</span>
<span class="linenos">22</span><span class="w">  </span><span class="c1">// First, create a term manager instance.</span>
<span class="linenos">23</span><span class="w">  </span><span class="n">TermManager</span><span class="w"> </span><span class="n">tm</span><span class="p">;</span>
<span class="linenos">24</span><span class="w">  </span><span class="c1">// Create a Bitwuzla options instance.</span>
<span class="linenos">25</span><span class="w">  </span><span class="n">Options</span><span class="w"> </span><span class="n">options</span><span class="p">;</span>
<span class="linenos">26</span><span class="w">  </span><span class="c1">// (set-option :produce-models false)</span>
<span class="linenos">27</span><span class="w">  </span><span class="n">options</span><span class="p">.</span><span class="n">set</span><span class="p">(</span><span class="n">Option</span><span class="o">::</span><span class="n">PRODUCE_MODELS</span><span class="p">,</span><span class="w"> </span><span class="nb">false</span><span class="p">);</span>
<span class="linenos">28</span>
<span class="linenos">29</span><span class="w">  </span><span class="c1">// Then, create a Bitwuzla instance.</span>
<span class="linenos">30</span><span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">unique_ptr</span><span class="o">&lt;</span><span class="n">Bitwuzla</span><span class="o">&gt;</span><span class="w"> </span><span class="n">bitwuzla</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">Bitwuzla</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span><span class="w"> </span><span class="n">options</span><span class="p">));</span>
<span class="linenos">31</span>
<span class="linenos">32</span><span class="w">  </span><span class="c1">// Create a bit-vector sort of size 3.</span>
<span class="linenos">33</span><span class="w">  </span><span class="n">Sort</span><span class="w"> </span><span class="n">sortbv3</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">tm</span><span class="p">.</span><span class="n">mk_bv_sort</span><span class="p">(</span><span class="mi">3</span><span class="p">);</span>
<span class="linenos">34</span>
<span class="linenos">35</span><span class="w">  </span><span class="c1">// (declare-const x (_ BitVec 3))</span>
<span class="linenos">36</span><span class="w">  </span><span class="n">Term</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">tm</span><span class="p">.</span><span class="n">mk_const</span><span class="p">(</span><span class="n">sortbv3</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;x&quot;</span><span class="p">);</span>
<span class="linenos">37</span>
<span class="linenos">38</span><span class="w">  </span><span class="c1">// (assert (= x #b010))</span>
<span class="linenos">39</span><span class="w">  </span><span class="n">bitwuzla</span><span class="o">-&gt;</span><span class="n">assert_formula</span><span class="p">(</span>
<span class="linenos">40</span><span class="w">      </span><span class="n">tm</span><span class="p">.</span><span class="n">mk_term</span><span class="p">(</span><span class="n">Kind</span><span class="o">::</span><span class="n">EQUAL</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">tm</span><span class="p">.</span><span class="n">mk_bv_value_uint64</span><span class="p">(</span><span class="n">sortbv3</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">)}));</span>
<span class="linenos">41</span><span class="w">  </span><span class="c1">// (check-sat)</span>
<span class="linenos">42</span><span class="w">  </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla</span><span class="o">-&gt;</span><span class="n">check_sat</span><span class="p">();</span>
<span class="linenos">43</span><span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Expect: sat&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="linenos">44</span><span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Bitwuzla: &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="linenos">45</span>
<span class="linenos">46</span><span class="w">  </span><span class="c1">// (set-option :produce-models true)</span>
<span class="linenos">47</span><span class="w">  </span><span class="n">options</span><span class="p">.</span><span class="n">set</span><span class="p">(</span><span class="n">Option</span><span class="o">::</span><span class="n">PRODUCE_MODELS</span><span class="p">,</span><span class="w"> </span><span class="nb">true</span><span class="p">);</span>
<span class="linenos">48</span>
<span class="linenos">49</span><span class="w">  </span><span class="c1">// (reset)</span>
<span class="linenos">50</span><span class="w">  </span><span class="c1">// Note: Bitwuzla does not provide an explicit API function for reset since</span>
<span class="linenos">51</span><span class="w">  </span><span class="c1">//       this is achieved by simply discarding the current Bitwuzla instance</span>
<span class="linenos">52</span><span class="w">  </span><span class="c1">//       and creating a new one.</span>
<span class="linenos">53</span><span class="w">  </span><span class="n">bitwuzla</span><span class="p">.</span><span class="n">reset</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">Bitwuzla</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span><span class="w"> </span><span class="n">options</span><span class="p">));</span>
<span class="linenos">54</span>
<span class="linenos">55</span><span class="w">  </span><span class="c1">// (declare-const a ( Array (_ BitVec 2) (_ BitVec 3)))</span>
<span class="linenos">56</span><span class="w">  </span><span class="n">Sort</span><span class="w"> </span><span class="n">sortbv2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">tm</span><span class="p">.</span><span class="n">mk_bv_sort</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span>
<span class="linenos">57</span><span class="w">  </span><span class="n">Term</span><span class="w"> </span><span class="n">a</span><span class="w">       </span><span class="o">=</span><span class="w"> </span><span class="n">tm</span><span class="p">.</span><span class="n">mk_const</span><span class="p">(</span><span class="n">tm</span><span class="p">.</span><span class="n">mk_array_sort</span><span class="p">(</span><span class="n">sortbv2</span><span class="p">,</span><span class="w"> </span><span class="n">sortbv3</span><span class="p">),</span><span class="w"> </span><span class="s">&quot;a&quot;</span><span class="p">);</span>
<span class="linenos">58</span>
<span class="linenos">59</span><span class="w">  </span><span class="c1">// (assert (= x #b011))</span>
<span class="linenos">60</span><span class="w">  </span><span class="n">bitwuzla</span><span class="o">-&gt;</span><span class="n">assert_formula</span><span class="p">(</span>
<span class="linenos">61</span><span class="w">      </span><span class="n">tm</span><span class="p">.</span><span class="n">mk_term</span><span class="p">(</span><span class="n">Kind</span><span class="o">::</span><span class="n">EQUAL</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">tm</span><span class="p">.</span><span class="n">mk_bv_value_uint64</span><span class="p">(</span><span class="n">sortbv3</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">)}));</span>
<span class="linenos">62</span><span class="w">  </span><span class="c1">// (assert (= x (select a #b01)))</span>
<span class="linenos">63</span><span class="w">  </span><span class="n">bitwuzla</span><span class="o">-&gt;</span><span class="n">assert_formula</span><span class="p">(</span>
<span class="linenos">64</span><span class="w">      </span><span class="n">tm</span><span class="p">.</span><span class="n">mk_term</span><span class="p">(</span><span class="n">Kind</span><span class="o">::</span><span class="n">EQUAL</span><span class="p">,</span>
<span class="linenos">65</span><span class="w">                 </span><span class="p">{</span><span class="n">x</span><span class="p">,</span>
<span class="linenos">66</span><span class="w">                  </span><span class="n">tm</span><span class="p">.</span><span class="n">mk_term</span><span class="p">(</span><span class="n">Kind</span><span class="o">::</span><span class="n">ARRAY_SELECT</span><span class="p">,</span>
<span class="linenos">67</span><span class="w">                             </span><span class="p">{</span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">tm</span><span class="p">.</span><span class="n">mk_bv_value_uint64</span><span class="p">(</span><span class="n">sortbv2</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">)})}));</span>
<span class="linenos">68</span><span class="w">  </span><span class="c1">// (check-sat)</span>
<span class="linenos">69</span><span class="w">  </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla</span><span class="o">-&gt;</span><span class="n">check_sat</span><span class="p">();</span>
<span class="linenos">70</span><span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Expect: sat&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="linenos">71</span><span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Bitwuzla: &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="linenos">72</span><span class="w">  </span><span class="c1">// (get-model)</span>
<span class="linenos">73</span><span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;(&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span>
<span class="linenos">74</span><span class="w">            </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;  (define-fun &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">x</span><span class="p">.</span><span class="n">symbol</span><span class="p">()</span><span class="o">-&gt;</span><span class="n">get</span><span class="p">()</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot; () &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">x</span><span class="p">.</span><span class="n">sort</span><span class="p">()</span>
<span class="linenos">75</span><span class="w">            </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot; &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">bitwuzla</span><span class="o">-&gt;</span><span class="n">get_value</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;)&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span>
<span class="linenos">76</span><span class="w">            </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;  (define-fun &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">a</span><span class="p">.</span><span class="n">symbol</span><span class="p">()</span><span class="o">-&gt;</span><span class="n">get</span><span class="p">()</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot; () &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">a</span><span class="p">.</span><span class="n">sort</span><span class="p">()</span>
<span class="linenos">77</span><span class="w">            </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot; &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">bitwuzla</span><span class="o">-&gt;</span><span class="n">get_value</span><span class="p">(</span><span class="n">a</span><span class="p">)</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;)&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span>
<span class="linenos">78</span><span class="w">            </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;)&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="linenos">79</span>
<span class="linenos">80</span><span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">81</span><span class="p">}</span>
</pre></div>
</div>
</div><div aria-labelledby="tab-7-7-1" class="sphinx-tabs-panel" hidden="true" id="panel-7-7-1" name="7-1" role="tabpanel" tabindex="0"><div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="linenos">  1</span><span class="cm">/***</span>
<span class="linenos">  2</span><span class="cm"> * Bitwuzla: Satisfiability Modulo Theories (SMT) solver.</span>
<span class="linenos">  3</span><span class="cm"> *</span>
<span class="linenos">  4</span><span class="cm"> * Copyright (C) 2023 by the authors listed in the AUTHORS file at</span>
<span class="linenos">  5</span><span class="cm"> * https://github.com/bitwuzla/bitwuzla/blob/main/AUTHORS</span>
<span class="linenos">  6</span><span class="cm"> *</span>
<span class="linenos">  7</span><span class="cm"> * This file is part of Bitwuzla under the MIT license. See COPYING for more</span>
<span class="linenos">  8</span><span class="cm"> * information at https://github.com/bitwuzla/bitwuzla/blob/main/COPYING</span>
<span class="linenos">  9</span><span class="cm"> */</span>
<span class="linenos"> 10</span>
<span class="linenos"> 11</span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;bitwuzla/c/bitwuzla.h&gt;</span>
<span class="linenos"> 12</span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;stdio.h&gt;</span>
<span class="linenos"> 13</span>
<span class="linenos"> 14</span><span class="kt">int</span>
<span class="linenos"> 15</span><span class="nf">main</span><span class="p">()</span>
<span class="linenos"> 16</span><span class="p">{</span>
<span class="linenos"> 17</span><span class="w">  </span><span class="n">BitwuzlaResult</span><span class="w"> </span><span class="n">result</span><span class="p">;</span>
<span class="linenos"> 18</span>
<span class="linenos"> 19</span><span class="w">  </span><span class="c1">// First, create a term manager instance.</span>
<span class="linenos"> 20</span><span class="w">  </span><span class="n">BitwuzlaTermManager</span><span class="o">*</span><span class="w"> </span><span class="n">tm</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_term_manager_new</span><span class="p">();</span>
<span class="linenos"> 21</span><span class="w">  </span><span class="c1">// Create a Bitwuzla options instance.</span>
<span class="linenos"> 22</span><span class="w">  </span><span class="n">BitwuzlaOptions</span><span class="o">*</span><span class="w"> </span><span class="n">options</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_options_new</span><span class="p">();</span>
<span class="linenos"> 23</span><span class="w">  </span><span class="c1">// (set-option :produce-models false)</span>
<span class="linenos"> 24</span><span class="w">  </span><span class="n">bitwuzla_set_option</span><span class="p">(</span><span class="n">options</span><span class="p">,</span><span class="w"> </span><span class="n">BITWUZLA_OPT_PRODUCE_MODELS</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span>
<span class="linenos"> 25</span>
<span class="linenos"> 26</span><span class="w">  </span><span class="c1">// Then, create a Bitwuzla instance.</span>
<span class="linenos"> 27</span><span class="w">  </span><span class="n">Bitwuzla</span><span class="o">*</span><span class="w"> </span><span class="n">bitwuzla</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_new</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span><span class="w"> </span><span class="n">options</span><span class="p">);</span>
<span class="linenos"> 28</span>
<span class="linenos"> 29</span><span class="w">  </span><span class="c1">// Create a bit-vector sort of size 3.</span>
<span class="linenos"> 30</span><span class="w">  </span><span class="n">BitwuzlaSort</span><span class="w"> </span><span class="n">sortbv3</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_bv_sort</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">);</span>
<span class="linenos"> 31</span>
<span class="linenos"> 32</span><span class="w">  </span><span class="c1">// (declare-const x (_ BitVec 3))</span>
<span class="linenos"> 33</span><span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_const</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span><span class="w"> </span><span class="n">sortbv3</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;x&quot;</span><span class="p">);</span>
<span class="linenos"> 34</span>
<span class="linenos"> 35</span><span class="w">  </span><span class="c1">// (assert (= x #b010))</span>
<span class="linenos"> 36</span><span class="w">  </span><span class="n">bitwuzla_assert</span><span class="p">(</span>
<span class="linenos"> 37</span><span class="w">      </span><span class="n">bitwuzla</span><span class="p">,</span>
<span class="linenos"> 38</span><span class="w">      </span><span class="n">bitwuzla_mk_term2</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span>
<span class="linenos"> 39</span><span class="w">                        </span><span class="n">BITWUZLA_KIND_EQUAL</span><span class="p">,</span>
<span class="linenos"> 40</span><span class="w">                        </span><span class="n">x</span><span class="p">,</span>
<span class="linenos"> 41</span><span class="w">                        </span><span class="n">bitwuzla_mk_bv_value_uint64</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span><span class="w"> </span><span class="n">sortbv3</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">)));</span>
<span class="linenos"> 42</span><span class="w">  </span><span class="c1">// (check-sat)</span>
<span class="linenos"> 43</span><span class="w">  </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_check_sat</span><span class="p">(</span><span class="n">bitwuzla</span><span class="p">);</span>
<span class="linenos"> 44</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Expect: sat</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="linenos"> 45</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Bitwuzla: %s</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">bitwuzla_result_to_string</span><span class="p">(</span><span class="n">result</span><span class="p">));</span>
<span class="linenos"> 46</span>
<span class="linenos"> 47</span><span class="w">  </span><span class="n">bitwuzla_delete</span><span class="p">(</span><span class="n">bitwuzla</span><span class="p">);</span>
<span class="linenos"> 48</span>
<span class="linenos"> 49</span><span class="w">  </span><span class="c1">// (set-option :produce-models true)</span>
<span class="linenos"> 50</span><span class="w">  </span><span class="n">bitwuzla_set_option</span><span class="p">(</span><span class="n">options</span><span class="p">,</span><span class="w"> </span><span class="n">BITWUZLA_OPT_PRODUCE_MODELS</span><span class="p">,</span><span class="w"> </span><span class="nb">true</span><span class="p">);</span>
<span class="linenos"> 51</span>
<span class="linenos"> 52</span><span class="w">  </span><span class="c1">// (reset)</span>
<span class="linenos"> 53</span><span class="w">  </span><span class="c1">// Note: Bitwuzla does not provide an explicit API function for reset since</span>
<span class="linenos"> 54</span><span class="w">  </span><span class="c1">//       this is achieved by simply discarding the current Bitwuzla instance</span>
<span class="linenos"> 55</span><span class="w">  </span><span class="c1">//       and creating a new one.</span>
<span class="linenos"> 56</span><span class="w">  </span><span class="n">bitwuzla</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_new</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span><span class="w"> </span><span class="n">options</span><span class="p">);</span>
<span class="linenos"> 57</span>
<span class="linenos"> 58</span><span class="w">  </span><span class="c1">// (declare-const a ( Array (_ BitVec 2) (_ BitVec 3)))</span>
<span class="linenos"> 59</span><span class="w">  </span><span class="n">BitwuzlaSort</span><span class="w"> </span><span class="n">sortbv2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_bv_sort</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">);</span>
<span class="linenos"> 60</span><span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">=</span>
<span class="linenos"> 61</span><span class="w">      </span><span class="n">bitwuzla_mk_const</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span><span class="w"> </span><span class="n">bitwuzla_mk_array_sort</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span><span class="w"> </span><span class="n">sortbv2</span><span class="p">,</span><span class="w"> </span><span class="n">sortbv3</span><span class="p">),</span><span class="w"> </span><span class="s">&quot;a&quot;</span><span class="p">);</span>
<span class="linenos"> 62</span>
<span class="linenos"> 63</span><span class="w">  </span><span class="c1">// (assert (= x #b011))</span>
<span class="linenos"> 64</span><span class="w">  </span><span class="n">bitwuzla_assert</span><span class="p">(</span>
<span class="linenos"> 65</span><span class="w">      </span><span class="n">bitwuzla</span><span class="p">,</span>
<span class="linenos"> 66</span><span class="w">      </span><span class="n">bitwuzla_mk_term2</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span>
<span class="linenos"> 67</span><span class="w">                        </span><span class="n">BITWUZLA_KIND_EQUAL</span><span class="p">,</span>
<span class="linenos"> 68</span><span class="w">                        </span><span class="n">x</span><span class="p">,</span>
<span class="linenos"> 69</span><span class="w">                        </span><span class="n">bitwuzla_mk_bv_value_uint64</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span><span class="w"> </span><span class="n">sortbv3</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">)));</span>
<span class="linenos"> 70</span><span class="w">  </span><span class="c1">// (assert (= x (select a #b01)))</span>
<span class="linenos"> 71</span><span class="w">  </span><span class="n">bitwuzla_assert</span><span class="p">(</span>
<span class="linenos"> 72</span><span class="w">      </span><span class="n">bitwuzla</span><span class="p">,</span>
<span class="linenos"> 73</span><span class="w">      </span><span class="n">bitwuzla_mk_term2</span><span class="p">(</span>
<span class="linenos"> 74</span><span class="w">          </span><span class="n">tm</span><span class="p">,</span>
<span class="linenos"> 75</span><span class="w">          </span><span class="n">BITWUZLA_KIND_EQUAL</span><span class="p">,</span>
<span class="linenos"> 76</span><span class="w">          </span><span class="n">x</span><span class="p">,</span>
<span class="linenos"> 77</span><span class="w">          </span><span class="n">bitwuzla_mk_term2</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span>
<span class="linenos"> 78</span><span class="w">                            </span><span class="n">BITWUZLA_KIND_ARRAY_SELECT</span><span class="p">,</span>
<span class="linenos"> 79</span><span class="w">                            </span><span class="n">a</span><span class="p">,</span>
<span class="linenos"> 80</span><span class="w">                            </span><span class="n">bitwuzla_mk_bv_value_uint64</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span><span class="w"> </span><span class="n">sortbv2</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">))));</span>
<span class="linenos"> 81</span><span class="w">  </span><span class="c1">// (check-sat)</span>
<span class="linenos"> 82</span><span class="w">  </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_check_sat</span><span class="p">(</span><span class="n">bitwuzla</span><span class="p">);</span>
<span class="linenos"> 83</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Expect: sat</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="linenos"> 84</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Bitwuzla: %s</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">bitwuzla_result_to_string</span><span class="p">(</span><span class="n">result</span><span class="p">));</span>
<span class="linenos"> 85</span><span class="w">  </span><span class="c1">// (get-model)</span>
<span class="linenos"> 86</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;(</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="linenos"> 87</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;  (define-fun %s () &quot;</span><span class="p">,</span><span class="w"> </span><span class="n">bitwuzla_term_get_symbol</span><span class="p">(</span><span class="n">x</span><span class="p">));</span>
<span class="linenos"> 88</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;%s &quot;</span><span class="p">,</span><span class="w"> </span><span class="n">bitwuzla_sort_to_string</span><span class="p">(</span><span class="n">bitwuzla_term_get_sort</span><span class="p">(</span><span class="n">x</span><span class="p">)));</span>
<span class="linenos"> 89</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;%s)</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">bitwuzla_term_to_string</span><span class="p">(</span><span class="n">bitwuzla_get_value</span><span class="p">(</span><span class="n">bitwuzla</span><span class="p">,</span><span class="w"> </span><span class="n">x</span><span class="p">)));</span>
<span class="linenos"> 90</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;  (define-fun %s () &quot;</span><span class="p">,</span><span class="w"> </span><span class="n">bitwuzla_term_get_symbol</span><span class="p">(</span><span class="n">a</span><span class="p">));</span>
<span class="linenos"> 91</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;%s &quot;</span><span class="p">,</span><span class="w"> </span><span class="n">bitwuzla_sort_to_string</span><span class="p">(</span><span class="n">bitwuzla_term_get_sort</span><span class="p">(</span><span class="n">a</span><span class="p">)));</span>
<span class="linenos"> 92</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;%s)</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">bitwuzla_term_to_string</span><span class="p">(</span><span class="n">bitwuzla_get_value</span><span class="p">(</span><span class="n">bitwuzla</span><span class="p">,</span><span class="w"> </span><span class="n">a</span><span class="p">)));</span>
<span class="linenos"> 93</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;)</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="linenos"> 94</span>
<span class="linenos"> 95</span><span class="w">  </span><span class="c1">// Finally, delete the Bitwuzla solver, options, and term manager instances.</span>
<span class="linenos"> 96</span><span class="w">  </span><span class="n">bitwuzla_delete</span><span class="p">(</span><span class="n">bitwuzla</span><span class="p">);</span>
<span class="linenos"> 97</span><span class="w">  </span><span class="n">bitwuzla_options_delete</span><span class="p">(</span><span class="n">options</span><span class="p">);</span>
<span class="linenos"> 98</span><span class="w">  </span><span class="n">bitwuzla_term_manager_delete</span><span class="p">(</span><span class="n">tm</span><span class="p">);</span>
<span class="linenos"> 99</span>
<span class="linenos">100</span><span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">101</span><span class="p">}</span>
</pre></div>
</div>
</div><div aria-labelledby="tab-7-7-2" class="sphinx-tabs-panel" hidden="true" id="panel-7-7-2" name="7-2" role="tabpanel" tabindex="0"><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="c1">###</span>
<span class="linenos"> 2</span><span class="c1"># Bitwuzla: Satisfiability Modulo Theories (SMT) solver.</span>
<span class="linenos"> 3</span><span class="c1">#</span>
<span class="linenos"> 4</span><span class="c1"># Copyright (C) 2023 by the authors listed in the AUTHORS file at</span>
<span class="linenos"> 5</span><span class="c1"># https:#github.com/bitwuzla/bitwuzla/blob/main/AUTHORS</span>
<span class="linenos"> 6</span><span class="c1">#</span>
<span class="linenos"> 7</span><span class="c1"># This file is part of Bitwuzla under the MIT license. See COPYING for more</span>
<span class="linenos"> 8</span><span class="c1"># information at https:#github.com/bitwuzla/bitwuzla/blob/main/COPYING</span>
<span class="linenos"> 9</span><span class="c1">##</span>
<span class="linenos">10</span>
<span class="linenos">11</span><span class="kn">from</span><span class="w"> </span><span class="nn">bitwuzla</span><span class="w"> </span><span class="kn">import</span> <span class="o">*</span>
<span class="linenos">12</span>
<span class="linenos">13</span><span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
<span class="linenos">14</span>
<span class="linenos">15</span>    <span class="c1"># First, create a term manager instance.</span>
<span class="linenos">16</span>    <span class="n">tm</span> <span class="o">=</span> <span class="n">TermManager</span><span class="p">()</span>
<span class="linenos">17</span>    <span class="c1"># Create a Bitwuzla options instance.</span>
<span class="linenos">18</span>    <span class="n">options</span> <span class="o">=</span> <span class="n">Options</span><span class="p">()</span>
<span class="linenos">19</span>    <span class="c1"># (set-option :produce-models true)</span>
<span class="linenos">20</span>    <span class="n">options</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">Option</span><span class="o">.</span><span class="n">PRODUCE_MODELS</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
<span class="linenos">21</span>
<span class="linenos">22</span>    <span class="c1"># Then, create a Bitwuzla instance.</span>
<span class="linenos">23</span>    <span class="n">bitwuzla</span> <span class="o">=</span> <span class="n">Bitwuzla</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span> <span class="n">options</span><span class="p">)</span>
<span class="linenos">24</span>
<span class="linenos">25</span>    <span class="c1"># Create a bit-vector sort of size 3.</span>
<span class="linenos">26</span>    <span class="n">sortbv3</span> <span class="o">=</span> <span class="n">tm</span><span class="o">.</span><span class="n">mk_bv_sort</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="linenos">27</span>
<span class="linenos">28</span>    <span class="c1"># (declare-const x (_ BitVec 3))</span>
<span class="linenos">29</span>    <span class="n">x</span> <span class="o">=</span> <span class="n">tm</span><span class="o">.</span><span class="n">mk_const</span><span class="p">(</span><span class="n">sortbv3</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">)</span>
<span class="linenos">30</span>
<span class="linenos">31</span>    <span class="c1"># (assert (= x #b010))</span>
<span class="linenos">32</span>    <span class="n">bitwuzla</span><span class="o">.</span><span class="n">assert_formula</span><span class="p">(</span>
<span class="linenos">33</span>        <span class="n">tm</span><span class="o">.</span><span class="n">mk_term</span><span class="p">(</span><span class="n">Kind</span><span class="o">.</span><span class="n">EQUAL</span><span class="p">,</span> <span class="p">[</span><span class="n">x</span><span class="p">,</span> <span class="n">tm</span><span class="o">.</span><span class="n">mk_bv_value</span><span class="p">(</span><span class="n">sortbv3</span><span class="p">,</span> <span class="mi">2</span><span class="p">)]))</span>
<span class="linenos">34</span>    <span class="c1"># (check-sat)</span>
<span class="linenos">35</span>    <span class="n">result</span> <span class="o">=</span> <span class="n">bitwuzla</span><span class="o">.</span><span class="n">check_sat</span><span class="p">()</span>
<span class="linenos">36</span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Expect: sat&#39;</span><span class="p">)</span>
<span class="linenos">37</span>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Bitwuzla: </span><span class="si">{</span><span class="n">result</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="linenos">38</span>
<span class="linenos">39</span>    <span class="c1"># (set-option :produce-models true)</span>
<span class="linenos">40</span>    <span class="n">options</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">Option</span><span class="o">.</span><span class="n">PRODUCE_MODELS</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
<span class="linenos">41</span>
<span class="linenos">42</span>    <span class="c1"># (reset)</span>
<span class="linenos">43</span>    <span class="c1"># Note: Bitwuzla does not provide an explicit API function for reset since</span>
<span class="linenos">44</span>    <span class="c1">#       this is achieved by simply discarding the current Bitwuzla instance</span>
<span class="linenos">45</span>    <span class="c1">#       and creating a new one.</span>
<span class="linenos">46</span>    <span class="n">bitwuzla</span> <span class="o">=</span> <span class="n">Bitwuzla</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span> <span class="n">options</span><span class="p">)</span>
<span class="linenos">47</span>
<span class="linenos">48</span>    <span class="c1"># (declare-const a ( Array (_ BitVec 2) (_ BitVec 3)))</span>
<span class="linenos">49</span>    <span class="n">sortbv2</span> <span class="o">=</span> <span class="n">tm</span><span class="o">.</span><span class="n">mk_bv_sort</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="linenos">50</span>    <span class="n">a</span>       <span class="o">=</span> <span class="n">tm</span><span class="o">.</span><span class="n">mk_const</span><span class="p">(</span><span class="n">tm</span><span class="o">.</span><span class="n">mk_array_sort</span><span class="p">(</span><span class="n">sortbv2</span><span class="p">,</span> <span class="n">sortbv3</span><span class="p">),</span> <span class="s1">&#39;a&#39;</span><span class="p">)</span>
<span class="linenos">51</span>
<span class="linenos">52</span>    <span class="c1"># (assert (= x #b011))</span>
<span class="linenos">53</span>    <span class="n">bitwuzla</span><span class="o">.</span><span class="n">assert_formula</span><span class="p">(</span>
<span class="linenos">54</span>        <span class="n">tm</span><span class="o">.</span><span class="n">mk_term</span><span class="p">(</span><span class="n">Kind</span><span class="o">.</span><span class="n">EQUAL</span><span class="p">,</span> <span class="p">[</span><span class="n">x</span><span class="p">,</span> <span class="n">tm</span><span class="o">.</span><span class="n">mk_bv_value</span><span class="p">(</span><span class="n">sortbv3</span><span class="p">,</span> <span class="mi">3</span><span class="p">)]))</span>
<span class="linenos">55</span>    <span class="c1"># (assert (= x (select a #b01)))</span>
<span class="linenos">56</span>    <span class="n">bitwuzla</span><span class="o">.</span><span class="n">assert_formula</span><span class="p">(</span><span class="n">tm</span><span class="o">.</span><span class="n">mk_term</span><span class="p">(</span>
<span class="linenos">57</span>        <span class="n">Kind</span><span class="o">.</span><span class="n">EQUAL</span><span class="p">,</span>
<span class="linenos">58</span>        <span class="p">[</span><span class="n">x</span><span class="p">,</span> <span class="n">tm</span><span class="o">.</span><span class="n">mk_term</span><span class="p">(</span><span class="n">Kind</span><span class="o">.</span><span class="n">ARRAY_SELECT</span><span class="p">,</span> <span class="p">[</span><span class="n">a</span><span class="p">,</span> <span class="n">tm</span><span class="o">.</span><span class="n">mk_bv_value</span><span class="p">(</span><span class="n">sortbv2</span><span class="p">,</span> <span class="mi">1</span><span class="p">)])]))</span>
<span class="linenos">59</span>    <span class="c1"># (check-sat)</span>
<span class="linenos">60</span>    <span class="n">result</span> <span class="o">=</span> <span class="n">bitwuzla</span><span class="o">.</span><span class="n">check_sat</span><span class="p">()</span>
<span class="linenos">61</span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Expect: sat&#39;</span><span class="p">)</span>
<span class="linenos">62</span>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Bitwuzla: </span><span class="si">{</span><span class="n">result</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="linenos">63</span>    <span class="c1"># (get-model)</span>
<span class="linenos">64</span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;(&#39;</span><span class="p">)</span>
<span class="linenos">65</span>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;  (define-fun </span><span class="si">{</span><span class="n">x</span><span class="o">.</span><span class="n">symbol</span><span class="p">()</span><span class="si">}</span><span class="s1"> () </span><span class="si">{</span><span class="n">x</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span><span class="si">}</span><span class="s1"> </span><span class="si">{</span><span class="n">bitwuzla</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="si">}</span><span class="s1"> )&#39;</span><span class="p">)</span>
<span class="linenos">66</span>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;  (define-fun </span><span class="si">{</span><span class="n">a</span><span class="o">.</span><span class="n">symbol</span><span class="p">()</span><span class="si">}</span><span class="s1"> () </span><span class="si">{</span><span class="n">a</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span><span class="si">}</span><span class="s1"> </span><span class="si">{</span><span class="n">bitwuzla</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="n">a</span><span class="p">)</span><span class="si">}</span><span class="s1"> )&#39;</span><span class="p">)</span>
<span class="linenos">67</span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;)&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div><div aria-labelledby="tab-7-7-3" class="sphinx-tabs-panel" hidden="true" id="panel-7-7-3" name="7-3" role="tabpanel" tabindex="0"><div class="highlight-smtlib notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span>(<span class="k">set-logic</span> QF_BV)
<span class="linenos"> 2</span>(<span class="k">set-option</span> <span class="na">:produce-models</span> <span class="s">false</span>)
<span class="linenos"> 3</span>(<span class="k">declare-const</span> <span class="n">x</span> (_ <span class="na">BitVec</span> <span class="m">3</span>))
<span class="linenos"> 4</span>(<span class="k">assert</span> (<span class="o">=</span> <span class="n">x</span> <span class="s">#b010</span>))
<span class="linenos"> 5</span>(<span class="k">check-sat</span>) <span class="c">; expect sat</span>
<span class="linenos"> 6</span>
<span class="linenos"> 7</span>(<span class="k">reset</span>)
<span class="linenos"> 8</span>
<span class="linenos"> 9</span>(<span class="k">set-logic</span> QF_ABV)
<span class="linenos">10</span>(<span class="k">set-option</span> <span class="na">:produce-models</span> <span class="s">true</span>)
<span class="linenos">11</span>(<span class="k">declare-const</span> <span class="n">x</span> (_ <span class="na">BitVec</span> <span class="m">3</span>))
<span class="linenos">12</span>(<span class="k">declare-const</span> <span class="n">a</span> ( <span class="n">Array</span> (_ <span class="na">BitVec</span> <span class="m">2</span>) (_ <span class="na">BitVec</span> <span class="m">3</span>)))
<span class="linenos">13</span>(<span class="k">assert</span> (<span class="o">=</span> <span class="n">x</span> <span class="s">#b011</span>))
<span class="linenos">14</span>(<span class="k">assert</span> (<span class="o">=</span> <span class="n">x</span> (<span class="n">select</span> <span class="n">a</span> <span class="s">#b01</span>)))
<span class="linenos">15</span>(<span class="k">check-sat</span>) <span class="c">; expect sat</span>
<span class="linenos">16</span>(<span class="k">get-model</span>)
</pre></div>
</div>
</div></div>
</section>
<section id="reset-assertions-example">
<h3><a class="toc-backref" href="#id14" role="doc-backlink">Reset Assertions Example</a><a class="headerlink" href="#reset-assertions-example" title="Link to this heading"></a></h3>
<div class="line-block">
<div class="line">This example shows how to reset the currently asserted formulas of a solver instance (SMT-LIB command <code class="code docutils literal notranslate"><span class="pre">reset-assertions</span></code>).</div>
<div class="line">The SMT-LIB input for this example can be found at <a class="reference external" href="https://github.com/bitwuzla/bitwuzla/tree/main/examples/smt2/reset_assertions.smt2">examples/smt2/reset_assertions.smt2</a>.</div>
<div class="line">The source code for this example can be found at <a class="reference external" href="https://github.com/bitwuzla/bitwuzla/tree/main/examples/cpp/reset_assertions.cpp">examples/cpp/reset_assertions.cpp</a>.</div>
</div>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-8-8-0" aria-selected="true" class="sphinx-tabs-tab" id="tab-8-8-0" name="8-0" role="tab" tabindex="0">C++</button><button aria-controls="panel-8-8-1" aria-selected="false" class="sphinx-tabs-tab" id="tab-8-8-1" name="8-1" role="tab" tabindex="-1">C</button><button aria-controls="panel-8-8-2" aria-selected="false" class="sphinx-tabs-tab" id="tab-8-8-2" name="8-2" role="tab" tabindex="-1">Python</button><button aria-controls="panel-8-8-3" aria-selected="false" class="sphinx-tabs-tab" id="tab-8-8-3" name="8-3" role="tab" tabindex="-1">SMT-LIBv2</button></div><div aria-labelledby="tab-8-8-0" class="sphinx-tabs-panel" id="panel-8-8-0" name="8-0" role="tabpanel" tabindex="0"><div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="cm">/***</span>
<span class="linenos"> 2</span><span class="cm"> * Bitwuzla: Satisfiability Modulo Theories (SMT) solver.</span>
<span class="linenos"> 3</span><span class="cm"> *</span>
<span class="linenos"> 4</span><span class="cm"> * Copyright (C) 2023 by the authors listed in the AUTHORS file at</span>
<span class="linenos"> 5</span><span class="cm"> * https://github.com/bitwuzla/bitwuzla/blob/main/AUTHORS</span>
<span class="linenos"> 6</span><span class="cm"> *</span>
<span class="linenos"> 7</span><span class="cm"> * This file is part of Bitwuzla under the MIT license. See COPYING for more</span>
<span class="linenos"> 8</span><span class="cm"> * information at https://github.com/bitwuzla/bitwuzla/blob/main/COPYING</span>
<span class="linenos"> 9</span><span class="cm"> */</span>
<span class="linenos">10</span>
<span class="linenos">11</span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;bitwuzla/cpp/bitwuzla.h&gt;</span>
<span class="linenos">12</span>
<span class="linenos">13</span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;iostream&gt;</span>
<span class="linenos">14</span>
<span class="linenos">15</span><span class="k">using</span><span class="w"> </span><span class="k">namespace</span><span class="w"> </span><span class="nn">bitwuzla</span><span class="p">;</span>
<span class="linenos">16</span>
<span class="linenos">17</span><span class="kt">int</span>
<span class="linenos">18</span><span class="nf">main</span><span class="p">()</span>
<span class="linenos">19</span><span class="p">{</span>
<span class="linenos">20</span><span class="w">  </span><span class="n">Result</span><span class="w"> </span><span class="n">result</span><span class="p">;</span>
<span class="linenos">21</span>
<span class="linenos">22</span><span class="w">  </span><span class="c1">// First, create a term manager instance.</span>
<span class="linenos">23</span><span class="w">  </span><span class="n">TermManager</span><span class="w"> </span><span class="n">tm</span><span class="p">;</span>
<span class="linenos">24</span><span class="w">  </span><span class="c1">// Create a Bitwuzla options instance.</span>
<span class="linenos">25</span><span class="w">  </span><span class="n">Options</span><span class="w"> </span><span class="n">options</span><span class="p">;</span>
<span class="linenos">26</span><span class="w">  </span><span class="c1">// (set-option :produce-models true)</span>
<span class="linenos">27</span><span class="w">  </span><span class="n">options</span><span class="p">.</span><span class="n">set</span><span class="p">(</span><span class="n">Option</span><span class="o">::</span><span class="n">PRODUCE_MODELS</span><span class="p">,</span><span class="w"> </span><span class="nb">true</span><span class="p">);</span>
<span class="linenos">28</span><span class="w">  </span><span class="c1">// Then, create a Bitwuzla instance.</span>
<span class="linenos">29</span><span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">unique_ptr</span><span class="o">&lt;</span><span class="n">Bitwuzla</span><span class="o">&gt;</span><span class="w"> </span><span class="n">bitwuzla</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">Bitwuzla</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span><span class="w"> </span><span class="n">options</span><span class="p">));</span>
<span class="linenos">30</span>
<span class="linenos">31</span><span class="w">  </span><span class="c1">// Create a bit-vector sort of size 3.</span>
<span class="linenos">32</span><span class="w">  </span><span class="n">Sort</span><span class="w"> </span><span class="n">sortbv3</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">tm</span><span class="p">.</span><span class="n">mk_bv_sort</span><span class="p">(</span><span class="mi">3</span><span class="p">);</span>
<span class="linenos">33</span>
<span class="linenos">34</span><span class="w">  </span><span class="c1">// (declare-const x (_ BitVec 3))</span>
<span class="linenos">35</span><span class="w">  </span><span class="n">Term</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">tm</span><span class="p">.</span><span class="n">mk_const</span><span class="p">(</span><span class="n">sortbv3</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;x&quot;</span><span class="p">);</span>
<span class="linenos">36</span>
<span class="linenos">37</span><span class="w">  </span><span class="c1">// (assert (= x #b010))</span>
<span class="linenos">38</span><span class="w">  </span><span class="n">bitwuzla</span><span class="o">-&gt;</span><span class="n">assert_formula</span><span class="p">(</span>
<span class="linenos">39</span><span class="w">      </span><span class="n">tm</span><span class="p">.</span><span class="n">mk_term</span><span class="p">(</span><span class="n">Kind</span><span class="o">::</span><span class="n">EQUAL</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">tm</span><span class="p">.</span><span class="n">mk_bv_value_uint64</span><span class="p">(</span><span class="n">sortbv3</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">)}));</span>
<span class="linenos">40</span><span class="w">  </span><span class="c1">// (check-sat)</span>
<span class="linenos">41</span><span class="w">  </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla</span><span class="o">-&gt;</span><span class="n">check_sat</span><span class="p">();</span>
<span class="linenos">42</span><span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Expect: sat&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="linenos">43</span><span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Bitwuzla: &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="linenos">44</span>
<span class="linenos">45</span><span class="w">  </span><span class="c1">// (assert (= x #b001))</span>
<span class="linenos">46</span><span class="w">  </span><span class="n">bitwuzla</span><span class="o">-&gt;</span><span class="n">assert_formula</span><span class="p">(</span>
<span class="linenos">47</span><span class="w">      </span><span class="n">tm</span><span class="p">.</span><span class="n">mk_term</span><span class="p">(</span><span class="n">Kind</span><span class="o">::</span><span class="n">EQUAL</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">tm</span><span class="p">.</span><span class="n">mk_bv_value_uint64</span><span class="p">(</span><span class="n">sortbv3</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">)}));</span>
<span class="linenos">48</span><span class="w">  </span><span class="c1">// (check-sat)</span>
<span class="linenos">49</span><span class="w">  </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla</span><span class="o">-&gt;</span><span class="n">check_sat</span><span class="p">();</span>
<span class="linenos">50</span><span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Expect: unsat&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="linenos">51</span><span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Bitwuzla: &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="linenos">52</span>
<span class="linenos">53</span><span class="w">  </span><span class="c1">// (reset-assertions)</span>
<span class="linenos">54</span><span class="w">  </span><span class="c1">// Note: Bitwuzla does not provide an explicit API function for</span>
<span class="linenos">55</span><span class="w">  </span><span class="c1">//       reset-assertions since this is achieved by simply discarding</span>
<span class="linenos">56</span><span class="w">  </span><span class="c1">//       the current Bitwuzla instance and creating a new one.</span>
<span class="linenos">57</span><span class="w">  </span><span class="n">bitwuzla</span><span class="p">.</span><span class="n">reset</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">Bitwuzla</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span><span class="w"> </span><span class="n">options</span><span class="p">));</span>
<span class="linenos">58</span>
<span class="linenos">59</span><span class="w">  </span><span class="c1">// (assert (= x #b011))</span>
<span class="linenos">60</span><span class="w">  </span><span class="n">bitwuzla</span><span class="o">-&gt;</span><span class="n">assert_formula</span><span class="p">(</span>
<span class="linenos">61</span><span class="w">      </span><span class="n">tm</span><span class="p">.</span><span class="n">mk_term</span><span class="p">(</span><span class="n">Kind</span><span class="o">::</span><span class="n">EQUAL</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">tm</span><span class="p">.</span><span class="n">mk_bv_value_uint64</span><span class="p">(</span><span class="n">sortbv3</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">)}));</span>
<span class="linenos">62</span><span class="w">  </span><span class="c1">// (check-sat)</span>
<span class="linenos">63</span><span class="w">  </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla</span><span class="o">-&gt;</span><span class="n">check_sat</span><span class="p">();</span>
<span class="linenos">64</span><span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Expect: sat&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="linenos">65</span><span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Bitwuzla: &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="linenos">66</span>
<span class="linenos">67</span><span class="w">  </span><span class="c1">// (get-model)</span>
<span class="linenos">68</span><span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;(&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span>
<span class="linenos">69</span><span class="w">            </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;  (define-fun &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">x</span><span class="p">.</span><span class="n">symbol</span><span class="p">()</span><span class="o">-&gt;</span><span class="n">get</span><span class="p">()</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot; () &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">x</span><span class="p">.</span><span class="n">sort</span><span class="p">()</span>
<span class="linenos">70</span><span class="w">            </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot; &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">bitwuzla</span><span class="o">-&gt;</span><span class="n">get_value</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;)&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span>
<span class="linenos">71</span><span class="w">            </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;)&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="linenos">72</span>
<span class="linenos">73</span><span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">74</span><span class="p">}</span>
</pre></div>
</div>
</div><div aria-labelledby="tab-8-8-1" class="sphinx-tabs-panel" hidden="true" id="panel-8-8-1" name="8-1" role="tabpanel" tabindex="0"><div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="cm">/***</span>
<span class="linenos"> 2</span><span class="cm"> * Bitwuzla: Satisfiability Modulo Theories (SMT) solver.</span>
<span class="linenos"> 3</span><span class="cm"> *</span>
<span class="linenos"> 4</span><span class="cm"> * Copyright (C) 2023 by the authors listed in the AUTHORS file at</span>
<span class="linenos"> 5</span><span class="cm"> * https://github.com/bitwuzla/bitwuzla/blob/main/AUTHORS</span>
<span class="linenos"> 6</span><span class="cm"> *</span>
<span class="linenos"> 7</span><span class="cm"> * This file is part of Bitwuzla under the MIT license. See COPYING for more</span>
<span class="linenos"> 8</span><span class="cm"> * information at https://github.com/bitwuzla/bitwuzla/blob/main/COPYING</span>
<span class="linenos"> 9</span><span class="cm"> */</span>
<span class="linenos">10</span>
<span class="linenos">11</span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;bitwuzla/c/bitwuzla.h&gt;</span>
<span class="linenos">12</span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;stdio.h&gt;</span>
<span class="linenos">13</span>
<span class="linenos">14</span><span class="kt">int</span>
<span class="linenos">15</span><span class="nf">main</span><span class="p">()</span>
<span class="linenos">16</span><span class="p">{</span>
<span class="linenos">17</span><span class="w">  </span><span class="n">BitwuzlaResult</span><span class="w"> </span><span class="n">result</span><span class="p">;</span>
<span class="linenos">18</span>
<span class="linenos">19</span><span class="w">  </span><span class="c1">// First, create a term manager instance.</span>
<span class="linenos">20</span><span class="w">  </span><span class="n">BitwuzlaTermManager</span><span class="o">*</span><span class="w"> </span><span class="n">tm</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_term_manager_new</span><span class="p">();</span>
<span class="linenos">21</span><span class="w">  </span><span class="c1">// Create a Bitwuzla options instance.</span>
<span class="linenos">22</span><span class="w">  </span><span class="n">BitwuzlaOptions</span><span class="o">*</span><span class="w"> </span><span class="n">options</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_options_new</span><span class="p">();</span>
<span class="linenos">23</span><span class="w">  </span><span class="c1">// (set-option :produce-models true)</span>
<span class="linenos">24</span><span class="w">  </span><span class="n">bitwuzla_set_option</span><span class="p">(</span><span class="n">options</span><span class="p">,</span><span class="w"> </span><span class="n">BITWUZLA_OPT_PRODUCE_MODELS</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span>
<span class="linenos">25</span>
<span class="linenos">26</span><span class="w">  </span><span class="c1">// Then, create a Bitwuzla instance.</span>
<span class="linenos">27</span><span class="w">  </span><span class="n">Bitwuzla</span><span class="o">*</span><span class="w"> </span><span class="n">bitwuzla</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_new</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span><span class="w"> </span><span class="n">options</span><span class="p">);</span>
<span class="linenos">28</span>
<span class="linenos">29</span><span class="w">  </span><span class="c1">// Create a bit-vector sort of size 3.</span>
<span class="linenos">30</span><span class="w">  </span><span class="n">BitwuzlaSort</span><span class="w"> </span><span class="n">sortbv3</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_bv_sort</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">);</span>
<span class="linenos">31</span>
<span class="linenos">32</span><span class="w">  </span><span class="c1">// (declare-const x (_ BitVec 3))</span>
<span class="linenos">33</span><span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_const</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span><span class="w"> </span><span class="n">sortbv3</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;x&quot;</span><span class="p">);</span>
<span class="linenos">34</span>
<span class="linenos">35</span><span class="w">  </span><span class="c1">// (assert (= x #b010))</span>
<span class="linenos">36</span><span class="w">  </span><span class="n">bitwuzla_assert</span><span class="p">(</span>
<span class="linenos">37</span><span class="w">      </span><span class="n">bitwuzla</span><span class="p">,</span>
<span class="linenos">38</span><span class="w">      </span><span class="n">bitwuzla_mk_term2</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span>
<span class="linenos">39</span><span class="w">                        </span><span class="n">BITWUZLA_KIND_EQUAL</span><span class="p">,</span>
<span class="linenos">40</span><span class="w">                        </span><span class="n">x</span><span class="p">,</span>
<span class="linenos">41</span><span class="w">                        </span><span class="n">bitwuzla_mk_bv_value_uint64</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span><span class="w"> </span><span class="n">sortbv3</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">)));</span>
<span class="linenos">42</span><span class="w">  </span><span class="c1">// (check-sat)</span>
<span class="linenos">43</span><span class="w">  </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_check_sat</span><span class="p">(</span><span class="n">bitwuzla</span><span class="p">);</span>
<span class="linenos">44</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Expect: sat</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="linenos">45</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Bitwuzla: %s</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">bitwuzla_result_to_string</span><span class="p">(</span><span class="n">result</span><span class="p">));</span>
<span class="linenos">46</span><span class="w">  </span><span class="c1">// (assert (= x #b001))</span>
<span class="linenos">47</span><span class="w">  </span><span class="n">bitwuzla_assert</span><span class="p">(</span>
<span class="linenos">48</span><span class="w">      </span><span class="n">bitwuzla</span><span class="p">,</span>
<span class="linenos">49</span><span class="w">      </span><span class="n">bitwuzla_mk_term2</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span>
<span class="linenos">50</span><span class="w">                        </span><span class="n">BITWUZLA_KIND_EQUAL</span><span class="p">,</span>
<span class="linenos">51</span><span class="w">                        </span><span class="n">x</span><span class="p">,</span>
<span class="linenos">52</span><span class="w">                        </span><span class="n">bitwuzla_mk_bv_value_uint64</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span><span class="w"> </span><span class="n">sortbv3</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">)));</span>
<span class="linenos">53</span><span class="w">  </span><span class="c1">// (check-sat)</span>
<span class="linenos">54</span><span class="w">  </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_check_sat</span><span class="p">(</span><span class="n">bitwuzla</span><span class="p">);</span>
<span class="linenos">55</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Expect: unsat</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="linenos">56</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Bitwuzla: %s</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">bitwuzla_result_to_string</span><span class="p">(</span><span class="n">result</span><span class="p">));</span>
<span class="linenos">57</span>
<span class="linenos">58</span><span class="w">  </span><span class="c1">// (reset-assertions)</span>
<span class="linenos">59</span><span class="w">  </span><span class="c1">// Note: Bitwuzla does not provide an explicit API function for</span>
<span class="linenos">60</span><span class="w">  </span><span class="c1">//       reset-assertions since this is achieved by simply discarding</span>
<span class="linenos">61</span><span class="w">  </span><span class="c1">//       the current Bitwuzla instance and creating a new one.</span>
<span class="linenos">62</span><span class="w">  </span><span class="n">bitwuzla_delete</span><span class="p">(</span><span class="n">bitwuzla</span><span class="p">);</span>
<span class="linenos">63</span><span class="w">  </span><span class="n">bitwuzla</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_new</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span><span class="w"> </span><span class="n">options</span><span class="p">);</span>
<span class="linenos">64</span>
<span class="linenos">65</span><span class="w">  </span><span class="c1">// (assert (= x #b011))</span>
<span class="linenos">66</span><span class="w">  </span><span class="n">bitwuzla_assert</span><span class="p">(</span>
<span class="linenos">67</span><span class="w">      </span><span class="n">bitwuzla</span><span class="p">,</span>
<span class="linenos">68</span><span class="w">      </span><span class="n">bitwuzla_mk_term2</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span>
<span class="linenos">69</span><span class="w">                        </span><span class="n">BITWUZLA_KIND_EQUAL</span><span class="p">,</span>
<span class="linenos">70</span><span class="w">                        </span><span class="n">x</span><span class="p">,</span>
<span class="linenos">71</span><span class="w">                        </span><span class="n">bitwuzla_mk_bv_value_uint64</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span><span class="w"> </span><span class="n">sortbv3</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">)));</span>
<span class="linenos">72</span><span class="w">  </span><span class="c1">// (check-sat)</span>
<span class="linenos">73</span><span class="w">  </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_check_sat</span><span class="p">(</span><span class="n">bitwuzla</span><span class="p">);</span>
<span class="linenos">74</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Expect: sat</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="linenos">75</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Bitwuzla: %s</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">bitwuzla_result_to_string</span><span class="p">(</span><span class="n">result</span><span class="p">));</span>
<span class="linenos">76</span><span class="w">  </span><span class="c1">// (get-model)</span>
<span class="linenos">77</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;(</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="linenos">78</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;  (define-fun %s&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">bitwuzla_term_get_symbol</span><span class="p">(</span><span class="n">x</span><span class="p">));</span>
<span class="linenos">79</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot; () %s&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">bitwuzla_sort_to_string</span><span class="p">(</span><span class="n">bitwuzla_term_get_sort</span><span class="p">(</span><span class="n">x</span><span class="p">)));</span>
<span class="linenos">80</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot; %s)</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">bitwuzla_term_to_string</span><span class="p">(</span><span class="n">bitwuzla_get_value</span><span class="p">(</span><span class="n">bitwuzla</span><span class="p">,</span><span class="w"> </span><span class="n">x</span><span class="p">)));</span>
<span class="linenos">81</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;)</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="linenos">82</span>
<span class="linenos">83</span><span class="w">  </span><span class="c1">// Finally, delete the Bitwuzla solver, options, and term manager instances.</span>
<span class="linenos">84</span><span class="w">  </span><span class="n">bitwuzla_delete</span><span class="p">(</span><span class="n">bitwuzla</span><span class="p">);</span>
<span class="linenos">85</span><span class="w">  </span><span class="n">bitwuzla_options_delete</span><span class="p">(</span><span class="n">options</span><span class="p">);</span>
<span class="linenos">86</span><span class="w">  </span><span class="n">bitwuzla_term_manager_delete</span><span class="p">(</span><span class="n">tm</span><span class="p">);</span>
<span class="linenos">87</span>
<span class="linenos">88</span><span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">89</span><span class="p">}</span>
</pre></div>
</div>
</div><div aria-labelledby="tab-8-8-2" class="sphinx-tabs-panel" hidden="true" id="panel-8-8-2" name="8-2" role="tabpanel" tabindex="0"><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="c1">###</span>
<span class="linenos"> 2</span><span class="c1"># Bitwuzla: Satisfiability Modulo Theories (SMT) solver.</span>
<span class="linenos"> 3</span><span class="c1">#</span>
<span class="linenos"> 4</span><span class="c1"># Copyright (C) 2023 by the authors listed in the AUTHORS file at</span>
<span class="linenos"> 5</span><span class="c1"># https:#github.com/bitwuzla/bitwuzla/blob/main/AUTHORS</span>
<span class="linenos"> 6</span><span class="c1">#</span>
<span class="linenos"> 7</span><span class="c1"># This file is part of Bitwuzla under the MIT license. See COPYING for more</span>
<span class="linenos"> 8</span><span class="c1"># information at https:#github.com/bitwuzla/bitwuzla/blob/main/COPYING</span>
<span class="linenos"> 9</span><span class="c1">##</span>
<span class="linenos">10</span>
<span class="linenos">11</span><span class="kn">from</span><span class="w"> </span><span class="nn">bitwuzla</span><span class="w"> </span><span class="kn">import</span> <span class="o">*</span>
<span class="linenos">12</span>
<span class="linenos">13</span><span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
<span class="linenos">14</span>
<span class="linenos">15</span>    <span class="c1"># First, create a term manager instance.</span>
<span class="linenos">16</span>    <span class="n">tm</span> <span class="o">=</span> <span class="n">TermManager</span><span class="p">()</span>
<span class="linenos">17</span>    <span class="c1"># Create a Bitwuzla options instance.</span>
<span class="linenos">18</span>    <span class="n">options</span> <span class="o">=</span> <span class="n">Options</span><span class="p">()</span>
<span class="linenos">19</span>    <span class="c1"># (set-option :produce-models true)</span>
<span class="linenos">20</span>    <span class="n">options</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">Option</span><span class="o">.</span><span class="n">PRODUCE_MODELS</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
<span class="linenos">21</span>
<span class="linenos">22</span>    <span class="c1"># Then, create a Bitwuzla instance.</span>
<span class="linenos">23</span>    <span class="n">bitwuzla</span> <span class="o">=</span> <span class="n">Bitwuzla</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span> <span class="n">options</span><span class="p">)</span>
<span class="linenos">24</span>
<span class="linenos">25</span>    <span class="c1"># Create a bit-vector sort of size 3.</span>
<span class="linenos">26</span>    <span class="n">sortbv3</span> <span class="o">=</span> <span class="n">tm</span><span class="o">.</span><span class="n">mk_bv_sort</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="linenos">27</span>
<span class="linenos">28</span>    <span class="c1"># (declare-const x (_ BitVec 3))</span>
<span class="linenos">29</span>    <span class="n">x</span> <span class="o">=</span> <span class="n">tm</span><span class="o">.</span><span class="n">mk_const</span><span class="p">(</span><span class="n">sortbv3</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">)</span>
<span class="linenos">30</span>
<span class="linenos">31</span>    <span class="c1"># (assert (= x #b010))</span>
<span class="linenos">32</span>    <span class="n">bitwuzla</span><span class="o">.</span><span class="n">assert_formula</span><span class="p">(</span>
<span class="linenos">33</span>        <span class="n">tm</span><span class="o">.</span><span class="n">mk_term</span><span class="p">(</span><span class="n">Kind</span><span class="o">.</span><span class="n">EQUAL</span><span class="p">,</span> <span class="p">[</span><span class="n">x</span><span class="p">,</span> <span class="n">tm</span><span class="o">.</span><span class="n">mk_bv_value</span><span class="p">(</span><span class="n">sortbv3</span><span class="p">,</span> <span class="mi">2</span><span class="p">)]))</span>
<span class="linenos">34</span>    <span class="c1"># (check-sat)</span>
<span class="linenos">35</span>    <span class="n">result</span> <span class="o">=</span> <span class="n">bitwuzla</span><span class="o">.</span><span class="n">check_sat</span><span class="p">()</span>
<span class="linenos">36</span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Expect: sat&#39;</span><span class="p">)</span>
<span class="linenos">37</span>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Bitwuzla: </span><span class="si">{</span><span class="n">result</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="linenos">38</span>
<span class="linenos">39</span>    <span class="c1"># (assert (= x #b001))</span>
<span class="linenos">40</span>    <span class="n">bitwuzla</span><span class="o">.</span><span class="n">assert_formula</span><span class="p">(</span>
<span class="linenos">41</span>        <span class="n">tm</span><span class="o">.</span><span class="n">mk_term</span><span class="p">(</span><span class="n">Kind</span><span class="o">.</span><span class="n">EQUAL</span><span class="p">,</span> <span class="p">[</span><span class="n">x</span><span class="p">,</span> <span class="n">tm</span><span class="o">.</span><span class="n">mk_bv_value</span><span class="p">(</span><span class="n">sortbv3</span><span class="p">,</span> <span class="mi">1</span><span class="p">)]))</span>
<span class="linenos">42</span>    <span class="c1"># (check-sat)</span>
<span class="linenos">43</span>    <span class="n">result</span> <span class="o">=</span> <span class="n">bitwuzla</span><span class="o">.</span><span class="n">check_sat</span><span class="p">()</span>
<span class="linenos">44</span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Expect: unsat&#39;</span><span class="p">)</span>
<span class="linenos">45</span>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Bitwuzla: </span><span class="si">{</span><span class="n">result</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="linenos">46</span>
<span class="linenos">47</span>    <span class="c1"># (reset-assertions)</span>
<span class="linenos">48</span>    <span class="c1"># Note: Bitwuzla does not provide an explicit API function for</span>
<span class="linenos">49</span>    <span class="c1">#       reset-assertions since this is achieved by simply discarding</span>
<span class="linenos">50</span>    <span class="c1">#       the current Bitwuzla instance and creating a new one.</span>
<span class="linenos">51</span>    <span class="n">bitwuzla</span> <span class="o">=</span> <span class="n">Bitwuzla</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span> <span class="n">options</span><span class="p">)</span>
<span class="linenos">52</span>
<span class="linenos">53</span>    <span class="c1"># (assert (= x #b011))</span>
<span class="linenos">54</span>    <span class="n">bitwuzla</span><span class="o">.</span><span class="n">assert_formula</span><span class="p">(</span>
<span class="linenos">55</span>        <span class="n">tm</span><span class="o">.</span><span class="n">mk_term</span><span class="p">(</span><span class="n">Kind</span><span class="o">.</span><span class="n">EQUAL</span><span class="p">,</span> <span class="p">[</span><span class="n">x</span><span class="p">,</span> <span class="n">tm</span><span class="o">.</span><span class="n">mk_bv_value</span><span class="p">(</span><span class="n">sortbv3</span><span class="p">,</span> <span class="mi">3</span><span class="p">)]))</span>
<span class="linenos">56</span>    <span class="c1"># (check-sat)</span>
<span class="linenos">57</span>    <span class="n">result</span> <span class="o">=</span> <span class="n">bitwuzla</span><span class="o">.</span><span class="n">check_sat</span><span class="p">()</span>
<span class="linenos">58</span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Expect: sat&#39;</span><span class="p">)</span>
<span class="linenos">59</span>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Bitwuzla: </span><span class="si">{</span><span class="n">result</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="linenos">60</span>
<span class="linenos">61</span>    <span class="c1"># (get-model)</span>
<span class="linenos">62</span>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;(</span><span class="se">\n</span><span class="s1"> (define-fun </span><span class="si">{</span><span class="n">x</span><span class="o">.</span><span class="n">symbol</span><span class="p">()</span><span class="si">}</span><span class="s1"> () </span><span class="si">{</span><span class="n">x</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span><span class="si">}</span><span class="s1"> </span><span class="si">{</span><span class="n">bitwuzla</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="si">}</span><span class="s1"> )</span><span class="se">\n</span><span class="s1">)&#39;</span><span class="p">)</span>
<span class="linenos">63</span>
</pre></div>
</div>
</div><div aria-labelledby="tab-8-8-3" class="sphinx-tabs-panel" hidden="true" id="panel-8-8-3" name="8-3" role="tabpanel" tabindex="0"><div class="highlight-smtlib notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span>(<span class="k">set-logic</span> QF_BV)
<span class="linenos"> 2</span>(<span class="k">set-option</span> <span class="err">:</span><span class="n">global</span><span class="err">-</span><span class="n">declarations</span> <span class="s">true</span>)
<span class="linenos"> 3</span>(<span class="k">set-option</span> <span class="na">:produce-models</span> <span class="s">true</span>)
<span class="linenos"> 4</span>(<span class="k">declare-const</span> <span class="n">x</span> (_ <span class="na">BitVec</span> <span class="m">3</span>))
<span class="linenos"> 5</span>(<span class="k">assert</span> (<span class="o">=</span> <span class="n">x</span> <span class="s">#b010</span>))
<span class="linenos"> 6</span>(<span class="k">check-sat</span>) <span class="c">; expect sat</span>
<span class="linenos"> 7</span>(<span class="k">assert</span> (<span class="o">=</span> <span class="n">x</span> <span class="s">#b001</span>))
<span class="linenos"> 8</span>(<span class="k">check-sat</span>) <span class="c">; expect unsat</span>
<span class="linenos"> 9</span>
<span class="linenos">10</span>(<span class="k">reset-assertions</span>)
<span class="linenos">11</span>
<span class="linenos">12</span>(<span class="k">assert</span> (<span class="o">=</span> <span class="n">x</span> <span class="s">#b011</span>))
<span class="linenos">13</span>(<span class="k">check-sat</span>) <span class="c">; expect sat</span>
<span class="linenos">14</span>(<span class="k">get-model</span>)
</pre></div>
</div>
</div></div>
</section>
<section id="parsing-example">
<h3><a class="toc-backref" href="#id15" role="doc-backlink">Parsing Example</a><a class="headerlink" href="#parsing-example" title="Link to this heading"></a></h3>
<div class="line-block">
<div class="line">This example shows how to parse an input file via the API.</div>
<div class="line">The source code for this example can be found at <a class="reference external" href="https://github.com/bitwuzla/bitwuzla/tree/main/examples/cpp/parse.cpp">examples/cpp/parse.cpp</a>.</div>
</div>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-9-9-0" aria-selected="true" class="sphinx-tabs-tab" id="tab-9-9-0" name="9-0" role="tab" tabindex="0">C++</button><button aria-controls="panel-9-9-1" aria-selected="false" class="sphinx-tabs-tab" id="tab-9-9-1" name="9-1" role="tab" tabindex="-1">C</button><button aria-controls="panel-9-9-2" aria-selected="false" class="sphinx-tabs-tab" id="tab-9-9-2" name="9-2" role="tab" tabindex="-1">Python</button></div><div aria-labelledby="tab-9-9-0" class="sphinx-tabs-panel" id="panel-9-9-0" name="9-0" role="tabpanel" tabindex="0"><div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="cm">/***</span>
<span class="linenos"> 2</span><span class="cm"> * Bitwuzla: Satisfiability Modulo Theories (SMT) solver.</span>
<span class="linenos"> 3</span><span class="cm"> *</span>
<span class="linenos"> 4</span><span class="cm"> * Copyright (C) 2023 by the authors listed in the AUTHORS file at</span>
<span class="linenos"> 5</span><span class="cm"> * https://github.com/bitwuzla/bitwuzla/blob/main/AUTHORS</span>
<span class="linenos"> 6</span><span class="cm"> *</span>
<span class="linenos"> 7</span><span class="cm"> * This file is part of Bitwuzla under the MIT license. See COPYING for more</span>
<span class="linenos"> 8</span><span class="cm"> * information at https://github.com/bitwuzla/bitwuzla/blob/main/COPYING</span>
<span class="linenos"> 9</span><span class="cm"> */</span>
<span class="linenos">10</span>
<span class="linenos">11</span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;bitwuzla/cpp/bitwuzla.h&gt;</span>
<span class="linenos">12</span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;bitwuzla/cpp/parser.h&gt;</span>
<span class="linenos">13</span>
<span class="linenos">14</span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;cassert&gt;</span>
<span class="linenos">15</span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;iostream&gt;</span>
<span class="linenos">16</span>
<span class="linenos">17</span><span class="k">using</span><span class="w"> </span><span class="k">namespace</span><span class="w"> </span><span class="nn">bitwuzla</span><span class="p">;</span>
<span class="linenos">18</span>
<span class="linenos">19</span><span class="kt">int</span>
<span class="linenos">20</span><span class="nf">main</span><span class="p">()</span>
<span class="linenos">21</span><span class="p">{</span>
<span class="linenos">22</span><span class="w">  </span><span class="c1">// First, create a term manager instance.</span>
<span class="linenos">23</span><span class="w">  </span><span class="n">TermManager</span><span class="w"> </span><span class="n">tm</span><span class="p">;</span>
<span class="linenos">24</span><span class="w">  </span><span class="c1">// Create a Bitwuzla options instance.</span>
<span class="linenos">25</span><span class="w">  </span><span class="n">Options</span><span class="w"> </span><span class="n">options</span><span class="p">;</span>
<span class="linenos">26</span>
<span class="linenos">27</span><span class="w">  </span><span class="c1">// We will parse example file `smt2/quickstart.smt2`.</span>
<span class="linenos">28</span><span class="w">  </span><span class="c1">// Create parser instance.</span>
<span class="linenos">29</span><span class="w">  </span><span class="n">parser</span><span class="o">::</span><span class="n">Parser</span><span class="w"> </span><span class="n">parser</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span><span class="w"> </span><span class="n">options</span><span class="p">);</span>
<span class="linenos">30</span>
<span class="linenos">31</span><span class="w">  </span><span class="k">try</span>
<span class="linenos">32</span><span class="w">  </span><span class="p">{</span>
<span class="linenos">33</span><span class="w">    </span><span class="c1">// Now parse the input file.</span>
<span class="linenos">34</span><span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Expect: sat&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="linenos">35</span><span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Bitwuzla: &quot;</span><span class="p">;</span>
<span class="linenos">36</span><span class="w">    </span><span class="n">parser</span><span class="p">.</span><span class="n">parse</span><span class="p">(</span><span class="s">&quot;../smt2/quickstart.smt2&quot;</span><span class="p">);</span>
<span class="linenos">37</span>
<span class="linenos">38</span><span class="w">    </span><span class="c1">// Now we retrieve the set of asserted formulas and print them.</span>
<span class="linenos">39</span><span class="w">    </span><span class="k">auto</span><span class="w"> </span><span class="n">assertions</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">parser</span><span class="p">.</span><span class="n">bitwuzla</span><span class="p">()</span><span class="o">-&gt;</span><span class="n">get_assertions</span><span class="p">();</span>
<span class="linenos">40</span><span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Assertions:&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;{&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="linenos">41</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="k">auto</span><span class="o">&amp;</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">assertions</span><span class="p">)</span>
<span class="linenos">42</span><span class="w">    </span><span class="p">{</span>
<span class="linenos">43</span><span class="w">      </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;  &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="linenos">44</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">45</span><span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;}&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="linenos">46</span>
<span class="linenos">47</span><span class="w">    </span><span class="c1">// Now we add an assertion via parsing from string.</span>
<span class="linenos">48</span><span class="w">    </span><span class="n">parser</span><span class="p">.</span><span class="n">parse</span><span class="p">(</span><span class="s">&quot;(assert (distinct (select a x) y))&quot;</span><span class="p">,</span><span class="w"> </span><span class="nb">true</span><span class="p">,</span><span class="w"> </span><span class="nb">false</span><span class="p">);</span>
<span class="linenos">49</span><span class="w">    </span><span class="c1">// Now the formula is unsat.</span>
<span class="linenos">50</span><span class="w">    </span><span class="n">Result</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">parser</span><span class="p">.</span><span class="n">bitwuzla</span><span class="p">()</span><span class="o">-&gt;</span><span class="n">check_sat</span><span class="p">();</span>
<span class="linenos">51</span>
<span class="linenos">52</span><span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Expect: unsat&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="linenos">53</span><span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Bitwuzla: &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="linenos">54</span>
<span class="linenos">55</span><span class="w">    </span><span class="c1">// For illustration purposes, we now parse in some declarations and terms</span>
<span class="linenos">56</span><span class="w">    </span><span class="c1">// and sorts from string.</span>
<span class="linenos">57</span>
<span class="linenos">58</span><span class="w">    </span><span class="c1">// Declare bit-vector sort of size 16.</span>
<span class="linenos">59</span><span class="w">    </span><span class="n">Sort</span><span class="w"> </span><span class="n">bv16</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">parser</span><span class="p">.</span><span class="n">parse_sort</span><span class="p">(</span><span class="s">&quot;(_ BitVec 16)&quot;</span><span class="p">);</span>
<span class="linenos">60</span><span class="w">    </span><span class="c1">// Create bit-vector sort of size 16 and show that it corresponds to</span>
<span class="linenos">61</span><span class="w">    </span><span class="c1">// its string representation &#39;(_ BitVec16)&#39;.</span>
<span class="linenos">62</span><span class="w">    </span><span class="n">assert</span><span class="p">(</span><span class="n">bv16</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">tm</span><span class="p">.</span><span class="n">mk_bv_sort</span><span class="p">(</span><span class="mi">16</span><span class="p">));</span>
<span class="linenos">63</span>
<span class="linenos">64</span><span class="w">    </span><span class="c1">// Declare Boolean constants &#39;c&#39; and &#39;d&#39;.</span>
<span class="linenos">65</span><span class="w">    </span><span class="c1">// Note: Declarations are commands (not terms) in the SMT-LIB language.</span>
<span class="linenos">66</span><span class="w">    </span><span class="c1">//       Commands must be parsed in via Parser::parse(),</span>
<span class="linenos">67</span><span class="w">    </span><span class="c1">//       Parser::parse_term() only supports parsing SMT-LIB terms.</span>
<span class="linenos">68</span><span class="w">    </span><span class="n">parser</span><span class="p">.</span><span class="n">parse</span><span class="p">(</span><span class="s">&quot;(declare-const c Bool)(declare-const d Bool)&quot;</span><span class="p">,</span><span class="w"> </span><span class="nb">true</span><span class="p">,</span><span class="w"> </span><span class="nb">false</span><span class="p">);</span>
<span class="linenos">69</span><span class="w">    </span><span class="c1">// Declare bit-vector constant &#39;b&#39;.</span>
<span class="linenos">70</span><span class="w">    </span><span class="n">parser</span><span class="p">.</span><span class="n">parse</span><span class="p">(</span><span class="s">&quot;(declare-const b (_ BitVec 16))&quot;</span><span class="p">,</span><span class="w"> </span><span class="nb">true</span><span class="p">,</span><span class="w"> </span><span class="nb">false</span><span class="p">);</span>
<span class="linenos">71</span><span class="w">    </span><span class="c1">// Retrieve term representing &#39;b&#39;.</span>
<span class="linenos">72</span><span class="w">    </span><span class="n">Term</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">parser</span><span class="p">.</span><span class="n">parse_term</span><span class="p">(</span><span class="s">&quot;b&quot;</span><span class="p">);</span>
<span class="linenos">73</span><span class="w">    </span><span class="c1">// Retrieve term representing &#39;c&#39;.</span>
<span class="linenos">74</span><span class="w">    </span><span class="n">Term</span><span class="w"> </span><span class="n">c</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">parser</span><span class="p">.</span><span class="n">parse_term</span><span class="p">(</span><span class="s">&quot;c&quot;</span><span class="p">);</span>
<span class="linenos">75</span><span class="w">    </span><span class="c1">// Retrieve term representing &#39;d&#39;.</span>
<span class="linenos">76</span><span class="w">    </span><span class="n">Term</span><span class="w"> </span><span class="n">d</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">parser</span><span class="p">.</span><span class="n">parse_term</span><span class="p">(</span><span class="s">&quot;d&quot;</span><span class="p">);</span>
<span class="linenos">77</span><span class="w">    </span><span class="c1">// Create xor over &#39;c&#39; and &#39;d&#39; and show that it corresponds to term</span>
<span class="linenos">78</span><span class="w">    </span><span class="c1">// parsed in from its string representation &#39;(xor c d)&#39;.</span>
<span class="linenos">79</span><span class="w">    </span><span class="n">assert</span><span class="p">(</span><span class="n">parser</span><span class="p">.</span><span class="n">parse_term</span><span class="p">(</span><span class="s">&quot;(xor c d)&quot;</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">tm</span><span class="p">.</span><span class="n">mk_term</span><span class="p">(</span><span class="n">Kind</span><span class="o">::</span><span class="n">XOR</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="n">c</span><span class="p">,</span><span class="w"> </span><span class="n">d</span><span class="p">}));</span>
<span class="linenos">80</span><span class="w">    </span><span class="c1">// Create bit-vector addition over &#39;b&#39; and bit-vector value</span>
<span class="linenos">81</span><span class="w">    </span><span class="c1">// &#39;1011111010001010&#39; and show that it corresponds to the term parsed in</span>
<span class="linenos">82</span><span class="w">    </span><span class="c1">// from its string representation &#39;(bvadd b #b1011111010001010)&#39;.</span>
<span class="linenos">83</span><span class="w">    </span><span class="n">assert</span><span class="p">(</span><span class="n">parser</span><span class="p">.</span><span class="n">parse_term</span><span class="p">(</span><span class="s">&quot;(bvadd b #b1011111010001010)&quot;</span><span class="p">)</span>
<span class="linenos">84</span><span class="w">           </span><span class="o">==</span><span class="w"> </span><span class="n">tm</span><span class="p">.</span><span class="n">mk_term</span><span class="p">(</span><span class="n">Kind</span><span class="o">::</span><span class="n">BV_ADD</span><span class="p">,</span>
<span class="linenos">85</span><span class="w">                         </span><span class="p">{</span><span class="n">b</span><span class="p">,</span><span class="w"> </span><span class="n">tm</span><span class="p">.</span><span class="n">mk_bv_value</span><span class="p">(</span><span class="n">bv16</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;1011111010001010&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">)}));</span>
<span class="linenos">86</span><span class="w">  </span><span class="p">}</span>
<span class="linenos">87</span><span class="w">  </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">bitwuzla</span><span class="o">::</span><span class="n">parser</span><span class="o">::</span><span class="n">Exception</span><span class="o">&amp;</span><span class="w"> </span><span class="n">e</span><span class="p">)</span>
<span class="linenos">88</span><span class="w">  </span><span class="p">{</span>
<span class="linenos">89</span><span class="w">    </span><span class="c1">// We expect no error to occur.</span>
<span class="linenos">90</span><span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;unexpected parser exception&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="linenos">91</span><span class="w">  </span><span class="p">}</span>
<span class="linenos">92</span><span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">93</span><span class="p">}</span>
</pre></div>
</div>
</div><div aria-labelledby="tab-9-9-1" class="sphinx-tabs-panel" hidden="true" id="panel-9-9-1" name="9-1" role="tabpanel" tabindex="0"><div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="linenos">  1</span><span class="cm">/***</span>
<span class="linenos">  2</span><span class="cm"> * Bitwuzla: Satisfiability Modulo Theories (SMT) solver.</span>
<span class="linenos">  3</span><span class="cm"> *</span>
<span class="linenos">  4</span><span class="cm"> * Copyright (C) 2023 by the authors listed in the AUTHORS file at</span>
<span class="linenos">  5</span><span class="cm"> * https://github.com/bitwuzla/bitwuzla/blob/main/AUTHORS</span>
<span class="linenos">  6</span><span class="cm"> *</span>
<span class="linenos">  7</span><span class="cm"> * This file is part of Bitwuzla under the MIT license. See COPYING for more</span>
<span class="linenos">  8</span><span class="cm"> * information at https://github.com/bitwuzla/bitwuzla/blob/main/COPYING</span>
<span class="linenos">  9</span><span class="cm"> */</span>
<span class="linenos"> 10</span>
<span class="linenos"> 11</span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;assert.h&gt;</span>
<span class="linenos"> 12</span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;bitwuzla/c/bitwuzla.h&gt;</span>
<span class="linenos"> 13</span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;bitwuzla/c/parser.h&gt;</span>
<span class="linenos"> 14</span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;stdlib.h&gt;</span>
<span class="linenos"> 15</span>
<span class="linenos"> 16</span><span class="kt">int</span>
<span class="linenos"> 17</span><span class="nf">main</span><span class="p">()</span>
<span class="linenos"> 18</span><span class="p">{</span>
<span class="linenos"> 19</span><span class="w">  </span><span class="c1">// First, create a term manager instance.</span>
<span class="linenos"> 20</span><span class="w">  </span><span class="n">BitwuzlaTermManager</span><span class="o">*</span><span class="w"> </span><span class="n">tm</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_term_manager_new</span><span class="p">();</span>
<span class="linenos"> 21</span><span class="w">  </span><span class="c1">// Create a Bitwuzla options instance.</span>
<span class="linenos"> 22</span><span class="w">  </span><span class="n">BitwuzlaOptions</span><span class="o">*</span><span class="w"> </span><span class="n">options</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_options_new</span><span class="p">();</span>
<span class="linenos"> 23</span>
<span class="linenos"> 24</span><span class="w">  </span><span class="c1">// We will parse example file `smt2/quickstart.smt2`.</span>
<span class="linenos"> 25</span><span class="w">  </span><span class="c1">// Create parser instance.</span>
<span class="linenos"> 26</span><span class="w">  </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">infile_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;../smt2/quickstart.smt2&quot;</span><span class="p">;</span>
<span class="linenos"> 27</span><span class="w">  </span><span class="n">BitwuzlaParser</span><span class="o">*</span><span class="w"> </span><span class="n">parser</span><span class="w"> </span><span class="o">=</span>
<span class="linenos"> 28</span><span class="w">      </span><span class="n">bitwuzla_parser_new</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span><span class="w"> </span><span class="n">options</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;smt2&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;&lt;stdout&gt;&quot;</span><span class="p">);</span>
<span class="linenos"> 29</span>
<span class="linenos"> 30</span><span class="w">  </span><span class="c1">// Now parse the input file.</span>
<span class="linenos"> 31</span><span class="w">  </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">error_msg</span><span class="p">;</span>
<span class="linenos"> 32</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Expect: sat</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="linenos"> 33</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Bitwuzla: &quot;</span><span class="p">);</span>
<span class="linenos"> 34</span><span class="w">  </span><span class="n">bitwuzla_parser_parse</span><span class="p">(</span><span class="n">parser</span><span class="p">,</span><span class="w"> </span><span class="n">infile_name</span><span class="p">,</span><span class="w"> </span><span class="nb">false</span><span class="p">,</span><span class="w"> </span><span class="nb">true</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">error_msg</span><span class="p">);</span>
<span class="linenos"> 35</span><span class="w">  </span><span class="c1">// We expect no error to occur.</span>
<span class="linenos"> 36</span><span class="w">  </span><span class="n">assert</span><span class="p">(</span><span class="o">!</span><span class="n">error_msg</span><span class="p">);</span>
<span class="linenos"> 37</span>
<span class="linenos"> 38</span><span class="w">  </span><span class="c1">// Now we retrieve the set of asserted formulas and print them.</span>
<span class="linenos"> 39</span><span class="w">  </span><span class="kt">size_t</span><span class="w"> </span><span class="n">size</span><span class="p">;</span>
<span class="linenos"> 40</span><span class="w">  </span><span class="k">const</span><span class="w"> </span><span class="n">BitwuzlaTerm</span><span class="o">*</span><span class="w"> </span><span class="n">assertions</span><span class="w"> </span><span class="o">=</span>
<span class="linenos"> 41</span><span class="w">      </span><span class="n">bitwuzla_get_assertions</span><span class="p">(</span><span class="n">bitwuzla_parser_get_bitwuzla</span><span class="p">(</span><span class="n">parser</span><span class="p">),</span><span class="w"> </span><span class="o">&amp;</span><span class="n">size</span><span class="p">);</span>
<span class="linenos"> 42</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Assertions:</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="linenos"> 43</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;{</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="linenos"> 44</span><span class="w">  </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">size_t</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">size</span><span class="p">;</span><span class="w"> </span><span class="o">++</span><span class="n">i</span><span class="p">)</span>
<span class="linenos"> 45</span><span class="w">  </span><span class="p">{</span>
<span class="linenos"> 46</span><span class="w">    </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;  %s</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">bitwuzla_term_to_string</span><span class="p">(</span><span class="n">assertions</span><span class="p">[</span><span class="n">i</span><span class="p">]));</span>
<span class="linenos"> 47</span><span class="w">  </span><span class="p">}</span>
<span class="linenos"> 48</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;}</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="linenos"> 49</span>
<span class="linenos"> 50</span><span class="w">  </span><span class="c1">// Now we add an assertion via parsing from string.</span>
<span class="linenos"> 51</span><span class="w">  </span><span class="n">bitwuzla_parser_parse</span><span class="p">(</span>
<span class="linenos"> 52</span><span class="w">      </span><span class="n">parser</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;(assert (distinct (select a x) y))&quot;</span><span class="p">,</span><span class="w"> </span><span class="nb">true</span><span class="p">,</span><span class="w"> </span><span class="nb">false</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">error_msg</span><span class="p">);</span>
<span class="linenos"> 53</span><span class="w">  </span><span class="c1">// We expect no error to occur.</span>
<span class="linenos"> 54</span><span class="w">  </span><span class="n">assert</span><span class="p">(</span><span class="o">!</span><span class="n">error_msg</span><span class="p">);</span>
<span class="linenos"> 55</span><span class="w">  </span><span class="c1">// Now the formula is unsat.</span>
<span class="linenos"> 56</span><span class="w">  </span><span class="n">BitwuzlaResult</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span>
<span class="linenos"> 57</span><span class="w">      </span><span class="n">bitwuzla_check_sat</span><span class="p">(</span><span class="n">bitwuzla_parser_get_bitwuzla</span><span class="p">(</span><span class="n">parser</span><span class="p">));</span>
<span class="linenos"> 58</span>
<span class="linenos"> 59</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Expect: unsat</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="linenos"> 60</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Bitwuzla: %s</span><span class="se">\n\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">bitwuzla_result_to_string</span><span class="p">(</span><span class="n">result</span><span class="p">));</span>
<span class="linenos"> 61</span>
<span class="linenos"> 62</span><span class="w">  </span><span class="c1">// For illustration purposes, we now parse in some declarations and terms </span>
<span class="linenos"> 63</span><span class="w">  </span><span class="c1">// and sorts from string.</span>
<span class="linenos"> 64</span>
<span class="linenos"> 65</span><span class="w">  </span><span class="c1">// Declare bit-vector sort of size 16.</span>
<span class="linenos"> 66</span><span class="w">  </span><span class="n">BitwuzlaSort</span><span class="w"> </span><span class="n">bv16</span><span class="w"> </span><span class="o">=</span>
<span class="linenos"> 67</span><span class="w">      </span><span class="n">bitwuzla_parser_parse_sort</span><span class="p">(</span><span class="n">parser</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;(_ BitVec 16)&quot;</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">error_msg</span><span class="p">);</span>
<span class="linenos"> 68</span><span class="w">  </span><span class="c1">// We expect no error to occur.</span>
<span class="linenos"> 69</span><span class="w">  </span><span class="n">assert</span><span class="p">(</span><span class="o">!</span><span class="n">error_msg</span><span class="p">);</span>
<span class="linenos"> 70</span><span class="w">  </span><span class="c1">// Create bit-vector sort of size 16 and show that it corresponds to</span>
<span class="linenos"> 71</span><span class="w">  </span><span class="c1">// its string representation &#39;(_ BitVec16)&#39;.</span>
<span class="linenos"> 72</span><span class="w">  </span><span class="n">assert</span><span class="p">(</span><span class="n">bv16</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">bitwuzla_mk_bv_sort</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span><span class="w"> </span><span class="mi">16</span><span class="p">));</span>
<span class="linenos"> 73</span>
<span class="linenos"> 74</span><span class="w">  </span><span class="c1">// Declare Boolean constants &#39;c&#39; and &#39;d&#39;.</span>
<span class="linenos"> 75</span><span class="w">  </span><span class="c1">// Note: Declarations are commands (not terms) in the SMT-LIB language.</span>
<span class="linenos"> 76</span><span class="w">  </span><span class="c1">//       Commands must be parsed in via bitwuzla_parser_parse(),</span>
<span class="linenos"> 77</span><span class="w">  </span><span class="c1">//       bitwuzla_parser_parse_term() only supports parsing SMT-LIB terms.</span>
<span class="linenos"> 78</span><span class="w">  </span><span class="n">bitwuzla_parser_parse</span><span class="p">(</span><span class="n">parser</span><span class="p">,</span>
<span class="linenos"> 79</span><span class="w">                        </span><span class="s">&quot;(declare-const c Bool)(declare-const d Bool)&quot;</span><span class="p">,</span>
<span class="linenos"> 80</span><span class="w">                        </span><span class="nb">true</span><span class="p">,</span>
<span class="linenos"> 81</span><span class="w">                        </span><span class="nb">false</span><span class="p">,</span>
<span class="linenos"> 82</span><span class="w">                        </span><span class="o">&amp;</span><span class="n">error_msg</span><span class="p">);</span>
<span class="linenos"> 83</span><span class="w">  </span><span class="c1">// Declare bit-vector constant &#39;b&#39;.</span>
<span class="linenos"> 84</span><span class="w">  </span><span class="n">bitwuzla_parser_parse</span><span class="p">(</span>
<span class="linenos"> 85</span><span class="w">      </span><span class="n">parser</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;(declare-const b (_ BitVec 16))&quot;</span><span class="p">,</span><span class="w"> </span><span class="nb">true</span><span class="p">,</span><span class="w"> </span><span class="nb">false</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">error_msg</span><span class="p">);</span>
<span class="linenos"> 86</span><span class="w">  </span><span class="c1">// We expect no error to occur.</span>
<span class="linenos"> 87</span><span class="w">  </span><span class="n">assert</span><span class="p">(</span><span class="o">!</span><span class="n">error_msg</span><span class="p">);</span>
<span class="linenos"> 88</span><span class="w">  </span><span class="c1">// Retrieve term representing &#39;b&#39;.</span>
<span class="linenos"> 89</span><span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_parser_parse_term</span><span class="p">(</span><span class="n">parser</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;b&quot;</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">error_msg</span><span class="p">);</span>
<span class="linenos"> 90</span><span class="w">  </span><span class="c1">// We expect no error to occur.</span>
<span class="linenos"> 91</span><span class="w">  </span><span class="n">assert</span><span class="p">(</span><span class="o">!</span><span class="n">error_msg</span><span class="p">);</span>
<span class="linenos"> 92</span><span class="w">  </span><span class="c1">// Retrieve term representing &#39;c&#39;.</span>
<span class="linenos"> 93</span><span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">c</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_parser_parse_term</span><span class="p">(</span><span class="n">parser</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;c&quot;</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">error_msg</span><span class="p">);</span>
<span class="linenos"> 94</span><span class="w">  </span><span class="c1">// We expect no error to occur.</span>
<span class="linenos"> 95</span><span class="w">  </span><span class="n">assert</span><span class="p">(</span><span class="o">!</span><span class="n">error_msg</span><span class="p">);</span>
<span class="linenos"> 96</span><span class="w">  </span><span class="c1">// Retrieve term representing &#39;d&#39;.</span>
<span class="linenos"> 97</span><span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">d</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_parser_parse_term</span><span class="p">(</span><span class="n">parser</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;d&quot;</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">error_msg</span><span class="p">);</span>
<span class="linenos"> 98</span><span class="w">  </span><span class="c1">// We expect no error to occur.</span>
<span class="linenos"> 99</span><span class="w">  </span><span class="n">assert</span><span class="p">(</span><span class="o">!</span><span class="n">error_msg</span><span class="p">);</span>
<span class="linenos">100</span><span class="w">  </span><span class="c1">// Create xor over &#39;a&#39; and &#39;c&#39; and show that it corresponds to term</span>
<span class="linenos">101</span><span class="w">  </span><span class="c1">// parsed in from its string representation &#39;(xor c d)&#39;.</span>
<span class="linenos">102</span><span class="w">  </span><span class="n">assert</span><span class="p">(</span><span class="n">bitwuzla_parser_parse_term</span><span class="p">(</span><span class="n">parser</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;(xor c d)&quot;</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">error_msg</span><span class="p">)</span>
<span class="linenos">103</span><span class="w">         </span><span class="o">==</span><span class="w"> </span><span class="n">bitwuzla_mk_term2</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span><span class="w"> </span><span class="n">BITWUZLA_KIND_XOR</span><span class="p">,</span><span class="w"> </span><span class="n">c</span><span class="p">,</span><span class="w"> </span><span class="n">d</span><span class="p">));</span>
<span class="linenos">104</span><span class="w">  </span><span class="c1">// Create bit-vector addition over &#39;b&#39; and bit-vector value</span>
<span class="linenos">105</span><span class="w">  </span><span class="c1">// &#39;1011111010001010&#39; and show that it corresponds to the term parsed in</span>
<span class="linenos">106</span><span class="w">  </span><span class="c1">// from its string representation &#39;(bvadd b #b1011111010001010)&#39;.</span>
<span class="linenos">107</span><span class="w">  </span><span class="n">assert</span><span class="p">(</span><span class="n">bitwuzla_parser_parse_term</span><span class="p">(</span>
<span class="linenos">108</span><span class="w">             </span><span class="n">parser</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;(bvadd b #b1011111010001010)&quot;</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">error_msg</span><span class="p">)</span>
<span class="linenos">109</span><span class="w">         </span><span class="o">==</span><span class="w"> </span><span class="n">bitwuzla_mk_term2</span><span class="p">(</span>
<span class="linenos">110</span><span class="w">             </span><span class="n">tm</span><span class="p">,</span>
<span class="linenos">111</span><span class="w">             </span><span class="n">BITWUZLA_KIND_BV_ADD</span><span class="p">,</span>
<span class="linenos">112</span><span class="w">             </span><span class="n">b</span><span class="p">,</span>
<span class="linenos">113</span><span class="w">             </span><span class="n">bitwuzla_mk_bv_value</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span><span class="w"> </span><span class="n">bv16</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;1011111010001010&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">)));</span>
<span class="linenos">114</span><span class="w">  </span><span class="c1">// Finally, delete Bitwuzla parser, options, and term manager instance.</span>
<span class="linenos">115</span><span class="w">  </span><span class="n">bitwuzla_parser_delete</span><span class="p">(</span><span class="n">parser</span><span class="p">);</span>
<span class="linenos">116</span><span class="w">  </span><span class="n">bitwuzla_options_delete</span><span class="p">(</span><span class="n">options</span><span class="p">);</span>
<span class="linenos">117</span><span class="w">  </span><span class="n">bitwuzla_term_manager_delete</span><span class="p">(</span><span class="n">tm</span><span class="p">);</span>
<span class="linenos">118</span>
<span class="linenos">119</span><span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">120</span><span class="p">}</span>
</pre></div>
</div>
</div><div aria-labelledby="tab-9-9-2" class="sphinx-tabs-panel" hidden="true" id="panel-9-9-2" name="9-2" role="tabpanel" tabindex="0"><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="c1">###</span>
<span class="linenos"> 2</span><span class="c1"># Bitwuzla: Satisfiability Modulo Theories (SMT) solver.</span>
<span class="linenos"> 3</span><span class="c1">#</span>
<span class="linenos"> 4</span><span class="c1"># Copyright (C) 2023 by the authors listed in the AUTHORS file at</span>
<span class="linenos"> 5</span><span class="c1"># https:#github.com/bitwuzla/bitwuzla/blob/main/AUTHORS</span>
<span class="linenos"> 6</span><span class="c1">#</span>
<span class="linenos"> 7</span><span class="c1"># This file is part of Bitwuzla under the MIT license. See COPYING for more</span>
<span class="linenos"> 8</span><span class="c1"># information at https:#github.com/bitwuzla/bitwuzla/blob/main/COPYING</span>
<span class="linenos"> 9</span><span class="c1">##</span>
<span class="linenos">10</span>
<span class="linenos">11</span><span class="kn">import</span><span class="w"> </span><span class="nn">sys</span>
<span class="linenos">12</span>
<span class="linenos">13</span><span class="kn">from</span><span class="w"> </span><span class="nn">bitwuzla</span><span class="w"> </span><span class="kn">import</span> <span class="o">*</span>
<span class="linenos">14</span>
<span class="linenos">15</span><span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
<span class="linenos">16</span>
<span class="linenos">17</span>    <span class="c1"># First, create a term manager instance.</span>
<span class="linenos">18</span>    <span class="n">tm</span> <span class="o">=</span> <span class="n">TermManager</span><span class="p">()</span>
<span class="linenos">19</span>    <span class="c1"># Create a Bitwuzla options instance.</span>
<span class="linenos">20</span>    <span class="n">options</span> <span class="o">=</span> <span class="n">Options</span><span class="p">()</span>
<span class="linenos">21</span>
<span class="linenos">22</span>    <span class="c1"># We will parse example file `smt2/quickstart.smt2`.</span>
<span class="linenos">23</span>    <span class="c1"># Create parser instance.</span>
<span class="linenos">24</span>    <span class="n">parser</span> <span class="o">=</span> <span class="n">Parser</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span> <span class="n">options</span><span class="p">)</span>
<span class="linenos">25</span>
<span class="linenos">26</span>    <span class="c1"># Now parse the input file.</span>
<span class="linenos">27</span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Expect: sat&#39;</span><span class="p">)</span>
<span class="linenos">28</span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Bitwuzla: &#39;</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
<span class="linenos">29</span>    <span class="n">sys</span><span class="o">.</span><span class="n">stdout</span><span class="o">.</span><span class="n">flush</span><span class="p">()</span>
<span class="linenos">30</span>    <span class="n">res</span> <span class="o">=</span> <span class="n">parser</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s2">&quot;../smt2/quickstart.smt2&quot;</span><span class="p">)</span>
<span class="linenos">31</span>    <span class="c1"># We expect no error to occur.</span>
<span class="linenos">32</span>    <span class="k">assert</span> <span class="ow">not</span> <span class="n">res</span>
<span class="linenos">33</span>
<span class="linenos">34</span>    <span class="c1"># Now we retrieve the set of asserted formulas and print them.</span>
<span class="linenos">35</span>    <span class="n">assertions</span> <span class="o">=</span> <span class="n">parser</span><span class="o">.</span><span class="n">bitwuzla</span><span class="p">()</span><span class="o">.</span><span class="n">get_assertions</span><span class="p">()</span>
<span class="linenos">36</span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Assertions:&#39;</span><span class="p">)</span>
<span class="linenos">37</span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;{&#39;</span><span class="p">)</span>
<span class="linenos">38</span>    <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">assertions</span><span class="p">:</span>
<span class="linenos">39</span>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39; </span><span class="si">{</span><span class="n">a</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="linenos">40</span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;}&#39;</span><span class="p">)</span>
<span class="linenos">41</span>
<span class="linenos">42</span>    <span class="c1"># Now we add an assertion via parsing from string.</span>
<span class="linenos">43</span>    <span class="n">parser</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s1">&#39;(assert (distinct (select a x) y))&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
<span class="linenos">44</span>    <span class="c1"># Now the formula is unsat.</span>
<span class="linenos">45</span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Expect: unsat&#39;</span><span class="p">)</span>
<span class="linenos">46</span>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Bitwuzla: </span><span class="si">{</span><span class="n">parser</span><span class="o">.</span><span class="n">bitwuzla</span><span class="p">()</span><span class="o">.</span><span class="n">check_sat</span><span class="p">()</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="linenos">47</span>
<span class="linenos">48</span>    <span class="c1"># For illustration purposes, we now parse in some declarations and terms </span>
<span class="linenos">49</span>    <span class="c1"># and sorts from string.</span>
<span class="linenos">50</span>
<span class="linenos">51</span>    <span class="c1"># Declare bit-vector sort of size 16.</span>
<span class="linenos">52</span>    <span class="n">bv16</span> <span class="o">=</span> <span class="n">parser</span><span class="o">.</span><span class="n">parse_sort</span><span class="p">(</span><span class="s1">&#39;(_ BitVec 16)&#39;</span><span class="p">)</span>
<span class="linenos">53</span>    <span class="c1"># Create bit-vector sort of size 16 and show that it corresponds to</span>
<span class="linenos">54</span>    <span class="c1"># its string representation &#39;(_ BitVec16)&#39;.</span>
<span class="linenos">55</span>    <span class="k">assert</span> <span class="n">bv16</span> <span class="o">==</span> <span class="n">tm</span><span class="o">.</span><span class="n">mk_bv_sort</span><span class="p">(</span><span class="mi">16</span><span class="p">)</span>
<span class="linenos">56</span>
<span class="linenos">57</span>    <span class="c1"># Declare Boolean constants &#39;c&#39; and &#39;d&#39;.</span>
<span class="linenos">58</span>    <span class="c1"># Note: Declarations are commands (not terms) in the SMT-LIB language.</span>
<span class="linenos">59</span>    <span class="c1">#       Commands must be parsed in via Parser.parse(),</span>
<span class="linenos">60</span>    <span class="c1">#       Parser::parse_term() only supports parsing SMT-LIB terms.</span>
<span class="linenos">61</span>    <span class="n">parser</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s2">&quot;(declare-const c Bool)(declare-const d Bool)&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
<span class="linenos">62</span>    <span class="c1"># Declare bit-vector constant &#39;b&#39;.</span>
<span class="linenos">63</span>    <span class="n">parser</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s1">&#39;(declare-const b (_ BitVec 16))&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
<span class="linenos">64</span>    <span class="c1"># Retrieve term representing &#39;b&#39;.</span>
<span class="linenos">65</span>    <span class="n">b</span> <span class="o">=</span> <span class="n">parser</span><span class="o">.</span><span class="n">parse_term</span><span class="p">(</span><span class="s1">&#39;b&#39;</span><span class="p">)</span>
<span class="linenos">66</span>    <span class="c1"># Retrieve term representing &#39;c&#39;.</span>
<span class="linenos">67</span>    <span class="n">c</span> <span class="o">=</span> <span class="n">parser</span><span class="o">.</span><span class="n">parse_term</span><span class="p">(</span><span class="s1">&#39;c&#39;</span><span class="p">)</span>
<span class="linenos">68</span>    <span class="c1"># Retrieve term representing &#39;d&#39;.</span>
<span class="linenos">69</span>    <span class="n">d</span> <span class="o">=</span> <span class="n">parser</span><span class="o">.</span><span class="n">parse_term</span><span class="p">(</span><span class="s1">&#39;d&#39;</span><span class="p">)</span>
<span class="linenos">70</span>    <span class="c1"># Create xor over &#39;c&#39; and &#39;d&#39; and show that it corresponds to term</span>
<span class="linenos">71</span>    <span class="c1"># parsed in from its string representation &#39;(xor c d)&#39;.</span>
<span class="linenos">72</span>    <span class="k">assert</span> <span class="n">parser</span><span class="o">.</span><span class="n">parse_term</span><span class="p">(</span><span class="s1">&#39;(xor c d)&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="n">tm</span><span class="o">.</span><span class="n">mk_term</span><span class="p">(</span><span class="n">Kind</span><span class="o">.</span><span class="n">XOR</span><span class="p">,</span> <span class="p">[</span><span class="n">c</span><span class="p">,</span> <span class="n">d</span><span class="p">])</span>
<span class="linenos">73</span>    <span class="c1"># Create bit-vector addition over &#39;b&#39; and bit-vector value</span>
<span class="linenos">74</span>    <span class="c1"># &#39;1011111010001010&#39; and show that it corresponds to the term parsed in</span>
<span class="linenos">75</span>    <span class="c1"># from its string representation &#39;(bvadd b #b1011111010001010)&#39;.</span>
<span class="linenos">76</span>    <span class="k">assert</span> <span class="n">parser</span><span class="o">.</span><span class="n">parse_term</span><span class="p">(</span><span class="s1">&#39;(bvadd b #b1011111010001010)&#39;</span><span class="p">)</span> \
<span class="linenos">77</span>           <span class="o">==</span> <span class="n">tm</span><span class="o">.</span><span class="n">mk_term</span><span class="p">(</span><span class="n">Kind</span><span class="o">.</span><span class="n">BV_ADD</span><span class="p">,</span>
<span class="linenos">78</span>                      <span class="p">[</span><span class="n">b</span><span class="p">,</span> <span class="n">tm</span><span class="o">.</span><span class="n">mk_bv_value</span><span class="p">(</span><span class="n">bv16</span><span class="p">,</span> <span class="s1">&#39;1011111010001010&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">)])</span>
</pre></div>
</div>
</div></div>
</section>
<section id="printing-example">
<h3><a class="toc-backref" href="#id16" role="doc-backlink">Printing Example</a><a class="headerlink" href="#printing-example" title="Link to this heading"></a></h3>
<div class="line-block">
<div class="line">This example shows how to print sorts, terms and formulas via the API.</div>
<div class="line">The source code for this example can be found at <a class="reference external" href="https://github.com/bitwuzla/bitwuzla/tree/main/examples/cpp/print.cpp">examples/cpp/print.cpp</a>.</div>
</div>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-10-10-0" aria-selected="true" class="sphinx-tabs-tab" id="tab-10-10-0" name="10-0" role="tab" tabindex="0">C++</button><button aria-controls="panel-10-10-1" aria-selected="false" class="sphinx-tabs-tab" id="tab-10-10-1" name="10-1" role="tab" tabindex="-1">C</button><button aria-controls="panel-10-10-2" aria-selected="false" class="sphinx-tabs-tab" id="tab-10-10-2" name="10-2" role="tab" tabindex="-1">Python</button></div><div aria-labelledby="tab-10-10-0" class="sphinx-tabs-panel" id="panel-10-10-0" name="10-0" role="tabpanel" tabindex="0"><div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="linenos">  1</span><span class="cm">/***</span>
<span class="linenos">  2</span><span class="cm"> * Bitwuzla: Satisfiability Modulo Theories (SMT) solver.</span>
<span class="linenos">  3</span><span class="cm"> *</span>
<span class="linenos">  4</span><span class="cm"> * Copyright (C) 2023 by the authors listed in the AUTHORS file at</span>
<span class="linenos">  5</span><span class="cm"> * https://github.com/bitwuzla/bitwuzla/blob/main/AUTHORS</span>
<span class="linenos">  6</span><span class="cm"> *</span>
<span class="linenos">  7</span><span class="cm"> * This file is part of Bitwuzla under the MIT license. See COPYING for more</span>
<span class="linenos">  8</span><span class="cm"> * information at https://github.com/bitwuzla/bitwuzla/blob/main/COPYING</span>
<span class="linenos">  9</span><span class="cm"> */</span>
<span class="linenos"> 10</span>
<span class="linenos"> 11</span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;bitwuzla/cpp/bitwuzla.h&gt;</span>
<span class="linenos"> 12</span>
<span class="linenos"> 13</span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;cassert&gt;</span>
<span class="linenos"> 14</span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;iomanip&gt;</span>
<span class="linenos"> 15</span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;iostream&gt;</span>
<span class="linenos"> 16</span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;sstream&gt;</span>
<span class="linenos"> 17</span>
<span class="linenos"> 18</span><span class="k">using</span><span class="w"> </span><span class="k">namespace</span><span class="w"> </span><span class="nn">bitwuzla</span><span class="p">;</span>
<span class="linenos"> 19</span>
<span class="linenos"> 20</span><span class="kt">int</span>
<span class="linenos"> 21</span><span class="nf">main</span><span class="p">()</span>
<span class="linenos"> 22</span><span class="p">{</span>
<span class="linenos"> 23</span><span class="w">  </span><span class="c1">// First, create a term manager instance.</span>
<span class="linenos"> 24</span><span class="w">  </span><span class="n">TermManager</span><span class="w"> </span><span class="n">tm</span><span class="p">;</span>
<span class="linenos"> 25</span><span class="w">  </span><span class="c1">// Create a Bitwuzla options instance.</span>
<span class="linenos"> 26</span><span class="w">  </span><span class="n">Options</span><span class="w"> </span><span class="n">options</span><span class="p">;</span>
<span class="linenos"> 27</span><span class="w">  </span><span class="n">options</span><span class="p">.</span><span class="n">set</span><span class="p">(</span><span class="n">Option</span><span class="o">::</span><span class="n">PRODUCE_MODELS</span><span class="p">,</span><span class="w"> </span><span class="nb">true</span><span class="p">);</span>
<span class="linenos"> 28</span><span class="w">  </span><span class="c1">// Then, create a Bitwuzla instance.</span>
<span class="linenos"> 29</span><span class="w">  </span><span class="n">Bitwuzla</span><span class="w"> </span><span class="n">bitwuzla</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span><span class="w"> </span><span class="n">options</span><span class="p">);</span>
<span class="linenos"> 30</span><span class="w">  </span><span class="c1">// Create some sorts.</span>
<span class="linenos"> 31</span><span class="w">  </span><span class="n">Sort</span><span class="w"> </span><span class="n">bv8</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="n">tm</span><span class="p">.</span><span class="n">mk_bv_sort</span><span class="p">(</span><span class="mi">8</span><span class="p">);</span>
<span class="linenos"> 32</span><span class="w">  </span><span class="n">Sort</span><span class="w"> </span><span class="n">bv32</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">tm</span><span class="p">.</span><span class="n">mk_bv_sort</span><span class="p">(</span><span class="mi">32</span><span class="p">);</span>
<span class="linenos"> 33</span><span class="w">  </span><span class="n">Sort</span><span class="w"> </span><span class="n">fp16</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">tm</span><span class="p">.</span><span class="n">mk_fp_sort</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">11</span><span class="p">);</span>
<span class="linenos"> 34</span><span class="w">  </span><span class="c1">// Create terms.</span>
<span class="linenos"> 35</span><span class="w">  </span><span class="n">Term</span><span class="w"> </span><span class="n">b</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="n">tm</span><span class="p">.</span><span class="n">mk_const</span><span class="p">(</span><span class="n">tm</span><span class="p">.</span><span class="n">mk_bool_sort</span><span class="p">(),</span><span class="w"> </span><span class="s">&quot;b&quot;</span><span class="p">);</span>
<span class="linenos"> 36</span><span class="w">  </span><span class="n">Term</span><span class="w"> </span><span class="n">bv</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="n">tm</span><span class="p">.</span><span class="n">mk_const</span><span class="p">(</span><span class="n">bv8</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;bv&quot;</span><span class="p">);</span>
<span class="linenos"> 37</span><span class="w">  </span><span class="n">Term</span><span class="w"> </span><span class="n">fp</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="n">tm</span><span class="p">.</span><span class="n">mk_const</span><span class="p">(</span><span class="n">fp16</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;fp&quot;</span><span class="p">);</span>
<span class="linenos"> 38</span><span class="w">  </span><span class="n">Term</span><span class="w"> </span><span class="n">rm</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="n">tm</span><span class="p">.</span><span class="n">mk_const</span><span class="p">(</span><span class="n">tm</span><span class="p">.</span><span class="n">mk_rm_sort</span><span class="p">(),</span><span class="w"> </span><span class="s">&quot;rm&quot;</span><span class="p">);</span>
<span class="linenos"> 39</span><span class="w">  </span><span class="n">Term</span><span class="w"> </span><span class="n">fun</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="n">tm</span><span class="p">.</span><span class="n">mk_const</span><span class="p">(</span><span class="n">tm</span><span class="p">.</span><span class="n">mk_fun_sort</span><span class="p">({</span><span class="n">bv8</span><span class="p">,</span><span class="w"> </span><span class="n">fp16</span><span class="p">,</span><span class="w"> </span><span class="n">bv32</span><span class="p">},</span><span class="w"> </span><span class="n">fp16</span><span class="p">),</span><span class="w"> </span><span class="s">&quot;fun&quot;</span><span class="p">);</span>
<span class="linenos"> 40</span><span class="w">  </span><span class="n">Term</span><span class="w"> </span><span class="n">zero</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">tm</span><span class="p">.</span><span class="n">mk_bv_zero</span><span class="p">(</span><span class="n">bv8</span><span class="p">);</span>
<span class="linenos"> 41</span><span class="w">  </span><span class="n">Term</span><span class="w"> </span><span class="n">ones</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">tm</span><span class="p">.</span><span class="n">mk_bv_ones</span><span class="p">(</span><span class="n">tm</span><span class="p">.</span><span class="n">mk_bv_sort</span><span class="p">(</span><span class="mi">23</span><span class="p">));</span>
<span class="linenos"> 42</span><span class="w">  </span><span class="n">Term</span><span class="w"> </span><span class="n">z</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="n">tm</span><span class="p">.</span><span class="n">mk_var</span><span class="p">(</span><span class="n">bv8</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;z&quot;</span><span class="p">);</span>
<span class="linenos"> 43</span><span class="w">  </span><span class="n">Term</span><span class="w"> </span><span class="n">q</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="n">tm</span><span class="p">.</span><span class="n">mk_var</span><span class="p">(</span><span class="n">bv8</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;q&quot;</span><span class="p">);</span>
<span class="linenos"> 44</span><span class="w">  </span><span class="n">Term</span><span class="w"> </span><span class="n">lambda</span><span class="w"> </span><span class="o">=</span>
<span class="linenos"> 45</span><span class="w">      </span><span class="n">tm</span><span class="p">.</span><span class="n">mk_term</span><span class="p">(</span><span class="n">Kind</span><span class="o">::</span><span class="n">LAMBDA</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="n">z</span><span class="p">,</span><span class="w"> </span><span class="n">tm</span><span class="p">.</span><span class="n">mk_term</span><span class="p">(</span><span class="n">Kind</span><span class="o">::</span><span class="n">BV_ADD</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="n">z</span><span class="p">,</span><span class="w"> </span><span class="n">bv</span><span class="p">})});</span>
<span class="linenos"> 46</span><span class="w">  </span><span class="n">Term</span><span class="w"> </span><span class="n">fpleq</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">tm</span><span class="p">.</span><span class="n">mk_term</span><span class="p">(</span>
<span class="linenos"> 47</span><span class="w">      </span><span class="n">Kind</span><span class="o">::</span><span class="n">FP_LEQ</span><span class="p">,</span>
<span class="linenos"> 48</span><span class="w">      </span><span class="p">{</span><span class="n">tm</span><span class="p">.</span><span class="n">mk_term</span><span class="p">(</span><span class="n">Kind</span><span class="o">::</span><span class="n">APPLY</span><span class="p">,</span>
<span class="linenos"> 49</span><span class="w">                  </span><span class="p">{</span><span class="n">fun</span><span class="p">,</span><span class="w"> </span><span class="n">bv</span><span class="p">,</span><span class="w"> </span><span class="n">fp</span><span class="p">,</span><span class="w"> </span><span class="n">tm</span><span class="p">.</span><span class="n">mk_term</span><span class="p">(</span><span class="n">Kind</span><span class="o">::</span><span class="n">BV_ZERO_EXTEND</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="n">ones</span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="mi">9</span><span class="p">})}),</span>
<span class="linenos"> 50</span><span class="w">       </span><span class="n">fp</span><span class="p">});</span>
<span class="linenos"> 51</span><span class="w">  </span><span class="n">Term</span><span class="w"> </span><span class="n">exists</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">tm</span><span class="p">.</span><span class="n">mk_term</span><span class="p">(</span>
<span class="linenos"> 52</span><span class="w">      </span><span class="n">Kind</span><span class="o">::</span><span class="n">EXISTS</span><span class="p">,</span>
<span class="linenos"> 53</span><span class="w">      </span><span class="p">{</span><span class="n">q</span><span class="p">,</span><span class="w"> </span><span class="n">tm</span><span class="p">.</span><span class="n">mk_term</span><span class="p">(</span><span class="n">Kind</span><span class="o">::</span><span class="n">EQUAL</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="n">zero</span><span class="p">,</span><span class="w"> </span><span class="n">tm</span><span class="p">.</span><span class="n">mk_term</span><span class="p">(</span><span class="n">Kind</span><span class="o">::</span><span class="n">BV_MUL</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="n">bv</span><span class="p">,</span><span class="w"> </span><span class="n">q</span><span class="p">})})});</span>
<span class="linenos"> 54</span><span class="w">  </span><span class="c1">// Assert formulas.</span>
<span class="linenos"> 55</span><span class="w">  </span><span class="n">bitwuzla</span><span class="p">.</span><span class="n">assert_formula</span><span class="p">(</span><span class="n">b</span><span class="p">);</span>
<span class="linenos"> 56</span><span class="w">  </span><span class="n">bitwuzla</span><span class="p">.</span><span class="n">assert_formula</span><span class="p">(</span>
<span class="linenos"> 57</span><span class="w">      </span><span class="n">tm</span><span class="p">.</span><span class="n">mk_term</span><span class="p">(</span><span class="n">Kind</span><span class="o">::</span><span class="n">EQUAL</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="n">tm</span><span class="p">.</span><span class="n">mk_term</span><span class="p">(</span><span class="n">Kind</span><span class="o">::</span><span class="n">APPLY</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="n">lambda</span><span class="p">,</span><span class="w"> </span><span class="n">bv</span><span class="p">}),</span><span class="w"> </span><span class="n">zero</span><span class="p">}));</span>
<span class="linenos"> 58</span><span class="w">  </span><span class="n">bitwuzla</span><span class="p">.</span><span class="n">assert_formula</span><span class="p">(</span><span class="n">exists</span><span class="p">);</span>
<span class="linenos"> 59</span><span class="w">  </span><span class="n">bitwuzla</span><span class="p">.</span><span class="n">assert_formula</span><span class="p">(</span><span class="n">fpleq</span><span class="p">);</span>
<span class="linenos"> 60</span>
<span class="linenos"> 61</span><span class="w">  </span><span class="c1">// Print sort.</span>
<span class="linenos"> 62</span><span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Print bit-vector sort of size 32:&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="linenos"> 63</span><span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;---------------------------------&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="linenos"> 64</span><span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;operator&lt;&lt;: &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">bv32</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="linenos"> 65</span><span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;str():      &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">bv32</span><span class="p">.</span><span class="n">str</span><span class="p">()</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="linenos"> 66</span>
<span class="linenos"> 67</span><span class="w">  </span><span class="c1">// Print terms.</span>
<span class="linenos"> 68</span><span class="w">  </span><span class="c1">// Note: Hexadecimal bv output format is ignored if the value is not of size</span>
<span class="linenos"> 69</span><span class="w">  </span><span class="c1">//       divisible by 4.</span>
<span class="linenos"> 70</span><span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Print term:&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="linenos"> 71</span><span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;-----------&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="linenos"> 72</span><span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;operator&lt;&lt;:                 &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">rm</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="linenos"> 73</span><span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;operator&lt;&lt; [dec (ignored)]: &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">set_bv_format</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">rm</span>
<span class="linenos"> 74</span><span class="w">            </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="linenos"> 75</span><span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;str()      [bin]:           &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">rm</span><span class="p">.</span><span class="n">str</span><span class="p">()</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="linenos"> 76</span><span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;str(16)    [hex (ignored)]: &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">rm</span><span class="p">.</span><span class="n">str</span><span class="p">(</span><span class="mi">16</span><span class="p">)</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span>
<span class="linenos"> 77</span><span class="w">            </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="linenos"> 78</span><span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;operator&lt;&lt; [bin]: &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">set_bv_format</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">zero</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="linenos"> 79</span><span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;operator&lt;&lt; [dec]: &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">set_bv_format</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">zero</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="linenos"> 80</span><span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;operator&lt;&lt; [hex]: &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">set_bv_format</span><span class="p">(</span><span class="mi">16</span><span class="p">)</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">zero</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="linenos"> 81</span><span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;str()      [bin]: &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">zero</span><span class="p">.</span><span class="n">str</span><span class="p">()</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="linenos"> 82</span><span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;str(10)    [dec]: &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">zero</span><span class="p">.</span><span class="n">str</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="linenos"> 83</span><span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;str(16)    [hex]: &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">zero</span><span class="p">.</span><span class="n">str</span><span class="p">(</span><span class="mi">16</span><span class="p">)</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="linenos"> 84</span><span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;operator&lt;&lt; [bin]:           &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">set_bv_format</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">fpleq</span>
<span class="linenos"> 85</span><span class="w">            </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="linenos"> 86</span><span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;operator&lt;&lt; [dec]:           &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">set_bv_format</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">fpleq</span>
<span class="linenos"> 87</span><span class="w">            </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="linenos"> 88</span><span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;operator&lt;&lt; [hex (ignored)]: &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">set_bv_format</span><span class="p">(</span><span class="mi">16</span><span class="p">)</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">fpleq</span>
<span class="linenos"> 89</span><span class="w">            </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="linenos"> 90</span><span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;str()      [bin]:           &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">fpleq</span><span class="p">.</span><span class="n">str</span><span class="p">()</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="linenos"> 91</span><span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;str(10)    [dec]:           &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">fpleq</span><span class="p">.</span><span class="n">str</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="linenos"> 92</span><span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;str(16)    [hex (ignored)]: &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">fpleq</span><span class="p">.</span><span class="n">str</span><span class="p">(</span><span class="mi">16</span><span class="p">)</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span>
<span class="linenos"> 93</span><span class="w">            </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="linenos"> 94</span>
<span class="linenos"> 95</span><span class="w">  </span><span class="c1">// Print asserted formulas.</span>
<span class="linenos"> 96</span><span class="w">  </span><span class="c1">// Note: This uses the default bit-vector output format (binary).</span>
<span class="linenos"> 97</span><span class="w">  </span><span class="p">{</span>
<span class="linenos"> 98</span><span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">stringstream</span><span class="w"> </span><span class="n">expected_smt2</span><span class="p">;</span>
<span class="linenos"> 99</span><span class="w">    </span><span class="n">expected_smt2</span>
<span class="linenos">100</span><span class="w">        </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;(set-logic UFBVFP)&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span>
<span class="linenos">101</span><span class="w">        </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;(declare-const b Bool)&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span>
<span class="linenos">102</span><span class="w">        </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;(declare-const bv (_ BitVec 8))&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span>
<span class="linenos">103</span><span class="w">        </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;(declare-const fp (_ FloatingPoint 5 11))&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span>
<span class="linenos">104</span><span class="w">        </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;(declare-fun fun ((_ BitVec 8) (_ FloatingPoint 5 11) (_ BitVec &quot;</span>
<span class="linenos">105</span><span class="w">           </span><span class="s">&quot;32)) (_ FloatingPoint 5 11))&quot;</span>
<span class="linenos">106</span><span class="w">        </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span>
<span class="linenos">107</span><span class="w">        </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;(assert b)&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span>
<span class="linenos">108</span><span class="w">        </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;(assert (= ((lambda ((z (_ BitVec 8))) (bvadd z bv)) bv) &quot;</span>
<span class="linenos">109</span><span class="w">           </span><span class="s">&quot;#b00000000))&quot;</span>
<span class="linenos">110</span><span class="w">        </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span>
<span class="linenos">111</span><span class="w">        </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;(assert (exists ((q (_ BitVec 8))) (= #b00000000 (bvmul bv q))))&quot;</span>
<span class="linenos">112</span><span class="w">        </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span>
<span class="linenos">113</span><span class="w">        </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;(assert (fp.leq (fun bv fp ((_ zero_extend 9) &quot;</span>
<span class="linenos">114</span><span class="w">           </span><span class="s">&quot;#b11111111111111111111111)) fp))&quot;</span>
<span class="linenos">115</span><span class="w">        </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span>
<span class="linenos">116</span><span class="w">        </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;(check-sat)&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span>
<span class="linenos">117</span><span class="w">        </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;(exit)&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="linenos">118</span><span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">stringstream</span><span class="w"> </span><span class="n">ss</span><span class="p">;</span>
<span class="linenos">119</span><span class="w">    </span><span class="n">bitwuzla</span><span class="p">.</span><span class="n">print_formula</span><span class="p">(</span><span class="n">ss</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;smt2&quot;</span><span class="p">);</span>
<span class="linenos">120</span><span class="w">    </span><span class="n">assert</span><span class="p">(</span><span class="n">ss</span><span class="p">.</span><span class="n">str</span><span class="p">()</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">expected_smt2</span><span class="p">.</span><span class="n">str</span><span class="p">());</span>
<span class="linenos">121</span><span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Print formula [default (binary) bv output format]:&quot;</span>
<span class="linenos">122</span><span class="w">              </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="linenos">123</span><span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;--------------------------------------------------&quot;</span>
<span class="linenos">124</span><span class="w">              </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="linenos">125</span><span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">ss</span><span class="p">.</span><span class="n">str</span><span class="p">()</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="linenos">126</span><span class="w">  </span><span class="p">}</span>
<span class="linenos">127</span>
<span class="linenos">128</span><span class="w">  </span><span class="c1">// Print asserted formulas using hexadecimal bit-vector output format.</span>
<span class="linenos">129</span><span class="w">  </span><span class="p">{</span>
<span class="linenos">130</span><span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">stringstream</span><span class="w"> </span><span class="n">expected_smt2</span><span class="p">;</span>
<span class="linenos">131</span><span class="w">    </span><span class="n">expected_smt2</span>
<span class="linenos">132</span><span class="w">        </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;(set-logic UFBVFP)&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span>
<span class="linenos">133</span><span class="w">        </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;(declare-const b Bool)&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span>
<span class="linenos">134</span><span class="w">        </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;(declare-const bv (_ BitVec 8))&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span>
<span class="linenos">135</span><span class="w">        </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;(declare-const fp (_ FloatingPoint 5 11))&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span>
<span class="linenos">136</span><span class="w">        </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;(declare-fun fun ((_ BitVec 8) (_ FloatingPoint 5 11) (_ BitVec &quot;</span>
<span class="linenos">137</span><span class="w">           </span><span class="s">&quot;32)) (_ FloatingPoint 5 11))&quot;</span>
<span class="linenos">138</span><span class="w">        </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span>
<span class="linenos">139</span><span class="w">        </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;(assert b)&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span>
<span class="linenos">140</span><span class="w">        </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;(assert (= ((lambda ((z (_ BitVec 8))) (bvadd z bv)) bv) &quot;</span>
<span class="linenos">141</span><span class="w">           </span><span class="s">&quot;#x00))&quot;</span>
<span class="linenos">142</span><span class="w">        </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span>
<span class="linenos">143</span><span class="w">        </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;(assert (exists ((q (_ BitVec 8))) (= #x00 (bvmul bv q))))&quot;</span>
<span class="linenos">144</span><span class="w">        </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span>
<span class="linenos">145</span><span class="w">        </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;(assert (fp.leq (fun bv fp ((_ zero_extend 9) &quot;</span>
<span class="linenos">146</span><span class="w">           </span><span class="s">&quot;#b11111111111111111111111)) fp))&quot;</span>
<span class="linenos">147</span><span class="w">        </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span>
<span class="linenos">148</span><span class="w">        </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;(check-sat)&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span>
<span class="linenos">149</span><span class="w">        </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;(exit)&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="linenos">150</span><span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">stringstream</span><span class="w"> </span><span class="n">ss</span><span class="p">;</span>
<span class="linenos">151</span><span class="w">    </span><span class="c1">// configure output stream with hexadecimal bv output format</span>
<span class="linenos">152</span><span class="w">    </span><span class="n">ss</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">set_bv_format</span><span class="p">(</span><span class="mi">16</span><span class="p">);</span>
<span class="linenos">153</span><span class="w">    </span><span class="n">bitwuzla</span><span class="p">.</span><span class="n">print_formula</span><span class="p">(</span><span class="n">ss</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;smt2&quot;</span><span class="p">);</span>
<span class="linenos">154</span><span class="w">    </span><span class="n">assert</span><span class="p">(</span><span class="n">ss</span><span class="p">.</span><span class="n">str</span><span class="p">()</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">expected_smt2</span><span class="p">.</span><span class="n">str</span><span class="p">());</span>
<span class="linenos">155</span><span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Print formula [hexadecimal bv output format]:&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="linenos">156</span><span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;---------------------------------------------&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="linenos">157</span><span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">ss</span><span class="p">.</span><span class="n">str</span><span class="p">()</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="linenos">158</span><span class="w">  </span><span class="p">}</span>
<span class="linenos">159</span>
<span class="linenos">160</span><span class="w">  </span><span class="c1">// Print asserted formulas using decimal bit-vector output format.</span>
<span class="linenos">161</span><span class="w">  </span><span class="p">{</span>
<span class="linenos">162</span><span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">stringstream</span><span class="w"> </span><span class="n">expected_smt2</span><span class="p">;</span>
<span class="linenos">163</span><span class="w">    </span><span class="n">expected_smt2</span>
<span class="linenos">164</span><span class="w">        </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;(set-logic UFBVFP)&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span>
<span class="linenos">165</span><span class="w">        </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;(declare-const b Bool)&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span>
<span class="linenos">166</span><span class="w">        </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;(declare-const bv (_ BitVec 8))&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span>
<span class="linenos">167</span><span class="w">        </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;(declare-const fp (_ FloatingPoint 5 11))&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span>
<span class="linenos">168</span><span class="w">        </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;(declare-fun fun ((_ BitVec 8) (_ FloatingPoint 5 11) (_ BitVec &quot;</span>
<span class="linenos">169</span><span class="w">           </span><span class="s">&quot;32)) (_ FloatingPoint 5 11))&quot;</span>
<span class="linenos">170</span><span class="w">        </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span>
<span class="linenos">171</span><span class="w">        </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;(assert b)&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span>
<span class="linenos">172</span><span class="w">        </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;(assert (= ((lambda ((z (_ BitVec 8))) (bvadd z bv)) bv) &quot;</span>
<span class="linenos">173</span><span class="w">           </span><span class="s">&quot;(_ bv0 8)))&quot;</span>
<span class="linenos">174</span><span class="w">        </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span>
<span class="linenos">175</span><span class="w">        </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;(assert (exists ((q (_ BitVec 8))) (= (_ bv0 8) (bvmul bv q))))&quot;</span>
<span class="linenos">176</span><span class="w">        </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span>
<span class="linenos">177</span><span class="w">        </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;(assert (fp.leq (fun bv fp ((_ zero_extend 9) &quot;</span>
<span class="linenos">178</span><span class="w">           </span><span class="s">&quot;(_ bv8388607 23))) fp))&quot;</span>
<span class="linenos">179</span><span class="w">        </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span>
<span class="linenos">180</span><span class="w">        </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;(check-sat)&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span>
<span class="linenos">181</span><span class="w">        </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;(exit)&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="linenos">182</span><span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">stringstream</span><span class="w"> </span><span class="n">ss</span><span class="p">;</span>
<span class="linenos">183</span><span class="w">    </span><span class="c1">// configure output stream with decimal bv output format</span>
<span class="linenos">184</span><span class="w">    </span><span class="n">ss</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">set_bv_format</span><span class="p">(</span><span class="mi">10</span><span class="p">);</span>
<span class="linenos">185</span><span class="w">    </span><span class="n">bitwuzla</span><span class="p">.</span><span class="n">print_formula</span><span class="p">(</span><span class="n">ss</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;smt2&quot;</span><span class="p">);</span>
<span class="linenos">186</span><span class="w">    </span><span class="n">assert</span><span class="p">(</span><span class="n">ss</span><span class="p">.</span><span class="n">str</span><span class="p">()</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">expected_smt2</span><span class="p">.</span><span class="n">str</span><span class="p">());</span>
<span class="linenos">187</span><span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Print formula [decimal bv output format]:&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="linenos">188</span><span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;---------------------------------------------&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="linenos">189</span><span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">ss</span><span class="p">.</span><span class="n">str</span><span class="p">()</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="linenos">190</span><span class="w">  </span><span class="p">}</span>
<span class="linenos">191</span>
<span class="linenos">192</span><span class="w">  </span><span class="n">bitwuzla</span><span class="p">.</span><span class="n">check_sat</span><span class="p">();</span>
<span class="linenos">193</span>
<span class="linenos">194</span><span class="w">  </span><span class="c1">// Print values.</span>
<span class="linenos">195</span><span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Print value of Boolean predicate:&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span>
<span class="linenos">196</span><span class="w">            </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;---------------------------------&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="linenos">197</span><span class="w">  </span><span class="kt">bool</span><span class="w"> </span><span class="n">fpleq_val</span><span class="w">            </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla</span><span class="p">.</span><span class="n">get_value</span><span class="p">(</span><span class="n">fpleq</span><span class="p">).</span><span class="n">value</span><span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;</span><span class="p">();</span>
<span class="linenos">198</span><span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="w"> </span><span class="n">fpleq_val_str</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla</span><span class="p">.</span><span class="n">get_value</span><span class="p">(</span><span class="n">fpleq</span><span class="p">).</span><span class="n">value</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&gt;</span><span class="p">();</span>
<span class="linenos">199</span><span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">fpleq</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;: &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">setw</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">fpleq_val</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot; [bool]&quot;</span>
<span class="linenos">200</span><span class="w">            </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span>
<span class="linenos">201</span><span class="w">            </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">fpleq</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;: &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">setw</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">fpleq_val_str</span>
<span class="linenos">202</span><span class="w">            </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot; [std::string]&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span>
<span class="linenos">203</span><span class="w">            </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="linenos">204</span>
<span class="linenos">205</span><span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Print value of bv const:&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span>
<span class="linenos">206</span><span class="w">            </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;------------------------&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="linenos">207</span><span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">bv</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;: &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">setw</span><span class="p">(</span><span class="mi">8</span><span class="p">)</span>
<span class="linenos">208</span><span class="w">            </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">bitwuzla</span><span class="p">.</span><span class="n">get_value</span><span class="p">(</span><span class="n">bv</span><span class="p">).</span><span class="n">value</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&gt;</span><span class="p">()</span>
<span class="linenos">209</span><span class="w">            </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot; [std::string] (bin)&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="linenos">210</span><span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">bv</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;: &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">setw</span><span class="p">(</span><span class="mi">8</span><span class="p">)</span>
<span class="linenos">211</span><span class="w">            </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">bitwuzla</span><span class="p">.</span><span class="n">get_value</span><span class="p">(</span><span class="n">bv</span><span class="p">).</span><span class="n">value</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&gt;</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="linenos">212</span><span class="w">            </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot; [std::string] (dec)&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="linenos">213</span><span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">bv</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;: &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">setw</span><span class="p">(</span><span class="mi">8</span><span class="p">)</span>
<span class="linenos">214</span><span class="w">            </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">bitwuzla</span><span class="p">.</span><span class="n">get_value</span><span class="p">(</span><span class="n">bv</span><span class="p">).</span><span class="n">value</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&gt;</span><span class="p">(</span><span class="mi">16</span><span class="p">)</span>
<span class="linenos">215</span><span class="w">            </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot; [std::string] (dec)&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span>
<span class="linenos">216</span><span class="w">            </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="linenos">217</span>
<span class="linenos">218</span><span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Print value of RoundingMode const:&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span>
<span class="linenos">219</span><span class="w">            </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;----------------------------------&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="linenos">220</span><span class="w">  </span><span class="n">RoundingMode</span><span class="w"> </span><span class="n">rm_val</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla</span><span class="p">.</span><span class="n">get_value</span><span class="p">(</span><span class="n">rm</span><span class="p">).</span><span class="n">value</span><span class="o">&lt;</span><span class="n">RoundingMode</span><span class="o">&gt;</span><span class="p">();</span>
<span class="linenos">221</span><span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="w"> </span><span class="n">rm_val_str</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla</span><span class="p">.</span><span class="n">get_value</span><span class="p">(</span><span class="n">rm</span><span class="p">).</span><span class="n">value</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&gt;</span><span class="p">();</span>
<span class="linenos">222</span><span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">rm</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;: &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">rm_val</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot; [RoundingMode]&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span>
<span class="linenos">223</span><span class="w">            </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">rm</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;: &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">rm_val_str</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot; [std::string]&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span>
<span class="linenos">224</span><span class="w">            </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="linenos">225</span>
<span class="linenos">226</span><span class="w">  </span><span class="n">Term</span><span class="w"> </span><span class="n">fp_val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla</span><span class="p">.</span><span class="n">get_value</span><span class="p">(</span><span class="n">fp</span><span class="p">);</span>
<span class="linenos">227</span>
<span class="linenos">228</span><span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Print value of fp const as std::string (base ignored):&quot;</span>
<span class="linenos">229</span><span class="w">            </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span>
<span class="linenos">230</span><span class="w">            </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;------------------------------------------------------&quot;</span>
<span class="linenos">231</span><span class="w">            </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="linenos">232</span><span class="w">  </span><span class="n">assert</span><span class="p">(</span><span class="n">fp_val</span><span class="p">.</span><span class="n">value</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&gt;</span><span class="p">()</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">fp_val</span><span class="p">.</span><span class="n">value</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&gt;</span><span class="p">(</span><span class="mi">10</span><span class="p">));</span>
<span class="linenos">233</span><span class="w">  </span><span class="n">assert</span><span class="p">(</span><span class="n">fp_val</span><span class="p">.</span><span class="n">value</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&gt;</span><span class="p">()</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">fp_val</span><span class="p">.</span><span class="n">value</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&gt;</span><span class="p">(</span><span class="mi">16</span><span class="p">));</span>
<span class="linenos">234</span><span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">fp</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;: &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">setw</span><span class="p">(</span><span class="mi">16</span><span class="p">)</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">fp_val</span><span class="p">.</span><span class="n">value</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&gt;</span><span class="p">()</span>
<span class="linenos">235</span><span class="w">            </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot; [std::string] (bin)&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="linenos">236</span><span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">fp</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;: &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">setw</span><span class="p">(</span><span class="mi">16</span><span class="p">)</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">fp_val</span><span class="p">.</span><span class="n">value</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&gt;</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="linenos">237</span><span class="w">            </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot; [std::string] (dec [ignored])&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="linenos">238</span><span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">fp</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;: &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">setw</span><span class="p">(</span><span class="mi">16</span><span class="p">)</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">fp_val</span><span class="p">.</span><span class="n">value</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&gt;</span><span class="p">(</span><span class="mi">16</span><span class="p">)</span>
<span class="linenos">239</span><span class="w">            </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot; [std::string] (hex [ignored])&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span>
<span class="linenos">240</span><span class="w">            </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="linenos">241</span>
<span class="linenos">242</span><span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Print value of fp const as tuple of std::string:&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span>
<span class="linenos">243</span><span class="w">            </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;------------------------------------------------&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="linenos">244</span><span class="w">  </span><span class="k">auto</span><span class="w"> </span><span class="n">fp_val_tup</span><span class="w"> </span><span class="o">=</span>
<span class="linenos">245</span><span class="w">      </span><span class="n">fp_val</span><span class="p">.</span><span class="n">value</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">tuple</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="p">,</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="p">,</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&gt;&gt;</span><span class="p">();</span>
<span class="linenos">246</span><span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">fp</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;: (&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">get</span><span class="o">&lt;</span><span class="mi">0</span><span class="o">&gt;</span><span class="p">(</span><span class="n">fp_val_tup</span><span class="p">)</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;, &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">setw</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="linenos">247</span><span class="w">            </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">get</span><span class="o">&lt;</span><span class="mi">1</span><span class="o">&gt;</span><span class="p">(</span><span class="n">fp_val_tup</span><span class="p">)</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;, &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">setw</span><span class="p">(</span><span class="mi">11</span><span class="p">)</span>
<span class="linenos">248</span><span class="w">            </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">get</span><span class="o">&lt;</span><span class="mi">2</span><span class="o">&gt;</span><span class="p">(</span><span class="n">fp_val_tup</span><span class="p">)</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;)&quot;</span>
<span class="linenos">249</span><span class="w">            </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot; [std::tuple&lt;std::string, std::string, std::string&gt;] (bin)&quot;</span>
<span class="linenos">250</span><span class="w">            </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="linenos">251</span><span class="w">  </span><span class="n">fp_val_tup</span><span class="w"> </span><span class="o">=</span>
<span class="linenos">252</span><span class="w">      </span><span class="n">fp_val</span><span class="p">.</span><span class="n">value</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">tuple</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="p">,</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="p">,</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&gt;&gt;</span><span class="p">(</span><span class="mi">10</span><span class="p">);</span>
<span class="linenos">253</span><span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">fp</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;: (&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">get</span><span class="o">&lt;</span><span class="mi">0</span><span class="o">&gt;</span><span class="p">(</span><span class="n">fp_val_tup</span><span class="p">)</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;, &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">setw</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="linenos">254</span><span class="w">            </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">get</span><span class="o">&lt;</span><span class="mi">1</span><span class="o">&gt;</span><span class="p">(</span><span class="n">fp_val_tup</span><span class="p">)</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;, &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">setw</span><span class="p">(</span><span class="mi">11</span><span class="p">)</span>
<span class="linenos">255</span><span class="w">            </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">get</span><span class="o">&lt;</span><span class="mi">2</span><span class="o">&gt;</span><span class="p">(</span><span class="n">fp_val_tup</span><span class="p">)</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;)&quot;</span>
<span class="linenos">256</span><span class="w">            </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot; [std::tuple&lt;std::string, std::string, std::string&gt;] (dec)&quot;</span>
<span class="linenos">257</span><span class="w">            </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="linenos">258</span><span class="w">  </span><span class="n">fp_val_tup</span><span class="w"> </span><span class="o">=</span>
<span class="linenos">259</span><span class="w">      </span><span class="n">fp_val</span><span class="p">.</span><span class="n">value</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">tuple</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="p">,</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="p">,</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&gt;&gt;</span><span class="p">(</span><span class="mi">16</span><span class="p">);</span>
<span class="linenos">260</span><span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">fp</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;: (&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">get</span><span class="o">&lt;</span><span class="mi">0</span><span class="o">&gt;</span><span class="p">(</span><span class="n">fp_val_tup</span><span class="p">)</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;, &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">setw</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="linenos">261</span><span class="w">            </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">get</span><span class="o">&lt;</span><span class="mi">1</span><span class="o">&gt;</span><span class="p">(</span><span class="n">fp_val_tup</span><span class="p">)</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;, &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">setw</span><span class="p">(</span><span class="mi">11</span><span class="p">)</span>
<span class="linenos">262</span><span class="w">            </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">get</span><span class="o">&lt;</span><span class="mi">2</span><span class="o">&gt;</span><span class="p">(</span><span class="n">fp_val_tup</span><span class="p">)</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;)&quot;</span>
<span class="linenos">263</span><span class="w">            </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot; [std::tuple&lt;std::string, std::string, std::string&gt;] (hex)&quot;</span>
<span class="linenos">264</span><span class="w">            </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="linenos">265</span>
<span class="linenos">266</span><span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">267</span><span class="p">}</span>
</pre></div>
</div>
</div><div aria-labelledby="tab-10-10-1" class="sphinx-tabs-panel" hidden="true" id="panel-10-10-1" name="10-1" role="tabpanel" tabindex="0"><div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="linenos">  1</span><span class="cm">/***</span>
<span class="linenos">  2</span><span class="cm"> * Bitwuzla: Satisfiability Modulo Theories (SMT) solver.</span>
<span class="linenos">  3</span><span class="cm"> *</span>
<span class="linenos">  4</span><span class="cm"> * Copyright (C) 2023 by the authors listed in the AUTHORS file at</span>
<span class="linenos">  5</span><span class="cm"> * https://github.com/bitwuzla/bitwuzla/blob/main/AUTHORS</span>
<span class="linenos">  6</span><span class="cm"> *</span>
<span class="linenos">  7</span><span class="cm"> * This file is part of Bitwuzla under the MIT license. See COPYING for more</span>
<span class="linenos">  8</span><span class="cm"> * information at https://github.com/bitwuzla/bitwuzla/blob/main/COPYING</span>
<span class="linenos">  9</span><span class="cm"> */</span>
<span class="linenos"> 10</span>
<span class="linenos"> 11</span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;assert.h&gt;</span>
<span class="linenos"> 12</span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;bitwuzla/c/bitwuzla.h&gt;</span>
<span class="linenos"> 13</span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;stdio.h&gt;</span>
<span class="linenos"> 14</span>
<span class="linenos"> 15</span><span class="kt">int</span>
<span class="linenos"> 16</span><span class="nf">main</span><span class="p">()</span>
<span class="linenos"> 17</span><span class="p">{</span>
<span class="linenos"> 18</span><span class="w">  </span><span class="c1">// First, create a term manager instance.</span>
<span class="linenos"> 19</span><span class="w">  </span><span class="n">BitwuzlaTermManager</span><span class="o">*</span><span class="w"> </span><span class="n">tm</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_term_manager_new</span><span class="p">();</span>
<span class="linenos"> 20</span><span class="w">  </span><span class="c1">// Create a Bitwuzla options instance.</span>
<span class="linenos"> 21</span><span class="w">  </span><span class="n">BitwuzlaOptions</span><span class="o">*</span><span class="w"> </span><span class="n">options</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_options_new</span><span class="p">();</span>
<span class="linenos"> 22</span><span class="w">  </span><span class="n">bitwuzla_set_option</span><span class="p">(</span><span class="n">options</span><span class="p">,</span><span class="w"> </span><span class="n">BITWUZLA_OPT_PRODUCE_MODELS</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span>
<span class="linenos"> 23</span><span class="w">  </span><span class="c1">// Then, create a Bitwuzla instance.</span>
<span class="linenos"> 24</span><span class="w">  </span><span class="n">Bitwuzla</span><span class="o">*</span><span class="w"> </span><span class="n">bitwuzla</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_new</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span><span class="w"> </span><span class="n">options</span><span class="p">);</span>
<span class="linenos"> 25</span><span class="w">  </span><span class="c1">// Create some sorts.</span>
<span class="linenos"> 26</span><span class="w">  </span><span class="n">BitwuzlaSort</span><span class="w"> </span><span class="n">bv8</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_bv_sort</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span><span class="w"> </span><span class="mi">8</span><span class="p">);</span>
<span class="linenos"> 27</span><span class="w">  </span><span class="n">BitwuzlaSort</span><span class="w"> </span><span class="n">bv32</span><span class="w">          </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_bv_sort</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span><span class="w"> </span><span class="mi">32</span><span class="p">);</span>
<span class="linenos"> 28</span><span class="w">  </span><span class="n">BitwuzlaSort</span><span class="w"> </span><span class="n">fp16</span><span class="w">          </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_fp_sort</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">11</span><span class="p">);</span>
<span class="linenos"> 29</span><span class="w">  </span><span class="n">BitwuzlaSort</span><span class="w"> </span><span class="n">fun_domain</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="n">bv8</span><span class="p">,</span><span class="w"> </span><span class="n">fp16</span><span class="p">,</span><span class="w"> </span><span class="n">bv32</span><span class="p">};</span>
<span class="linenos"> 30</span><span class="w">  </span><span class="n">BitwuzlaSort</span><span class="w"> </span><span class="n">fun_sort</span><span class="w">      </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_fun_sort</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="n">fun_domain</span><span class="p">,</span><span class="w"> </span><span class="n">fp16</span><span class="p">);</span>
<span class="linenos"> 31</span><span class="w">  </span><span class="c1">// Create terms.</span>
<span class="linenos"> 32</span><span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">b</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_const</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span><span class="w"> </span><span class="n">bitwuzla_mk_bool_sort</span><span class="p">(</span><span class="n">tm</span><span class="p">),</span><span class="w"> </span><span class="s">&quot;b&quot;</span><span class="p">);</span>
<span class="linenos"> 33</span><span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">bv</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_const</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span><span class="w"> </span><span class="n">bv8</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;bv&quot;</span><span class="p">);</span>
<span class="linenos"> 34</span><span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">fp</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_const</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span><span class="w"> </span><span class="n">fp16</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;fp&quot;</span><span class="p">);</span>
<span class="linenos"> 35</span><span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">rm</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_const</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span><span class="w"> </span><span class="n">bitwuzla_mk_rm_sort</span><span class="p">(</span><span class="n">tm</span><span class="p">),</span><span class="w"> </span><span class="s">&quot;rm&quot;</span><span class="p">);</span>
<span class="linenos"> 36</span><span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">fun</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_const</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span><span class="w"> </span><span class="n">fun_sort</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;fun&quot;</span><span class="p">);</span>
<span class="linenos"> 37</span><span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">zero</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_bv_zero</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span><span class="w"> </span><span class="n">bv8</span><span class="p">);</span>
<span class="linenos"> 38</span><span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">ones</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_bv_ones</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span><span class="w"> </span><span class="n">bitwuzla_mk_bv_sort</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span><span class="w"> </span><span class="mi">23</span><span class="p">));</span>
<span class="linenos"> 39</span><span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">z</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_var</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span><span class="w"> </span><span class="n">bv8</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;z&quot;</span><span class="p">);</span>
<span class="linenos"> 40</span><span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">q</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_var</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span><span class="w"> </span><span class="n">bv8</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;q&quot;</span><span class="p">);</span>
<span class="linenos"> 41</span><span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">lambda</span><span class="w"> </span><span class="o">=</span>
<span class="linenos"> 42</span><span class="w">      </span><span class="n">bitwuzla_mk_term2</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span>
<span class="linenos"> 43</span><span class="w">                        </span><span class="n">BITWUZLA_KIND_LAMBDA</span><span class="p">,</span>
<span class="linenos"> 44</span><span class="w">                        </span><span class="n">z</span><span class="p">,</span>
<span class="linenos"> 45</span><span class="w">                        </span><span class="n">bitwuzla_mk_term2</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span><span class="w"> </span><span class="n">BITWUZLA_KIND_BV_ADD</span><span class="p">,</span><span class="w"> </span><span class="n">z</span><span class="p">,</span><span class="w"> </span><span class="n">bv</span><span class="p">));</span>
<span class="linenos"> 46</span><span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">args</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 47</span><span class="w">      </span><span class="n">fun</span><span class="p">,</span>
<span class="linenos"> 48</span><span class="w">      </span><span class="n">bv</span><span class="p">,</span>
<span class="linenos"> 49</span><span class="w">      </span><span class="n">fp</span><span class="p">,</span>
<span class="linenos"> 50</span><span class="w">      </span><span class="n">bitwuzla_mk_term1_indexed1</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span><span class="w"> </span><span class="n">BITWUZLA_KIND_BV_ZERO_EXTEND</span><span class="p">,</span><span class="w"> </span><span class="n">ones</span><span class="p">,</span><span class="w"> </span><span class="mi">9</span><span class="p">)};</span>
<span class="linenos"> 51</span><span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">fpleq</span><span class="w"> </span><span class="o">=</span>
<span class="linenos"> 52</span><span class="w">      </span><span class="n">bitwuzla_mk_term2</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span>
<span class="linenos"> 53</span><span class="w">                        </span><span class="n">BITWUZLA_KIND_FP_LEQ</span><span class="p">,</span>
<span class="linenos"> 54</span><span class="w">                        </span><span class="n">bitwuzla_mk_term</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span><span class="w"> </span><span class="n">BITWUZLA_KIND_APPLY</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="n">args</span><span class="p">),</span>
<span class="linenos"> 55</span><span class="w">                        </span><span class="n">fp</span><span class="p">);</span>
<span class="linenos"> 56</span><span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">exists</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_term2</span><span class="p">(</span>
<span class="linenos"> 57</span><span class="w">      </span><span class="n">tm</span><span class="p">,</span>
<span class="linenos"> 58</span><span class="w">      </span><span class="n">BITWUZLA_KIND_EXISTS</span><span class="p">,</span>
<span class="linenos"> 59</span><span class="w">      </span><span class="n">q</span><span class="p">,</span>
<span class="linenos"> 60</span><span class="w">      </span><span class="n">bitwuzla_mk_term2</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span>
<span class="linenos"> 61</span><span class="w">                        </span><span class="n">BITWUZLA_KIND_EQUAL</span><span class="p">,</span>
<span class="linenos"> 62</span><span class="w">                        </span><span class="n">zero</span><span class="p">,</span>
<span class="linenos"> 63</span><span class="w">                        </span><span class="n">bitwuzla_mk_term2</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span><span class="w"> </span><span class="n">BITWUZLA_KIND_BV_MUL</span><span class="p">,</span><span class="w"> </span><span class="n">bv</span><span class="p">,</span><span class="w"> </span><span class="n">q</span><span class="p">)));</span>
<span class="linenos"> 64</span><span class="w">  </span><span class="c1">// Assert formulas.</span>
<span class="linenos"> 65</span><span class="w">  </span><span class="n">bitwuzla_assert</span><span class="p">(</span><span class="n">bitwuzla</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="p">);</span>
<span class="linenos"> 66</span><span class="w">  </span><span class="n">bitwuzla_assert</span><span class="p">(</span>
<span class="linenos"> 67</span><span class="w">      </span><span class="n">bitwuzla</span><span class="p">,</span>
<span class="linenos"> 68</span><span class="w">      </span><span class="n">bitwuzla_mk_term2</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span>
<span class="linenos"> 69</span><span class="w">                        </span><span class="n">BITWUZLA_KIND_EQUAL</span><span class="p">,</span>
<span class="linenos"> 70</span><span class="w">                        </span><span class="n">bitwuzla_mk_term2</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span><span class="w"> </span><span class="n">BITWUZLA_KIND_APPLY</span><span class="p">,</span><span class="w"> </span><span class="n">lambda</span><span class="p">,</span><span class="w"> </span><span class="n">bv</span><span class="p">),</span>
<span class="linenos"> 71</span><span class="w">                        </span><span class="n">zero</span><span class="p">));</span>
<span class="linenos"> 72</span><span class="w">  </span><span class="n">bitwuzla_assert</span><span class="p">(</span><span class="n">bitwuzla</span><span class="p">,</span><span class="w"> </span><span class="n">exists</span><span class="p">);</span>
<span class="linenos"> 73</span><span class="w">  </span><span class="n">bitwuzla_assert</span><span class="p">(</span><span class="n">bitwuzla</span><span class="p">,</span><span class="w"> </span><span class="n">fpleq</span><span class="p">);</span>
<span class="linenos"> 74</span>
<span class="linenos"> 75</span><span class="w">  </span><span class="c1">// Print sort.</span>
<span class="linenos"> 76</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Print bit-vector sort of size 32:</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="linenos"> 77</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;---------------------------------</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="linenos"> 78</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;bitwuzla_sort_print():     &quot;</span><span class="p">);</span>
<span class="linenos"> 79</span><span class="w">  </span><span class="n">bitwuzla_sort_print</span><span class="p">(</span><span class="n">bv32</span><span class="p">,</span><span class="w"> </span><span class="n">stdout</span><span class="p">);</span>
<span class="linenos"> 80</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="linenos"> 81</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;bitwuzla_sort_to_string(): %s</span><span class="se">\n\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">bitwuzla_sort_to_string</span><span class="p">(</span><span class="n">bv32</span><span class="p">));</span>
<span class="linenos"> 82</span>
<span class="linenos"> 83</span><span class="w">  </span><span class="c1">// Print terms.</span>
<span class="linenos"> 84</span><span class="w">  </span><span class="c1">// Note: Hexadecimal bv output format is ignored if the value is not of size</span>
<span class="linenos"> 85</span><span class="w">  </span><span class="c1">//       divisible by 4.</span>
<span class="linenos"> 86</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Print term:</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="linenos"> 87</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;-----------</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="linenos"> 88</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;bitwuzla_term_print():                         &quot;</span><span class="p">);</span>
<span class="linenos"> 89</span><span class="w">  </span><span class="n">bitwuzla_term_print</span><span class="p">(</span><span class="n">rm</span><span class="p">,</span><span class="w"> </span><span class="n">stdout</span><span class="p">);</span>
<span class="linenos"> 90</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="linenos"> 91</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;bitwuzla_term_print_fmt()     [dec (ignored)]: &quot;</span><span class="p">);</span>
<span class="linenos"> 92</span><span class="w">  </span><span class="n">bitwuzla_term_print_fmt</span><span class="p">(</span><span class="n">rm</span><span class="p">,</span><span class="w"> </span><span class="n">stdout</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">);</span>
<span class="linenos"> 93</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="linenos"> 94</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;bitwuzla_term_to_string():                     %s</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span>
<span class="linenos"> 95</span><span class="w">         </span><span class="n">bitwuzla_term_to_string</span><span class="p">(</span><span class="n">rm</span><span class="p">));</span>
<span class="linenos"> 96</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;bitwuzla_term_to_string_fmt() [hex (ignored)]: %s</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span>
<span class="linenos"> 97</span><span class="w">         </span><span class="n">bitwuzla_term_to_string_fmt</span><span class="p">(</span><span class="n">rm</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">));</span>
<span class="linenos"> 98</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="linenos"> 99</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;bitwuzla_term_print()         [bin]: &quot;</span><span class="p">);</span>
<span class="linenos">100</span><span class="w">  </span><span class="n">bitwuzla_term_print</span><span class="p">(</span><span class="n">zero</span><span class="p">,</span><span class="w"> </span><span class="n">stdout</span><span class="p">);</span>
<span class="linenos">101</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="linenos">102</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;bitwuzla_term_print_fmt()     [dec]: &quot;</span><span class="p">);</span>
<span class="linenos">103</span><span class="w">  </span><span class="n">bitwuzla_term_print_fmt</span><span class="p">(</span><span class="n">zero</span><span class="p">,</span><span class="w"> </span><span class="n">stdout</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">);</span>
<span class="linenos">104</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="linenos">105</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;bitwuzla_term_print_fmt()     [hex]: &quot;</span><span class="p">);</span>
<span class="linenos">106</span><span class="w">  </span><span class="n">bitwuzla_term_print_fmt</span><span class="p">(</span><span class="n">zero</span><span class="p">,</span><span class="w"> </span><span class="n">stdout</span><span class="p">,</span><span class="w"> </span><span class="mi">16</span><span class="p">);</span>
<span class="linenos">107</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="linenos">108</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;bitwuzla_term_to_string()     [bin]: %s</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span>
<span class="linenos">109</span><span class="w">         </span><span class="n">bitwuzla_term_to_string</span><span class="p">(</span><span class="n">zero</span><span class="p">));</span>
<span class="linenos">110</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;bitwuzla_term_to_string_fmt() [dec]: %s</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span>
<span class="linenos">111</span><span class="w">         </span><span class="n">bitwuzla_term_to_string_fmt</span><span class="p">(</span><span class="n">zero</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">));</span>
<span class="linenos">112</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;bitwuzla_term_to_string_fmt() [hex]: %s</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span>
<span class="linenos">113</span><span class="w">         </span><span class="n">bitwuzla_term_to_string_fmt</span><span class="p">(</span><span class="n">zero</span><span class="p">,</span><span class="w"> </span><span class="mi">16</span><span class="p">));</span>
<span class="linenos">114</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="linenos">115</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;bitwuzla_term_print_fmt()     [bin]:           &quot;</span><span class="p">);</span>
<span class="linenos">116</span><span class="w">  </span><span class="n">bitwuzla_term_print_fmt</span><span class="p">(</span><span class="n">fpleq</span><span class="p">,</span><span class="w"> </span><span class="n">stdout</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">);</span>
<span class="linenos">117</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="linenos">118</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;bitwuzla_term_print_fmt()     [dec]:           &quot;</span><span class="p">);</span>
<span class="linenos">119</span><span class="w">  </span><span class="n">bitwuzla_term_print_fmt</span><span class="p">(</span><span class="n">fpleq</span><span class="p">,</span><span class="w"> </span><span class="n">stdout</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">);</span>
<span class="linenos">120</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="linenos">121</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;bitwuzla_term_print_fmt()     [hex (ignored)]: &quot;</span><span class="p">);</span>
<span class="linenos">122</span><span class="w">  </span><span class="n">bitwuzla_term_print_fmt</span><span class="p">(</span><span class="n">fpleq</span><span class="p">,</span><span class="w"> </span><span class="n">stdout</span><span class="p">,</span><span class="w"> </span><span class="mi">16</span><span class="p">);</span>
<span class="linenos">123</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="linenos">124</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;bitwuzla_term_to_string_fmt() [bin]:           %s</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span>
<span class="linenos">125</span><span class="w">         </span><span class="n">bitwuzla_term_to_string_fmt</span><span class="p">(</span><span class="n">fpleq</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">));</span>
<span class="linenos">126</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;bitwuzla_term_to_string_fmt() [dec]:           %s</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span>
<span class="linenos">127</span><span class="w">         </span><span class="n">bitwuzla_term_to_string_fmt</span><span class="p">(</span><span class="n">fpleq</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">));</span>
<span class="linenos">128</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;bitwuzla_term_to_string_fmt() [hex (ignored)]: %s</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span>
<span class="linenos">129</span><span class="w">         </span><span class="n">bitwuzla_term_to_string_fmt</span><span class="p">(</span><span class="n">fpleq</span><span class="p">,</span><span class="w"> </span><span class="mi">16</span><span class="p">));</span>
<span class="linenos">130</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="linenos">131</span>
<span class="linenos">132</span><span class="w">  </span><span class="c1">// Print asserted formulas using binary bit-vector output format.</span>
<span class="linenos">133</span><span class="w">  </span><span class="p">{</span>
<span class="linenos">134</span><span class="w">    </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Print formula [binary bv output format]:</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="linenos">135</span><span class="w">    </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;----------------------------------------</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="linenos">136</span><span class="w">    </span><span class="n">bitwuzla_print_formula</span><span class="p">(</span><span class="n">bitwuzla</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;smt2&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">stdout</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">);</span>
<span class="linenos">137</span><span class="w">    </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="linenos">138</span><span class="w">  </span><span class="p">}</span>
<span class="linenos">139</span>
<span class="linenos">140</span><span class="w">  </span><span class="c1">// Print asserted formulas using hexadecimal bit-vector output format.</span>
<span class="linenos">141</span><span class="w">  </span><span class="p">{</span>
<span class="linenos">142</span><span class="w">    </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Print formula [hexadecimal bv output format]:</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="linenos">143</span><span class="w">    </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;----------------------------------------</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="linenos">144</span><span class="w">    </span><span class="n">bitwuzla_print_formula</span><span class="p">(</span><span class="n">bitwuzla</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;smt2&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">stdout</span><span class="p">,</span><span class="w"> </span><span class="mi">16</span><span class="p">);</span>
<span class="linenos">145</span><span class="w">    </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="linenos">146</span><span class="w">  </span><span class="p">}</span>
<span class="linenos">147</span>
<span class="linenos">148</span><span class="w">  </span><span class="c1">// Print asserted formulas using decimal bit-vector output format.</span>
<span class="linenos">149</span><span class="w">  </span><span class="p">{</span>
<span class="linenos">150</span><span class="w">    </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Print formula [decimal bv output format]:</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="linenos">151</span><span class="w">    </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;----------------------------------------</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="linenos">152</span><span class="w">    </span><span class="n">bitwuzla_print_formula</span><span class="p">(</span><span class="n">bitwuzla</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;smt2&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">stdout</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">);</span>
<span class="linenos">153</span><span class="w">    </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="linenos">154</span><span class="w">  </span><span class="p">}</span>
<span class="linenos">155</span>
<span class="linenos">156</span><span class="w">  </span><span class="n">bitwuzla_check_sat</span><span class="p">(</span><span class="n">bitwuzla</span><span class="p">);</span>
<span class="linenos">157</span>
<span class="linenos">158</span><span class="w">  </span><span class="c1">// Print values.</span>
<span class="linenos">159</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Print value of Boolean predicate:</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="linenos">160</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;---------------------------------</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="linenos">161</span><span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">fpleq_val</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_get_value</span><span class="p">(</span><span class="n">bitwuzla</span><span class="p">,</span><span class="w"> </span><span class="n">fpleq</span><span class="p">);</span>
<span class="linenos">162</span><span class="w">  </span><span class="kt">bool</span><span class="w"> </span><span class="n">fpleq_val_bool</span><span class="w">       </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_term_value_get_bool</span><span class="p">(</span><span class="n">fpleq_val</span><span class="p">);</span>
<span class="linenos">163</span><span class="w">  </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">fpleq_val_str</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_term_value_get_str</span><span class="p">(</span><span class="n">fpleq_val</span><span class="p">);</span>
<span class="linenos">164</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;%s: %*u [bool]</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">bitwuzla_term_to_string</span><span class="p">(</span><span class="n">fpleq</span><span class="p">),</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="n">fpleq_val_bool</span><span class="p">);</span>
<span class="linenos">165</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;%s: %*s [const char*]</span><span class="se">\n\n</span><span class="s">&quot;</span><span class="p">,</span>
<span class="linenos">166</span><span class="w">         </span><span class="n">bitwuzla_term_to_string</span><span class="p">(</span><span class="n">fpleq</span><span class="p">),</span>
<span class="linenos">167</span><span class="w">         </span><span class="mi">4</span><span class="p">,</span>
<span class="linenos">168</span><span class="w">         </span><span class="n">fpleq_val_str</span><span class="p">);</span>
<span class="linenos">169</span>
<span class="linenos">170</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Print value of bv const:</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="linenos">171</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;------------------------</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="linenos">172</span><span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">bv_val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_get_value</span><span class="p">(</span><span class="n">bitwuzla</span><span class="p">,</span><span class="w"> </span><span class="n">bv</span><span class="p">);</span>
<span class="linenos">173</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;%s: %*s [const char*] (bin)</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span>
<span class="linenos">174</span><span class="w">         </span><span class="n">bitwuzla_term_to_string</span><span class="p">(</span><span class="n">bv</span><span class="p">),</span>
<span class="linenos">175</span><span class="w">         </span><span class="mi">8</span><span class="p">,</span>
<span class="linenos">176</span><span class="w">         </span><span class="n">bitwuzla_term_value_get_str</span><span class="p">(</span><span class="n">bv_val</span><span class="p">));</span>
<span class="linenos">177</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;%s: %*s [const char*] (dec)</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span>
<span class="linenos">178</span><span class="w">         </span><span class="n">bitwuzla_term_to_string</span><span class="p">(</span><span class="n">bv</span><span class="p">),</span>
<span class="linenos">179</span><span class="w">         </span><span class="mi">8</span><span class="p">,</span>
<span class="linenos">180</span><span class="w">         </span><span class="n">bitwuzla_term_value_get_str_fmt</span><span class="p">(</span><span class="n">bv_val</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">));</span>
<span class="linenos">181</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;%s: %*s [const char*] (hex)</span><span class="se">\n\n</span><span class="s">&quot;</span><span class="p">,</span>
<span class="linenos">182</span><span class="w">         </span><span class="n">bitwuzla_term_to_string</span><span class="p">(</span><span class="n">bv</span><span class="p">),</span>
<span class="linenos">183</span><span class="w">         </span><span class="mi">8</span><span class="p">,</span>
<span class="linenos">184</span><span class="w">         </span><span class="n">bitwuzla_term_value_get_str_fmt</span><span class="p">(</span><span class="n">bv_val</span><span class="p">,</span><span class="w"> </span><span class="mi">16</span><span class="p">));</span>
<span class="linenos">185</span>
<span class="linenos">186</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Print value of RoundingMode const:</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="linenos">187</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;----------------------------------</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="linenos">188</span><span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">rm_val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_get_value</span><span class="p">(</span><span class="n">bitwuzla</span><span class="p">,</span><span class="w"> </span><span class="n">rm</span><span class="p">);</span>
<span class="linenos">189</span><span class="w">  </span><span class="n">BitwuzlaRoundingMode</span><span class="w"> </span><span class="n">rm_val_rm</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_term_value_get_rm</span><span class="p">(</span><span class="n">rm_val</span><span class="p">);</span>
<span class="linenos">190</span><span class="w">  </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">rm_val_str</span><span class="w">         </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_term_value_get_str</span><span class="p">(</span><span class="n">rm_val</span><span class="p">);</span>
<span class="linenos">191</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;%s: %s [BitwuzlaRoundingMode]</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span>
<span class="linenos">192</span><span class="w">         </span><span class="n">bitwuzla_term_to_string</span><span class="p">(</span><span class="n">rm</span><span class="p">),</span>
<span class="linenos">193</span><span class="w">         </span><span class="n">bitwuzla_rm_to_string</span><span class="p">(</span><span class="n">rm_val_rm</span><span class="p">));</span>
<span class="linenos">194</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;%s: %s [const char*]</span><span class="se">\n\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">bitwuzla_term_to_string</span><span class="p">(</span><span class="n">rm</span><span class="p">),</span><span class="w"> </span><span class="n">rm_val_str</span><span class="p">);</span>
<span class="linenos">195</span>
<span class="linenos">196</span><span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">fp_val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_get_value</span><span class="p">(</span><span class="n">bitwuzla</span><span class="p">,</span><span class="w"> </span><span class="n">fp</span><span class="p">);</span>
<span class="linenos">197</span>
<span class="linenos">198</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Print value of fp const via bitwuzla_term_value_get_str(_fmt):</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="linenos">199</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;--------------------------------------------------------------</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="linenos">200</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;%s: %*s [const char*] (bin) </span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span>
<span class="linenos">201</span><span class="w">         </span><span class="n">bitwuzla_term_to_string</span><span class="p">(</span><span class="n">fp</span><span class="p">),</span>
<span class="linenos">202</span><span class="w">         </span><span class="mi">16</span><span class="p">,</span>
<span class="linenos">203</span><span class="w">         </span><span class="n">bitwuzla_term_value_get_str</span><span class="p">(</span><span class="n">fp_val</span><span class="p">));</span>
<span class="linenos">204</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;%s: %*s [const char*] (dec [ignored]) </span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span>
<span class="linenos">205</span><span class="w">         </span><span class="n">bitwuzla_term_to_string</span><span class="p">(</span><span class="n">fp</span><span class="p">),</span>
<span class="linenos">206</span><span class="w">         </span><span class="mi">16</span><span class="p">,</span>
<span class="linenos">207</span><span class="w">         </span><span class="n">bitwuzla_term_value_get_str_fmt</span><span class="p">(</span><span class="n">fp_val</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">));</span>
<span class="linenos">208</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;%s: %*s [const char*] (hex [ignored]) </span><span class="se">\n\n</span><span class="s">&quot;</span><span class="p">,</span>
<span class="linenos">209</span><span class="w">         </span><span class="n">bitwuzla_term_to_string</span><span class="p">(</span><span class="n">fp</span><span class="p">),</span>
<span class="linenos">210</span><span class="w">         </span><span class="mi">16</span><span class="p">,</span>
<span class="linenos">211</span><span class="w">         </span><span class="n">bitwuzla_term_value_get_str_fmt</span><span class="p">(</span><span class="n">fp_val</span><span class="p">,</span><span class="w"> </span><span class="mi">16</span><span class="p">));</span>
<span class="linenos">212</span>
<span class="linenos">213</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Print value of fp const via bitwuzla_term_value_get_fp_ieee():</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="linenos">214</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;--------------------------------------------------------------</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="linenos">215</span><span class="w">  </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">sign</span><span class="p">;</span>
<span class="linenos">216</span><span class="w">  </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">exponent</span><span class="p">;</span>
<span class="linenos">217</span><span class="w">  </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">significand</span><span class="p">;</span>
<span class="linenos">218</span><span class="w">  </span><span class="n">bitwuzla_term_value_get_fp_ieee</span><span class="p">(</span><span class="n">fp_val</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">sign</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">exponent</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">significand</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">);</span>
<span class="linenos">219</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;%s: (%s %*s %*s) (bin)</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span>
<span class="linenos">220</span><span class="w">         </span><span class="n">bitwuzla_term_to_string</span><span class="p">(</span><span class="n">fp</span><span class="p">),</span>
<span class="linenos">221</span><span class="w">         </span><span class="n">sign</span><span class="p">,</span>
<span class="linenos">222</span><span class="w">         </span><span class="mi">5</span><span class="p">,</span>
<span class="linenos">223</span><span class="w">         </span><span class="n">exponent</span><span class="p">,</span>
<span class="linenos">224</span><span class="w">         </span><span class="mi">11</span><span class="p">,</span>
<span class="linenos">225</span><span class="w">         </span><span class="n">significand</span><span class="p">);</span>
<span class="linenos">226</span><span class="w">  </span><span class="n">bitwuzla_term_value_get_fp_ieee</span><span class="p">(</span><span class="n">fp_val</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">sign</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">exponent</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">significand</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">);</span>
<span class="linenos">227</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;%s: (%s %*s %*s) (dec)</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span>
<span class="linenos">228</span><span class="w">         </span><span class="n">bitwuzla_term_to_string</span><span class="p">(</span><span class="n">fp</span><span class="p">),</span>
<span class="linenos">229</span><span class="w">         </span><span class="n">sign</span><span class="p">,</span>
<span class="linenos">230</span><span class="w">         </span><span class="mi">5</span><span class="p">,</span>
<span class="linenos">231</span><span class="w">         </span><span class="n">exponent</span><span class="p">,</span>
<span class="linenos">232</span><span class="w">         </span><span class="mi">11</span><span class="p">,</span>
<span class="linenos">233</span><span class="w">         </span><span class="n">significand</span><span class="p">);</span>
<span class="linenos">234</span><span class="w">  </span><span class="n">bitwuzla_term_value_get_fp_ieee</span><span class="p">(</span><span class="n">fp_val</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">sign</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">exponent</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">significand</span><span class="p">,</span><span class="w"> </span><span class="mi">16</span><span class="p">);</span>
<span class="linenos">235</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;%s: (%s %*s %*s) (hex)</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span>
<span class="linenos">236</span><span class="w">         </span><span class="n">bitwuzla_term_to_string</span><span class="p">(</span><span class="n">fp</span><span class="p">),</span>
<span class="linenos">237</span><span class="w">         </span><span class="n">sign</span><span class="p">,</span>
<span class="linenos">238</span><span class="w">         </span><span class="mi">5</span><span class="p">,</span>
<span class="linenos">239</span><span class="w">         </span><span class="n">exponent</span><span class="p">,</span>
<span class="linenos">240</span><span class="w">         </span><span class="mi">11</span><span class="p">,</span>
<span class="linenos">241</span><span class="w">         </span><span class="n">significand</span><span class="p">);</span>
<span class="linenos">242</span>
<span class="linenos">243</span><span class="w">  </span><span class="c1">// Finally, delete the Bitwuzla solver, options, and term manager instances.</span>
<span class="linenos">244</span><span class="w">  </span><span class="n">bitwuzla_delete</span><span class="p">(</span><span class="n">bitwuzla</span><span class="p">);</span>
<span class="linenos">245</span><span class="w">  </span><span class="n">bitwuzla_options_delete</span><span class="p">(</span><span class="n">options</span><span class="p">);</span>
<span class="linenos">246</span><span class="w">  </span><span class="n">bitwuzla_term_manager_delete</span><span class="p">(</span><span class="n">tm</span><span class="p">);</span>
<span class="linenos">247</span><span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">248</span><span class="p">}</span>
</pre></div>
</div>
</div><div aria-labelledby="tab-10-10-2" class="sphinx-tabs-panel" hidden="true" id="panel-10-10-2" name="10-2" role="tabpanel" tabindex="0"><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos">  1</span><span class="c1">###</span>
<span class="linenos">  2</span><span class="c1"># Bitwuzla: Satisfiability Modulo Theories (SMT) solver.</span>
<span class="linenos">  3</span><span class="c1">#</span>
<span class="linenos">  4</span><span class="c1"># Copyright (C) 2023 by the authors listed in the AUTHORS file at</span>
<span class="linenos">  5</span><span class="c1"># https://github.com/bitwuzla/bitwuzla/blob/main/AUTHORS</span>
<span class="linenos">  6</span><span class="c1">#</span>
<span class="linenos">  7</span><span class="c1"># This file is part of Bitwuzla under the MIT license. See COPYING for more</span>
<span class="linenos">  8</span><span class="c1"># information at https://github.com/bitwuzla/bitwuzla/blob/main/COPYING</span>
<span class="linenos">  9</span><span class="c1">##</span>
<span class="linenos"> 10</span>
<span class="linenos"> 11</span><span class="kn">from</span><span class="w"> </span><span class="nn">bitwuzla</span><span class="w"> </span><span class="kn">import</span> <span class="o">*</span>
<span class="linenos"> 12</span>
<span class="linenos"> 13</span><span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
<span class="linenos"> 14</span>
<span class="linenos"> 15</span>    <span class="c1"># First, create a term manager instance.</span>
<span class="linenos"> 16</span>    <span class="n">tm</span> <span class="o">=</span> <span class="n">TermManager</span><span class="p">()</span>
<span class="linenos"> 17</span>    <span class="c1"># Create a Bitwuzla options instance.</span>
<span class="linenos"> 18</span>    <span class="n">options</span> <span class="o">=</span> <span class="n">Options</span><span class="p">()</span>
<span class="linenos"> 19</span>    <span class="n">options</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">Option</span><span class="o">.</span><span class="n">PRODUCE_MODELS</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
<span class="linenos"> 20</span>    <span class="c1"># Then, create a Bitwuzla instance.</span>
<span class="linenos"> 21</span>    <span class="n">bitwuzla</span> <span class="o">=</span> <span class="n">Bitwuzla</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span> <span class="n">options</span><span class="p">)</span>
<span class="linenos"> 22</span>    <span class="c1"># Create some sorts.</span>
<span class="linenos"> 23</span>    <span class="n">bv8</span>  <span class="o">=</span> <span class="n">tm</span><span class="o">.</span><span class="n">mk_bv_sort</span><span class="p">(</span><span class="mi">8</span><span class="p">)</span>
<span class="linenos"> 24</span>    <span class="n">bv32</span> <span class="o">=</span> <span class="n">tm</span><span class="o">.</span><span class="n">mk_bv_sort</span><span class="p">(</span><span class="mi">32</span><span class="p">)</span>
<span class="linenos"> 25</span>    <span class="n">fp16</span> <span class="o">=</span> <span class="n">tm</span><span class="o">.</span><span class="n">mk_fp_sort</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">11</span><span class="p">)</span>
<span class="linenos"> 26</span>    <span class="c1"># Create terms.</span>
<span class="linenos"> 27</span>    <span class="n">b</span>     <span class="o">=</span> <span class="n">tm</span><span class="o">.</span><span class="n">mk_const</span><span class="p">(</span><span class="n">tm</span><span class="o">.</span><span class="n">mk_bool_sort</span><span class="p">(),</span> <span class="s2">&quot;b&quot;</span><span class="p">)</span>
<span class="linenos"> 28</span>    <span class="n">bv</span>    <span class="o">=</span> <span class="n">tm</span><span class="o">.</span><span class="n">mk_const</span><span class="p">(</span><span class="n">bv8</span><span class="p">,</span> <span class="s2">&quot;bv&quot;</span><span class="p">)</span>
<span class="linenos"> 29</span>    <span class="n">fp</span>    <span class="o">=</span> <span class="n">tm</span><span class="o">.</span><span class="n">mk_const</span><span class="p">(</span><span class="n">fp16</span><span class="p">,</span> <span class="s2">&quot;fp&quot;</span><span class="p">)</span>
<span class="linenos"> 30</span>    <span class="n">rm</span>    <span class="o">=</span> <span class="n">tm</span><span class="o">.</span><span class="n">mk_const</span><span class="p">(</span><span class="n">tm</span><span class="o">.</span><span class="n">mk_rm_sort</span><span class="p">(),</span> <span class="s2">&quot;rm&quot;</span><span class="p">)</span>
<span class="linenos"> 31</span>    <span class="n">fun</span>   <span class="o">=</span> <span class="n">tm</span><span class="o">.</span><span class="n">mk_const</span><span class="p">(</span><span class="n">tm</span><span class="o">.</span><span class="n">mk_fun_sort</span><span class="p">([</span><span class="n">bv8</span><span class="p">,</span> <span class="n">fp16</span><span class="p">,</span> <span class="n">bv32</span><span class="p">],</span> <span class="n">fp16</span><span class="p">),</span> <span class="s2">&quot;fun&quot;</span><span class="p">)</span>
<span class="linenos"> 32</span>    <span class="n">zero</span>  <span class="o">=</span> <span class="n">tm</span><span class="o">.</span><span class="n">mk_bv_zero</span><span class="p">(</span><span class="n">bv8</span><span class="p">)</span>
<span class="linenos"> 33</span>    <span class="n">ones</span>  <span class="o">=</span> <span class="n">tm</span><span class="o">.</span><span class="n">mk_bv_ones</span><span class="p">(</span><span class="n">tm</span><span class="o">.</span><span class="n">mk_bv_sort</span><span class="p">(</span><span class="mi">23</span><span class="p">))</span>
<span class="linenos"> 34</span>    <span class="n">z</span>     <span class="o">=</span> <span class="n">tm</span><span class="o">.</span><span class="n">mk_var</span><span class="p">(</span><span class="n">bv8</span><span class="p">,</span> <span class="s2">&quot;z&quot;</span><span class="p">)</span>
<span class="linenos"> 35</span>    <span class="n">q</span>     <span class="o">=</span> <span class="n">tm</span><span class="o">.</span><span class="n">mk_var</span><span class="p">(</span><span class="n">bv8</span><span class="p">,</span> <span class="s2">&quot;q&quot;</span><span class="p">)</span>
<span class="linenos"> 36</span>    <span class="n">lambd</span> <span class="o">=</span> <span class="n">tm</span><span class="o">.</span><span class="n">mk_term</span><span class="p">(</span><span class="n">Kind</span><span class="o">.</span><span class="n">LAMBDA</span><span class="p">,</span> <span class="p">[</span><span class="n">z</span><span class="p">,</span> <span class="n">tm</span><span class="o">.</span><span class="n">mk_term</span><span class="p">(</span><span class="n">Kind</span><span class="o">.</span><span class="n">BV_ADD</span><span class="p">,</span> <span class="p">[</span><span class="n">z</span><span class="p">,</span> <span class="n">bv</span><span class="p">])])</span>
<span class="linenos"> 37</span>    <span class="n">fpleq</span> <span class="o">=</span> <span class="n">tm</span><span class="o">.</span><span class="n">mk_term</span><span class="p">(</span>
<span class="linenos"> 38</span>        <span class="n">Kind</span><span class="o">.</span><span class="n">FP_LEQ</span><span class="p">,</span>
<span class="linenos"> 39</span>        <span class="p">[</span><span class="n">tm</span><span class="o">.</span><span class="n">mk_term</span><span class="p">(</span><span class="n">Kind</span><span class="o">.</span><span class="n">APPLY</span><span class="p">,</span>
<span class="linenos"> 40</span>                  <span class="p">[</span><span class="n">fun</span><span class="p">,</span> <span class="n">bv</span><span class="p">,</span> <span class="n">fp</span><span class="p">,</span> <span class="n">tm</span><span class="o">.</span><span class="n">mk_term</span><span class="p">(</span><span class="n">Kind</span><span class="o">.</span><span class="n">BV_ZERO_EXTEND</span><span class="p">,</span> <span class="p">[</span><span class="n">ones</span><span class="p">],</span> <span class="p">[</span><span class="mi">9</span><span class="p">])]),</span>
<span class="linenos"> 41</span>          <span class="n">fp</span><span class="p">])</span>
<span class="linenos"> 42</span>    <span class="n">exists</span> <span class="o">=</span> <span class="n">tm</span><span class="o">.</span><span class="n">mk_term</span><span class="p">(</span>
<span class="linenos"> 43</span>        <span class="n">Kind</span><span class="o">.</span><span class="n">EXISTS</span><span class="p">,</span>
<span class="linenos"> 44</span>        <span class="p">[</span><span class="n">q</span><span class="p">,</span> <span class="n">tm</span><span class="o">.</span><span class="n">mk_term</span><span class="p">(</span><span class="n">Kind</span><span class="o">.</span><span class="n">EQUAL</span><span class="p">,</span> <span class="p">[</span><span class="n">zero</span><span class="p">,</span> <span class="n">tm</span><span class="o">.</span><span class="n">mk_term</span><span class="p">(</span><span class="n">Kind</span><span class="o">.</span><span class="n">BV_MUL</span><span class="p">,</span> <span class="p">[</span><span class="n">bv</span><span class="p">,</span> <span class="n">q</span><span class="p">])])])</span>
<span class="linenos"> 45</span>    <span class="c1"># Assert formulas.</span>
<span class="linenos"> 46</span>    <span class="n">bitwuzla</span><span class="o">.</span><span class="n">assert_formula</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
<span class="linenos"> 47</span>    <span class="n">bitwuzla</span><span class="o">.</span><span class="n">assert_formula</span><span class="p">(</span>
<span class="linenos"> 48</span>        <span class="n">tm</span><span class="o">.</span><span class="n">mk_term</span><span class="p">(</span><span class="n">Kind</span><span class="o">.</span><span class="n">EQUAL</span><span class="p">,</span> <span class="p">[</span><span class="n">tm</span><span class="o">.</span><span class="n">mk_term</span><span class="p">(</span><span class="n">Kind</span><span class="o">.</span><span class="n">APPLY</span><span class="p">,</span> <span class="p">[</span><span class="n">lambd</span><span class="p">,</span> <span class="n">bv</span><span class="p">]),</span> <span class="n">zero</span><span class="p">]))</span>
<span class="linenos"> 49</span>    <span class="n">bitwuzla</span><span class="o">.</span><span class="n">assert_formula</span><span class="p">(</span><span class="n">exists</span><span class="p">)</span>
<span class="linenos"> 50</span>    <span class="n">bitwuzla</span><span class="o">.</span><span class="n">assert_formula</span><span class="p">(</span><span class="n">fpleq</span><span class="p">)</span>
<span class="linenos"> 51</span>
<span class="linenos"> 52</span>    <span class="c1"># Print sort.</span>
<span class="linenos"> 53</span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Print bit-vector sort of size 32:&#39;</span><span class="p">)</span>
<span class="linenos"> 54</span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;---------------------------------&#39;</span><span class="p">)</span>
<span class="linenos"> 55</span>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;str(): </span><span class="si">{</span><span class="n">bv32</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="linenos"> 56</span>    <span class="nb">print</span><span class="p">()</span>
<span class="linenos"> 57</span>
<span class="linenos"> 58</span>    <span class="c1"># Print terms.</span>
<span class="linenos"> 59</span>    <span class="c1"># Note: Hexadecimal bv output format is ignored if the value is not of size</span>
<span class="linenos"> 60</span>    <span class="c1">#       divisible by 4.</span>
<span class="linenos"> 61</span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Print term:&#39;</span><span class="p">)</span>
<span class="linenos"> 62</span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;-----------&#39;</span><span class="p">)</span>
<span class="linenos"> 63</span>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;str()      [default]:       </span><span class="si">{</span><span class="n">rm</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="linenos"> 64</span>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;str()      [bin (ignored)]: </span><span class="si">{</span><span class="n">rm</span><span class="o">.</span><span class="n">str</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="linenos"> 65</span>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;str()      [dec (ignored)]: </span><span class="si">{</span><span class="n">rm</span><span class="o">.</span><span class="n">str</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="linenos"> 66</span>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;str(16)    [hex (ignored)]: </span><span class="si">{</span><span class="n">rm</span><span class="o">.</span><span class="n">str</span><span class="p">(</span><span class="mi">16</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="linenos"> 67</span>    <span class="nb">print</span><span class="p">()</span>
<span class="linenos"> 68</span>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;str()      [default]: </span><span class="si">{</span><span class="n">zero</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="linenos"> 69</span>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;str()      [bin]:     </span><span class="si">{</span><span class="n">zero</span><span class="o">.</span><span class="n">str</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="linenos"> 70</span>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;str(10)    [dec]:     </span><span class="si">{</span><span class="n">zero</span><span class="o">.</span><span class="n">str</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="linenos"> 71</span>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;str(16)    [hex]:     </span><span class="si">{</span><span class="n">zero</span><span class="o">.</span><span class="n">str</span><span class="p">(</span><span class="mi">16</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="linenos"> 72</span>    <span class="nb">print</span><span class="p">()</span>
<span class="linenos"> 73</span>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;str()      [default]:       </span><span class="si">{</span><span class="n">fpleq</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="linenos"> 74</span>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;str()      [bin]:           </span><span class="si">{</span><span class="n">fpleq</span><span class="o">.</span><span class="n">str</span><span class="p">()</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="linenos"> 75</span>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;str(10)    [dec]:           </span><span class="si">{</span><span class="n">fpleq</span><span class="o">.</span><span class="n">str</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="linenos"> 76</span>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;str(16)    [hex (ignored)]: </span><span class="si">{</span><span class="n">fpleq</span><span class="o">.</span><span class="n">str</span><span class="p">(</span><span class="mi">16</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="linenos"> 77</span>    <span class="nb">print</span><span class="p">()</span>
<span class="linenos"> 78</span>
<span class="linenos"> 79</span>    <span class="c1"># Print asserted formulas.</span>
<span class="linenos"> 80</span>    <span class="c1"># Note: This uses the default bit-vector output format (binary).</span>
<span class="linenos"> 81</span>    <span class="n">expected_smt2</span> <span class="o">=</span> \
<span class="linenos"> 82</span>            <span class="s1">&#39;(set-logic UFBVFP)</span><span class="se">\n</span><span class="s1">&#39;</span> \
<span class="linenos"> 83</span>            <span class="o">+</span> <span class="s1">&#39;(declare-const b Bool)</span><span class="se">\n</span><span class="s1">&#39;</span> \
<span class="linenos"> 84</span>            <span class="o">+</span> <span class="s1">&#39;(declare-const bv (_ BitVec 8))</span><span class="se">\n</span><span class="s1">&#39;</span> \
<span class="linenos"> 85</span>            <span class="o">+</span> <span class="s1">&#39;(declare-const fp (_ FloatingPoint 5 11))</span><span class="se">\n</span><span class="s1">&#39;</span> \
<span class="linenos"> 86</span>            <span class="o">+</span> <span class="s1">&#39;(declare-fun fun ((_ BitVec 8) (_ FloatingPoint 5 11) &#39;</span> \
<span class="linenos"> 87</span>            <span class="o">+</span> <span class="s1">&#39;(_ BitVec 32)) (_ FloatingPoint 5 11))</span><span class="se">\n</span><span class="s1">&#39;</span> \
<span class="linenos"> 88</span>            <span class="o">+</span> <span class="s1">&#39;(assert b)</span><span class="se">\n</span><span class="s1">&#39;</span> \
<span class="linenos"> 89</span>            <span class="o">+</span> <span class="s1">&#39;(assert (= ((lambda ((z (_ BitVec 8))) (bvadd z bv)) bv) &#39;</span> \
<span class="linenos"> 90</span>            <span class="o">+</span> <span class="s1">&#39;#b00000000))</span><span class="se">\n</span><span class="s1">&#39;</span> \
<span class="linenos"> 91</span>            <span class="o">+</span> <span class="s1">&#39;(assert (exists ((q (_ BitVec 8))) (= #b00000000 &#39;</span> \
<span class="linenos"> 92</span>            <span class="o">+</span> <span class="s1">&#39;(bvmul bv q))))</span><span class="se">\n</span><span class="s1">&#39;</span> \
<span class="linenos"> 93</span>            <span class="o">+</span> <span class="s1">&#39;(assert (fp.leq (fun bv fp ((_ zero_extend 9) &#39;</span> \
<span class="linenos"> 94</span>            <span class="o">+</span> <span class="s1">&#39;#b11111111111111111111111)) fp))</span><span class="se">\n</span><span class="s1">&#39;</span> \
<span class="linenos"> 95</span>            <span class="o">+</span> <span class="s1">&#39;(check-sat)</span><span class="se">\n</span><span class="s1">&#39;</span> \
<span class="linenos"> 96</span>            <span class="o">+</span> <span class="s1">&#39;(exit)</span><span class="se">\n</span><span class="s1">&#39;</span>
<span class="linenos"> 97</span>    <span class="n">res</span> <span class="o">=</span> <span class="n">bitwuzla</span><span class="o">.</span><span class="n">print_formula</span><span class="p">()</span>
<span class="linenos"> 98</span>    <span class="k">assert</span> <span class="n">res</span> <span class="o">==</span> <span class="n">expected_smt2</span>
<span class="linenos"> 99</span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Print formula [default (binary) bv output format]:&#39;</span><span class="p">)</span>
<span class="linenos">100</span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;--------------------------------------------------&#39;</span><span class="p">)</span>
<span class="linenos">101</span>    <span class="nb">print</span><span class="p">(</span><span class="n">res</span><span class="p">)</span>
<span class="linenos">102</span>
<span class="linenos">103</span>    <span class="c1"># Print asserted formulas using hexadecimal bit-vector output format.</span>
<span class="linenos">104</span>    <span class="n">expected_smt2</span> <span class="o">=</span> \
<span class="linenos">105</span>            <span class="s1">&#39;(set-logic UFBVFP)</span><span class="se">\n</span><span class="s1">&#39;</span> \
<span class="linenos">106</span>            <span class="o">+</span> <span class="s1">&#39;(declare-const b Bool)</span><span class="se">\n</span><span class="s1">&#39;</span> \
<span class="linenos">107</span>            <span class="o">+</span> <span class="s1">&#39;(declare-const bv (_ BitVec 8))</span><span class="se">\n</span><span class="s1">&#39;</span> \
<span class="linenos">108</span>            <span class="o">+</span> <span class="s1">&#39;(declare-const fp (_ FloatingPoint 5 11))</span><span class="se">\n</span><span class="s1">&#39;</span> \
<span class="linenos">109</span>            <span class="o">+</span> <span class="s1">&#39;(declare-fun fun ((_ BitVec 8) (_ FloatingPoint 5 11) &#39;</span> \
<span class="linenos">110</span>            <span class="o">+</span> <span class="s1">&#39;(_ BitVec 32)) (_ FloatingPoint 5 11))</span><span class="se">\n</span><span class="s1">&#39;</span> \
<span class="linenos">111</span>            <span class="o">+</span> <span class="s1">&#39;(assert b)</span><span class="se">\n</span><span class="s1">&#39;</span> \
<span class="linenos">112</span>            <span class="o">+</span> <span class="s1">&#39;(assert (= ((lambda ((z (_ BitVec 8))) (bvadd z bv)) bv) &#39;</span> \
<span class="linenos">113</span>            <span class="o">+</span> <span class="s1">&#39;#x00))</span><span class="se">\n</span><span class="s1">&#39;</span> \
<span class="linenos">114</span>            <span class="o">+</span> <span class="s1">&#39;(assert (exists ((q (_ BitVec 8))) (= #x00 (bvmul bv q))))</span><span class="se">\n</span><span class="s1">&#39;</span> \
<span class="linenos">115</span>            <span class="o">+</span> <span class="s1">&#39;(assert (fp.leq (fun bv fp ((_ zero_extend 9) &#39;</span> \
<span class="linenos">116</span>            <span class="o">+</span> <span class="s1">&#39;#b11111111111111111111111)) fp))</span><span class="se">\n</span><span class="s1">&#39;</span> \
<span class="linenos">117</span>            <span class="o">+</span> <span class="s1">&#39;(check-sat)</span><span class="se">\n</span><span class="s1">&#39;</span> \
<span class="linenos">118</span>            <span class="o">+</span> <span class="s1">&#39;(exit)</span><span class="se">\n</span><span class="s1">&#39;</span>
<span class="linenos">119</span>    <span class="n">res</span> <span class="o">=</span> <span class="n">bitwuzla</span><span class="o">.</span><span class="n">print_formula</span><span class="p">(</span><span class="s2">&quot;smt2&quot;</span><span class="p">,</span> <span class="mi">16</span><span class="p">)</span>
<span class="linenos">120</span>    <span class="k">assert</span> <span class="n">res</span> <span class="o">==</span> <span class="n">expected_smt2</span>
<span class="linenos">121</span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Print formula [hexadecimal bv output format]:&#39;</span><span class="p">)</span>
<span class="linenos">122</span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;--------------------------------------------------&#39;</span><span class="p">)</span>
<span class="linenos">123</span>    <span class="nb">print</span><span class="p">(</span><span class="n">res</span><span class="p">)</span>
<span class="linenos">124</span>
<span class="linenos">125</span>    <span class="c1"># Print asserted formulas using decimal bit-vector output format.</span>
<span class="linenos">126</span>    <span class="n">expected_smt2</span> <span class="o">=</span> \
<span class="linenos">127</span>            <span class="s1">&#39;(set-logic UFBVFP)</span><span class="se">\n</span><span class="s1">&#39;</span> \
<span class="linenos">128</span>            <span class="o">+</span> <span class="s1">&#39;(declare-const b Bool)</span><span class="se">\n</span><span class="s1">&#39;</span> \
<span class="linenos">129</span>            <span class="o">+</span> <span class="s1">&#39;(declare-const bv (_ BitVec 8))</span><span class="se">\n</span><span class="s1">&#39;</span> \
<span class="linenos">130</span>            <span class="o">+</span> <span class="s1">&#39;(declare-const fp (_ FloatingPoint 5 11))</span><span class="se">\n</span><span class="s1">&#39;</span> \
<span class="linenos">131</span>            <span class="o">+</span> <span class="s1">&#39;(declare-fun fun ((_ BitVec 8) (_ FloatingPoint 5 11) &#39;</span> \
<span class="linenos">132</span>            <span class="o">+</span> <span class="s1">&#39;(_ BitVec 32)) (_ FloatingPoint 5 11))</span><span class="se">\n</span><span class="s1">&#39;</span> \
<span class="linenos">133</span>            <span class="o">+</span> <span class="s1">&#39;(assert b)</span><span class="se">\n</span><span class="s1">&#39;</span> \
<span class="linenos">134</span>            <span class="o">+</span> <span class="s1">&#39;(assert (= ((lambda ((z (_ BitVec 8))) (bvadd z bv)) bv) &#39;</span> \
<span class="linenos">135</span>            <span class="o">+</span> <span class="s1">&#39;(_ bv0 8)))</span><span class="se">\n</span><span class="s1">&#39;</span> \
<span class="linenos">136</span>            <span class="o">+</span> <span class="s1">&#39;(assert (exists ((q (_ BitVec 8))) (= (_ bv0 8) &#39;</span> \
<span class="linenos">137</span>            <span class="o">+</span> <span class="s1">&#39;(bvmul bv q))))</span><span class="se">\n</span><span class="s1">&#39;</span> \
<span class="linenos">138</span>            <span class="o">+</span> <span class="s1">&#39;(assert (fp.leq (fun bv fp ((_ zero_extend 9) &#39;</span> \
<span class="linenos">139</span>            <span class="o">+</span> <span class="s1">&#39;(_ bv8388607 23))) fp))</span><span class="se">\n</span><span class="s1">&#39;</span> \
<span class="linenos">140</span>            <span class="o">+</span> <span class="s1">&#39;(check-sat)</span><span class="se">\n</span><span class="s1">&#39;</span> \
<span class="linenos">141</span>            <span class="o">+</span> <span class="s1">&#39;(exit)</span><span class="se">\n</span><span class="s1">&#39;</span>
<span class="linenos">142</span>    <span class="n">res</span> <span class="o">=</span> <span class="n">bitwuzla</span><span class="o">.</span><span class="n">print_formula</span><span class="p">(</span><span class="s2">&quot;smt2&quot;</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
<span class="linenos">143</span>    <span class="k">assert</span> <span class="n">res</span> <span class="o">==</span> <span class="n">expected_smt2</span>
<span class="linenos">144</span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Print formula [decimal bv output format]:&#39;</span><span class="p">)</span>
<span class="linenos">145</span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;---------------------------------------------&#39;</span><span class="p">)</span>
<span class="linenos">146</span>    <span class="nb">print</span><span class="p">(</span><span class="n">res</span><span class="p">)</span>
<span class="linenos">147</span>
<span class="linenos">148</span>    <span class="n">bitwuzla</span><span class="o">.</span><span class="n">check_sat</span><span class="p">()</span>
<span class="linenos">149</span>
<span class="linenos">150</span>    <span class="c1"># Print values.</span>
<span class="linenos">151</span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Print value of Boolean predicate:&#39;</span><span class="p">)</span>
<span class="linenos">152</span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;---------------------------------&#39;</span><span class="p">)</span>
<span class="linenos">153</span>    <span class="n">fpleq_val</span> <span class="o">=</span> <span class="n">bitwuzla</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="n">fpleq</span><span class="p">)</span><span class="o">.</span><span class="n">value</span><span class="p">()</span>
<span class="linenos">154</span>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">fpleq</span><span class="si">}</span><span class="s1">: </span><span class="si">{</span><span class="n">fpleq_val</span><span class="si">}</span><span class="s1"> [bool]&#39;</span><span class="p">)</span>
<span class="linenos">155</span>    <span class="nb">print</span><span class="p">()</span>
<span class="linenos">156</span>
<span class="linenos">157</span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Print value of bv const:&#39;</span><span class="p">)</span>
<span class="linenos">158</span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;------------------------&#39;</span><span class="p">)</span>
<span class="linenos">159</span>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">bv</span><span class="si">}</span><span class="s1">: </span><span class="si">{</span><span class="n">bitwuzla</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="n">bv</span><span class="p">)</span><span class="o">.</span><span class="n">value</span><span class="p">()</span><span class="si">:</span><span class="s1">&gt;8</span><span class="si">}</span><span class="s1"> [str] (bin)&#39;</span><span class="p">)</span>
<span class="linenos">160</span>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">bv</span><span class="si">}</span><span class="s1">: </span><span class="si">{</span><span class="n">bitwuzla</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="n">bv</span><span class="p">)</span><span class="o">.</span><span class="n">value</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span><span class="si">:</span><span class="s1">&gt;8</span><span class="si">}</span><span class="s1"> [str] (dec)&#39;</span><span class="p">)</span>
<span class="linenos">161</span>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">bv</span><span class="si">}</span><span class="s1">: </span><span class="si">{</span><span class="n">bitwuzla</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="n">bv</span><span class="p">)</span><span class="o">.</span><span class="n">value</span><span class="p">(</span><span class="mi">16</span><span class="p">)</span><span class="si">:</span><span class="s1">&gt;8</span><span class="si">}</span><span class="s1"> [str] (hex)&#39;</span><span class="p">)</span>
<span class="linenos">162</span>    <span class="nb">print</span><span class="p">()</span>
<span class="linenos">163</span>
<span class="linenos">164</span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Print value of RoundingMode const:&#39;</span><span class="p">)</span>
<span class="linenos">165</span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;----------------------------------&#39;</span><span class="p">)</span>
<span class="linenos">166</span>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">rm</span><span class="si">}</span><span class="s1">: </span><span class="si">{</span><span class="n">bitwuzla</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="n">rm</span><span class="p">)</span><span class="o">.</span><span class="n">value</span><span class="p">()</span><span class="si">}</span><span class="s1"> [RoundingMode]&#39;</span><span class="p">)</span>
<span class="linenos">167</span>    <span class="nb">print</span><span class="p">()</span>
<span class="linenos">168</span>
<span class="linenos">169</span>    <span class="n">fp_val</span> <span class="o">=</span> <span class="n">bitwuzla</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="n">fp</span><span class="p">)</span>
<span class="linenos">170</span>
<span class="linenos">171</span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Print value of fp const as single bit-vector (base ignored):&#39;</span><span class="p">)</span>
<span class="linenos">172</span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;------------------------------------------------------------&#39;</span><span class="p">)</span>
<span class="linenos">173</span>    <span class="k">assert</span> <span class="n">fp_val</span><span class="o">.</span><span class="n">value</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span> <span class="o">==</span> <span class="n">fp_val</span><span class="o">.</span><span class="n">value</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
<span class="linenos">174</span>    <span class="k">assert</span> <span class="n">fp_val</span><span class="o">.</span><span class="n">value</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span> <span class="o">==</span> <span class="n">fp_val</span><span class="o">.</span><span class="n">value</span><span class="p">(</span><span class="mi">16</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
<span class="linenos">175</span>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">fp</span><span class="si">}</span><span class="s1">: </span><span class="si">{</span><span class="n">fp_val</span><span class="o">.</span><span class="n">value</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="kc">False</span><span class="p">)</span><span class="si">:</span><span class="s1">&gt;16</span><span class="si">}</span><span class="s1"> [str] (bin)&#39;</span><span class="p">)</span>
<span class="linenos">176</span>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">fp</span><span class="si">}</span><span class="s1">: </span><span class="si">{</span><span class="n">fp_val</span><span class="o">.</span><span class="n">value</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="kc">False</span><span class="p">)</span><span class="si">:</span><span class="s1">&gt;16</span><span class="si">}</span><span class="s1"> [str] (dec [ignored])&#39;</span><span class="p">)</span>
<span class="linenos">177</span>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">fp</span><span class="si">}</span><span class="s1">: </span><span class="si">{</span><span class="n">fp_val</span><span class="o">.</span><span class="n">value</span><span class="p">(</span><span class="mi">16</span><span class="p">,</span><span class="w"> </span><span class="kc">False</span><span class="p">)</span><span class="si">:</span><span class="s1">&gt;16</span><span class="si">}</span><span class="s1"> [str] (hex [ignored])&#39;</span><span class="p">)</span>
<span class="linenos">178</span>    <span class="nb">print</span><span class="p">()</span>
<span class="linenos">179</span>
<span class="linenos">180</span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Print value of fp const as list of component bit-vectors:&#39;</span><span class="p">)</span>
<span class="linenos">181</span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;---------------------------------------------------------&#39;</span><span class="p">)</span>
<span class="linenos">182</span>    <span class="n">val</span> <span class="o">=</span> <span class="n">fp_val</span><span class="o">.</span><span class="n">value</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="linenos">183</span>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">fp</span><span class="si">}</span><span class="s1">: [</span><span class="si">{</span><span class="n">val</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">}</span><span class="s1">, </span><span class="si">{</span><span class="n">val</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="si">:</span><span class="s1">&gt;5</span><span class="si">}</span><span class="s1">, </span><span class="si">{</span><span class="n">val</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="si">:</span><span class="s1">&gt;11</span><span class="si">}</span><span class="s1">] [str] (bin)&#39;</span><span class="p">)</span>
<span class="linenos">184</span>    <span class="n">val</span> <span class="o">=</span> <span class="n">fp_val</span><span class="o">.</span><span class="n">value</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="linenos">185</span>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">fp</span><span class="si">}</span><span class="s1">: [</span><span class="si">{</span><span class="n">val</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">}</span><span class="s1">, </span><span class="si">{</span><span class="n">val</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="si">:</span><span class="s1">&gt;5</span><span class="si">}</span><span class="s1">, </span><span class="si">{</span><span class="n">val</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="si">:</span><span class="s1">&gt;11</span><span class="si">}</span><span class="s1">] [str] (dec)&#39;</span><span class="p">)</span>
<span class="linenos">186</span>    <span class="n">val</span> <span class="o">=</span> <span class="n">fp_val</span><span class="o">.</span><span class="n">value</span><span class="p">(</span><span class="mi">16</span><span class="p">)</span>
<span class="linenos">187</span>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">fp</span><span class="si">}</span><span class="s1">: [</span><span class="si">{</span><span class="n">val</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">}</span><span class="s1">, </span><span class="si">{</span><span class="n">val</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="si">:</span><span class="s1">&gt;5</span><span class="si">}</span><span class="s1">, </span><span class="si">{</span><span class="n">val</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="si">:</span><span class="s1">&gt;11</span><span class="si">}</span><span class="s1">] [str] (hex)&#39;</span><span class="p">)</span>
<span class="linenos">188</span>    <span class="nb">print</span><span class="p">()</span>
</pre></div>
</div>
</div></div>
</section>
<section id="termination-callback-example">
<h3><a class="toc-backref" href="#id17" role="doc-backlink">Termination Callback Example</a><a class="headerlink" href="#termination-callback-example" title="Link to this heading"></a></h3>
<div class="line-block">
<div class="line">This example shows how to configure a termination callback.</div>
<div class="line">The source code for this example can be found at <a class="reference external" href="https://github.com/bitwuzla/bitwuzla/tree/main/examples/cpp/terminator.cpp">examples/cpp/terminator.cpp</a>.</div>
</div>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-11-11-0" aria-selected="true" class="sphinx-tabs-tab" id="tab-11-11-0" name="11-0" role="tab" tabindex="0">C++</button><button aria-controls="panel-11-11-1" aria-selected="false" class="sphinx-tabs-tab" id="tab-11-11-1" name="11-1" role="tab" tabindex="-1">C</button><button aria-controls="panel-11-11-2" aria-selected="false" class="sphinx-tabs-tab" id="tab-11-11-2" name="11-2" role="tab" tabindex="-1">Python</button></div><div aria-labelledby="tab-11-11-0" class="sphinx-tabs-panel" id="panel-11-11-0" name="11-0" role="tabpanel" tabindex="0"><div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="cm">/***</span>
<span class="linenos"> 2</span><span class="cm"> * Bitwuzla: Satisfiability Modulo Theories (SMT) solver.</span>
<span class="linenos"> 3</span><span class="cm"> *</span>
<span class="linenos"> 4</span><span class="cm"> * Copyright (C) 2023 by the authors listed in the AUTHORS file at</span>
<span class="linenos"> 5</span><span class="cm"> * https://github.com/bitwuzla/bitwuzla/blob/main/AUTHORS</span>
<span class="linenos"> 6</span><span class="cm"> *</span>
<span class="linenos"> 7</span><span class="cm"> * This file is part of Bitwuzla under the MIT license. See COPYING for more</span>
<span class="linenos"> 8</span><span class="cm"> * information at https://github.com/bitwuzla/bitwuzla/blob/main/COPYING</span>
<span class="linenos"> 9</span><span class="cm"> */</span>
<span class="linenos">10</span>
<span class="linenos">11</span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;bitwuzla/cpp/bitwuzla.h&gt;</span>
<span class="linenos">12</span>
<span class="linenos">13</span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;chrono&gt;</span>
<span class="linenos">14</span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;iostream&gt;</span>
<span class="linenos">15</span>
<span class="linenos">16</span><span class="k">using</span><span class="w"> </span><span class="k">namespace</span><span class="w"> </span><span class="nn">bitwuzla</span><span class="p">;</span>
<span class="linenos">17</span><span class="k">using</span><span class="w"> </span><span class="k">namespace</span><span class="w"> </span><span class="nn">std</span><span class="o">::</span><span class="nn">chrono</span><span class="p">;</span>
<span class="linenos">18</span>
<span class="linenos">19</span><span class="k">class</span><span class="w"> </span><span class="nc">TestTerminator</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">public</span><span class="w"> </span><span class="n">Terminator</span>
<span class="linenos">20</span><span class="p">{</span>
<span class="linenos">21</span><span class="w"> </span><span class="k">public</span><span class="o">:</span>
<span class="linenos">22</span><span class="w">  </span><span class="n">TestTerminator</span><span class="p">(</span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">time_limit_ms</span><span class="p">)</span>
<span class="linenos">23</span><span class="w">      </span><span class="o">:</span><span class="w"> </span><span class="n">Terminator</span><span class="p">(),</span>
<span class="linenos">24</span><span class="w">        </span><span class="n">time_limit_ms</span><span class="p">(</span><span class="n">time_limit_ms</span><span class="p">),</span>
<span class="linenos">25</span><span class="w">        </span><span class="n">start</span><span class="p">(</span><span class="n">high_resolution_clock</span><span class="o">::</span><span class="n">now</span><span class="p">())</span>
<span class="linenos">26</span><span class="w">  </span><span class="p">{</span>
<span class="linenos">27</span><span class="w">  </span><span class="p">}</span>
<span class="linenos">28</span><span class="w">  </span><span class="kt">bool</span><span class="w"> </span><span class="n">terminate</span><span class="p">()</span><span class="w"> </span><span class="k">override</span>
<span class="linenos">29</span><span class="w">  </span><span class="p">{</span>
<span class="linenos">30</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">duration_cast</span><span class="o">&lt;</span><span class="n">milliseconds</span><span class="o">&gt;</span><span class="p">(</span><span class="n">high_resolution_clock</span><span class="o">::</span><span class="n">now</span><span class="p">()</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">start</span><span class="p">)</span>
<span class="linenos">31</span><span class="w">            </span><span class="p">.</span><span class="n">count</span><span class="p">()</span>
<span class="linenos">32</span><span class="w">        </span><span class="o">&gt;=</span><span class="w"> </span><span class="n">time_limit_ms</span><span class="p">)</span>
<span class="linenos">33</span><span class="w">    </span><span class="p">{</span>
<span class="linenos">34</span><span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos">35</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">36</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos">37</span><span class="w">  </span><span class="p">}</span>
<span class="linenos">38</span><span class="w">  </span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">time_limit_ms</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">39</span><span class="w">  </span><span class="n">high_resolution_clock</span><span class="o">::</span><span class="n">time_point</span><span class="w"> </span><span class="n">start</span><span class="p">;</span>
<span class="linenos">40</span><span class="p">};</span>
<span class="linenos">41</span>
<span class="linenos">42</span><span class="kt">int</span>
<span class="linenos">43</span><span class="nf">main</span><span class="p">()</span>
<span class="linenos">44</span><span class="p">{</span>
<span class="linenos">45</span><span class="w">  </span><span class="c1">// First, create a term manager instance.</span>
<span class="linenos">46</span><span class="w">  </span><span class="n">TermManager</span><span class="w"> </span><span class="n">tm</span><span class="p">;</span>
<span class="linenos">47</span><span class="w">  </span><span class="c1">// Create a Bitwuzla options instance.</span>
<span class="linenos">48</span><span class="w">  </span><span class="n">Options</span><span class="w"> </span><span class="n">options</span><span class="p">;</span>
<span class="linenos">49</span><span class="w">  </span><span class="c1">// Then, create a Bitwuzla instance.</span>
<span class="linenos">50</span><span class="w">  </span><span class="n">Bitwuzla</span><span class="w"> </span><span class="n">bitwuzla</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span><span class="w"> </span><span class="n">options</span><span class="p">);</span>
<span class="linenos">51</span>
<span class="linenos">52</span><span class="w">  </span><span class="n">Sort</span><span class="w"> </span><span class="n">bv</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">tm</span><span class="p">.</span><span class="n">mk_bv_sort</span><span class="p">(</span><span class="mi">32</span><span class="p">);</span>
<span class="linenos">53</span>
<span class="linenos">54</span><span class="w">  </span><span class="n">Term</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">tm</span><span class="p">.</span><span class="n">mk_const</span><span class="p">(</span><span class="n">bv</span><span class="p">);</span>
<span class="linenos">55</span><span class="w">  </span><span class="n">Term</span><span class="w"> </span><span class="n">s</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">tm</span><span class="p">.</span><span class="n">mk_const</span><span class="p">(</span><span class="n">bv</span><span class="p">);</span>
<span class="linenos">56</span><span class="w">  </span><span class="n">Term</span><span class="w"> </span><span class="n">t</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">tm</span><span class="p">.</span><span class="n">mk_const</span><span class="p">(</span><span class="n">bv</span><span class="p">);</span>
<span class="linenos">57</span>
<span class="linenos">58</span><span class="w">  </span><span class="n">Term</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">tm</span><span class="p">.</span><span class="n">mk_term</span><span class="p">(</span>
<span class="linenos">59</span><span class="w">      </span><span class="n">Kind</span><span class="o">::</span><span class="n">DISTINCT</span><span class="p">,</span>
<span class="linenos">60</span><span class="w">      </span><span class="p">{</span><span class="n">tm</span><span class="p">.</span><span class="n">mk_term</span><span class="p">(</span><span class="n">Kind</span><span class="o">::</span><span class="n">BV_MUL</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="n">s</span><span class="p">,</span><span class="w"> </span><span class="n">tm</span><span class="p">.</span><span class="n">mk_term</span><span class="p">(</span><span class="n">Kind</span><span class="o">::</span><span class="n">BV_MUL</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">t</span><span class="p">})}),</span>
<span class="linenos">61</span><span class="w">       </span><span class="n">tm</span><span class="p">.</span><span class="n">mk_term</span><span class="p">(</span><span class="n">Kind</span><span class="o">::</span><span class="n">BV_MUL</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="n">tm</span><span class="p">.</span><span class="n">mk_term</span><span class="p">(</span><span class="n">Kind</span><span class="o">::</span><span class="n">BV_MUL</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="n">s</span><span class="p">,</span><span class="w"> </span><span class="n">x</span><span class="p">}),</span><span class="w"> </span><span class="n">t</span><span class="p">})});</span>
<span class="linenos">62</span>
<span class="linenos">63</span><span class="w">  </span><span class="c1">// Now, we check that the following formula is unsat.</span>
<span class="linenos">64</span><span class="w">  </span><span class="c1">// (assert (distinct (bvmul s (bvmul x t)) (bvmul (bvmul s x) t)))</span>
<span class="linenos">65</span><span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;&gt; Without terminator (with preprocessing):&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="linenos">66</span><span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Expect: unsat&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="linenos">67</span><span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Result: &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">bitwuzla</span><span class="p">.</span><span class="n">check_sat</span><span class="p">({</span><span class="n">a</span><span class="p">})</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="linenos">68</span>
<span class="linenos">69</span><span class="w">  </span><span class="c1">// Now, for illustration purposes, we disable preprocessing, which will</span>
<span class="linenos">70</span><span class="w">  </span><span class="c1">// significantly increase solving time, and connect a terminator instance</span>
<span class="linenos">71</span><span class="w">  </span><span class="c1">// that terminates after a certain time limit.</span>
<span class="linenos">72</span><span class="w">  </span><span class="n">options</span><span class="p">.</span><span class="n">set</span><span class="p">(</span><span class="n">Option</span><span class="o">::</span><span class="n">PREPROCESS</span><span class="p">,</span><span class="w"> </span><span class="nb">false</span><span class="p">);</span>
<span class="linenos">73</span><span class="w">  </span><span class="c1">// Create new Bitwuzla instance with reconfigured options.</span>
<span class="linenos">74</span><span class="w">  </span><span class="n">Bitwuzla</span><span class="w"> </span><span class="n">bitwuzla2</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span><span class="w"> </span><span class="n">options</span><span class="p">);</span>
<span class="linenos">75</span><span class="w">  </span><span class="c1">// Configure and connect terminator.</span>
<span class="linenos">76</span><span class="w">  </span><span class="n">TestTerminator</span><span class="w"> </span><span class="n">tt</span><span class="p">(</span><span class="mi">1000</span><span class="p">);</span>
<span class="linenos">77</span><span class="w">  </span><span class="n">bitwuzla2</span><span class="p">.</span><span class="n">configure_terminator</span><span class="p">(</span><span class="o">&amp;</span><span class="n">tt</span><span class="p">);</span>
<span class="linenos">78</span>
<span class="linenos">79</span><span class="w">  </span><span class="c1">// Now, we expect Bitwuzla to be terminated during the check-sat call.</span>
<span class="linenos">80</span><span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;&gt; With terminator (no preprocessing):&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="linenos">81</span><span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Expect: unknown&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="linenos">82</span><span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Result: &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">bitwuzla2</span><span class="p">.</span><span class="n">check_sat</span><span class="p">({</span><span class="n">a</span><span class="p">})</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="linenos">83</span>
<span class="linenos">84</span><span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">85</span><span class="p">}</span>
</pre></div>
</div>
</div><div aria-labelledby="tab-11-11-1" class="sphinx-tabs-panel" hidden="true" id="panel-11-11-1" name="11-1" role="tabpanel" tabindex="0"><div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="linenos">  1</span><span class="cm">/***</span>
<span class="linenos">  2</span><span class="cm"> * Bitwuzla: Satisfiability Modulo Theories (SMT) solver.</span>
<span class="linenos">  3</span><span class="cm"> *</span>
<span class="linenos">  4</span><span class="cm"> * Copyright (C) 2023 by the authors listed in the AUTHORS file at</span>
<span class="linenos">  5</span><span class="cm"> * https://github.com/bitwuzla/bitwuzla/blob/main/AUTHORS</span>
<span class="linenos">  6</span><span class="cm"> *</span>
<span class="linenos">  7</span><span class="cm"> * This file is part of Bitwuzla under the MIT license. See COPYING for more</span>
<span class="linenos">  8</span><span class="cm"> * information at https://github.com/bitwuzla/bitwuzla/blob/main/COPYING</span>
<span class="linenos">  9</span><span class="cm"> */</span>
<span class="linenos"> 10</span>
<span class="linenos"> 11</span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;bitwuzla/c/bitwuzla.h&gt;</span>
<span class="linenos"> 12</span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;stdint.h&gt;</span>
<span class="linenos"> 13</span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;stdio.h&gt;</span>
<span class="linenos"> 14</span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;sys/time.h&gt;</span>
<span class="linenos"> 15</span>
<span class="linenos"> 16</span><span class="k">struct</span><span class="w"> </span><span class="nc">terminator_state</span>
<span class="linenos"> 17</span><span class="p">{</span>
<span class="linenos"> 18</span><span class="w">  </span><span class="k">struct</span><span class="w"> </span><span class="nc">timeval</span><span class="w"> </span><span class="n">start</span><span class="p">;</span>
<span class="linenos"> 19</span><span class="w">  </span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">time_limit_ms</span><span class="p">;</span>
<span class="linenos"> 20</span><span class="p">};</span>
<span class="linenos"> 21</span>
<span class="linenos"> 22</span><span class="k">static</span><span class="w"> </span><span class="kt">int32_t</span>
<span class="linenos"> 23</span><span class="nf">test_terminate</span><span class="p">(</span><span class="kt">void</span><span class="o">*</span><span class="w"> </span><span class="n">state</span><span class="p">)</span>
<span class="linenos"> 24</span><span class="p">{</span>
<span class="linenos"> 25</span><span class="w">  </span><span class="k">struct</span><span class="w"> </span><span class="nc">terminator_state</span><span class="o">*</span><span class="w"> </span><span class="n">tstate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="k">struct</span><span class="w"> </span><span class="nc">terminator_state</span><span class="o">*</span><span class="p">)</span><span class="w"> </span><span class="n">state</span><span class="p">;</span>
<span class="linenos"> 26</span><span class="w">  </span><span class="k">struct</span><span class="w"> </span><span class="nc">timeval</span><span class="w"> </span><span class="n">now</span><span class="p">;</span>
<span class="linenos"> 27</span><span class="w">  </span><span class="n">gettimeofday</span><span class="p">(</span><span class="o">&amp;</span><span class="n">now</span><span class="p">,</span><span class="w"> </span><span class="nb">NULL</span><span class="p">);</span>
<span class="linenos"> 28</span><span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(((</span><span class="n">now</span><span class="p">.</span><span class="n">tv_sec</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">tstate</span><span class="o">-&gt;</span><span class="n">start</span><span class="p">.</span><span class="n">tv_sec</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">1000</span>
<span class="linenos"> 29</span><span class="w">       </span><span class="o">+</span><span class="w"> </span><span class="p">(</span><span class="n">now</span><span class="p">.</span><span class="n">tv_usec</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">tstate</span><span class="o">-&gt;</span><span class="n">start</span><span class="p">.</span><span class="n">tv_usec</span><span class="p">)</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">1000</span><span class="p">)</span>
<span class="linenos"> 30</span><span class="w">      </span><span class="o">&gt;=</span><span class="w"> </span><span class="n">tstate</span><span class="o">-&gt;</span><span class="n">time_limit_ms</span><span class="p">)</span>
<span class="linenos"> 31</span><span class="w">  </span><span class="p">{</span>
<span class="linenos"> 32</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="linenos"> 33</span><span class="w">  </span><span class="p">}</span>
<span class="linenos"> 34</span><span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 35</span><span class="p">}</span>
<span class="linenos"> 36</span>
<span class="linenos"> 37</span><span class="kt">int</span>
<span class="linenos"> 38</span><span class="nf">main</span><span class="p">()</span>
<span class="linenos"> 39</span><span class="p">{</span>
<span class="linenos"> 40</span><span class="w">  </span><span class="c1">// First, create a term manager instance.</span>
<span class="linenos"> 41</span><span class="w">  </span><span class="n">BitwuzlaTermManager</span><span class="o">*</span><span class="w"> </span><span class="n">tm</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_term_manager_new</span><span class="p">();</span>
<span class="linenos"> 42</span><span class="w">  </span><span class="c1">// Create a Bitwuzla options instance.</span>
<span class="linenos"> 43</span><span class="w">  </span><span class="n">BitwuzlaOptions</span><span class="o">*</span><span class="w"> </span><span class="n">options</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_options_new</span><span class="p">();</span>
<span class="linenos"> 44</span><span class="w">  </span><span class="c1">// Then, create a Bitwuzla instance.</span>
<span class="linenos"> 45</span><span class="w">  </span><span class="n">Bitwuzla</span><span class="o">*</span><span class="w"> </span><span class="n">bitwuzla</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_new</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span><span class="w"> </span><span class="n">options</span><span class="p">);</span>
<span class="linenos"> 46</span>
<span class="linenos"> 47</span><span class="w">  </span><span class="n">BitwuzlaSort</span><span class="w"> </span><span class="n">bv</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_bv_sort</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span><span class="w"> </span><span class="mi">32</span><span class="p">);</span>
<span class="linenos"> 48</span>
<span class="linenos"> 49</span><span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_const</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span><span class="w"> </span><span class="n">bv</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;x&quot;</span><span class="p">);</span>
<span class="linenos"> 50</span><span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">s</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_const</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span><span class="w"> </span><span class="n">bv</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;s&quot;</span><span class="p">);</span>
<span class="linenos"> 51</span><span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">t</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_const</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span><span class="w"> </span><span class="n">bv</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;t&quot;</span><span class="p">);</span>
<span class="linenos"> 52</span>
<span class="linenos"> 53</span><span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_term2</span><span class="p">(</span>
<span class="linenos"> 54</span><span class="w">      </span><span class="n">tm</span><span class="p">,</span>
<span class="linenos"> 55</span><span class="w">      </span><span class="n">BITWUZLA_KIND_DISTINCT</span><span class="p">,</span>
<span class="linenos"> 56</span><span class="w">      </span><span class="n">bitwuzla_mk_term2</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span>
<span class="linenos"> 57</span><span class="w">                        </span><span class="n">BITWUZLA_KIND_BV_MUL</span><span class="p">,</span>
<span class="linenos"> 58</span><span class="w">                        </span><span class="n">s</span><span class="p">,</span>
<span class="linenos"> 59</span><span class="w">                        </span><span class="n">bitwuzla_mk_term2</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span><span class="w"> </span><span class="n">BITWUZLA_KIND_BV_MUL</span><span class="p">,</span><span class="w"> </span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">t</span><span class="p">)),</span>
<span class="linenos"> 60</span><span class="w">      </span><span class="n">bitwuzla_mk_term2</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span>
<span class="linenos"> 61</span><span class="w">                        </span><span class="n">BITWUZLA_KIND_BV_MUL</span><span class="p">,</span>
<span class="linenos"> 62</span><span class="w">                        </span><span class="n">bitwuzla_mk_term2</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span><span class="w"> </span><span class="n">BITWUZLA_KIND_BV_MUL</span><span class="p">,</span><span class="w"> </span><span class="n">s</span><span class="p">,</span><span class="w"> </span><span class="n">x</span><span class="p">),</span>
<span class="linenos"> 63</span><span class="w">                        </span><span class="n">t</span><span class="p">));</span>
<span class="linenos"> 64</span>
<span class="linenos"> 65</span><span class="w">  </span><span class="c1">// Now, we check that the following formula is unsat.</span>
<span class="linenos"> 66</span><span class="w">  </span><span class="c1">// (assert (distinct (bvmul s (bvmul x t)) (bvmul (bvmul s x) t)))</span>
<span class="linenos"> 67</span><span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">assumptions</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="n">a</span><span class="p">};</span>
<span class="linenos"> 68</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;&gt; Without terminator (with preprocessing):</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="linenos"> 69</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Expect: unsat</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="linenos"> 70</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Result: %s</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span>
<span class="linenos"> 71</span><span class="w">         </span><span class="n">bitwuzla_result_to_string</span><span class="p">(</span>
<span class="linenos"> 72</span><span class="w">             </span><span class="n">bitwuzla_check_sat_assuming</span><span class="p">(</span><span class="n">bitwuzla</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">assumptions</span><span class="p">)));</span>
<span class="linenos"> 73</span>
<span class="linenos"> 74</span><span class="w">  </span><span class="c1">// Now, for illustration purposes, we disable preprocessing, which will</span>
<span class="linenos"> 75</span><span class="w">  </span><span class="c1">// significantly increase solving time, and connect a terminator instance</span>
<span class="linenos"> 76</span><span class="w">  </span><span class="c1">// that terminates after a certain time limit.</span>
<span class="linenos"> 77</span><span class="w">  </span><span class="n">bitwuzla_set_option</span><span class="p">(</span><span class="n">options</span><span class="p">,</span><span class="w"> </span><span class="n">BITWUZLA_OPT_PREPROCESS</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span>
<span class="linenos"> 78</span><span class="w">  </span><span class="c1">// Create new Bitwuzla instance with reconfigured options.</span>
<span class="linenos"> 79</span><span class="w">  </span><span class="n">Bitwuzla</span><span class="o">*</span><span class="w"> </span><span class="n">bitwuzla2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_new</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span><span class="w"> </span><span class="n">options</span><span class="p">);</span>
<span class="linenos"> 80</span><span class="w">  </span><span class="c1">// Configure termination callback.</span>
<span class="linenos"> 81</span><span class="w">  </span><span class="k">struct</span><span class="w"> </span><span class="nc">terminator_state</span><span class="w"> </span><span class="n">state</span><span class="p">;</span>
<span class="linenos"> 82</span><span class="w">  </span><span class="n">gettimeofday</span><span class="p">(</span><span class="o">&amp;</span><span class="n">state</span><span class="p">.</span><span class="n">start</span><span class="p">,</span><span class="w"> </span><span class="nb">NULL</span><span class="p">);</span>
<span class="linenos"> 83</span><span class="w">  </span><span class="n">state</span><span class="p">.</span><span class="n">time_limit_ms</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1000</span><span class="p">;</span>
<span class="linenos"> 84</span><span class="w">  </span><span class="n">bitwuzla_set_termination_callback</span><span class="p">(</span><span class="n">bitwuzla2</span><span class="p">,</span><span class="w"> </span><span class="n">test_terminate</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">state</span><span class="p">);</span>
<span class="linenos"> 85</span>
<span class="linenos"> 86</span><span class="w">  </span><span class="c1">// Now, we expect Bitwuzla to be terminated during the check-sat call.</span>
<span class="linenos"> 87</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;&gt; With terminator (no preprocessing):</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="linenos"> 88</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Expect: unknown</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="linenos"> 89</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Result: %s</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span>
<span class="linenos"> 90</span><span class="w">         </span><span class="n">bitwuzla_result_to_string</span><span class="p">(</span>
<span class="linenos"> 91</span><span class="w">             </span><span class="n">bitwuzla_check_sat_assuming</span><span class="p">(</span><span class="n">bitwuzla2</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">assumptions</span><span class="p">)));</span>
<span class="linenos"> 92</span>
<span class="linenos"> 93</span><span class="w">  </span><span class="c1">// Finally, delete the Bitwuzla solver, options, and term manager instances.</span>
<span class="linenos"> 94</span><span class="w">  </span><span class="n">bitwuzla_delete</span><span class="p">(</span><span class="n">bitwuzla</span><span class="p">);</span>
<span class="linenos"> 95</span><span class="w">  </span><span class="n">bitwuzla_delete</span><span class="p">(</span><span class="n">bitwuzla2</span><span class="p">);</span>
<span class="linenos"> 96</span><span class="w">  </span><span class="n">bitwuzla_options_delete</span><span class="p">(</span><span class="n">options</span><span class="p">);</span>
<span class="linenos"> 97</span><span class="w">  </span><span class="n">bitwuzla_term_manager_delete</span><span class="p">(</span><span class="n">tm</span><span class="p">);</span>
<span class="linenos"> 98</span>
<span class="linenos"> 99</span><span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">100</span><span class="p">}</span>
</pre></div>
</div>
</div><div aria-labelledby="tab-11-11-2" class="sphinx-tabs-panel" hidden="true" id="panel-11-11-2" name="11-2" role="tabpanel" tabindex="0"><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="c1">###</span>
<span class="linenos"> 2</span><span class="c1"># Bitwuzla: Satisfiability Modulo Theories (SMT) solver.</span>
<span class="linenos"> 3</span><span class="c1">#</span>
<span class="linenos"> 4</span><span class="c1"># Copyright (C) 2023 by the authors listed in the AUTHORS file at</span>
<span class="linenos"> 5</span><span class="c1"># https:#github.com/bitwuzla/bitwuzla/blob/main/AUTHORS</span>
<span class="linenos"> 6</span><span class="c1">#</span>
<span class="linenos"> 7</span><span class="c1"># This file is part of Bitwuzla under the MIT license. See COPYING for more</span>
<span class="linenos"> 8</span><span class="c1"># information at https:#github.com/bitwuzla/bitwuzla/blob/main/COPYING</span>
<span class="linenos"> 9</span><span class="c1">##</span>
<span class="linenos">10</span>
<span class="linenos">11</span><span class="kn">import</span><span class="w"> </span><span class="nn">time</span>
<span class="linenos">12</span>
<span class="linenos">13</span><span class="kn">from</span><span class="w"> </span><span class="nn">bitwuzla</span><span class="w"> </span><span class="kn">import</span> <span class="o">*</span>
<span class="linenos">14</span>
<span class="linenos">15</span><span class="k">class</span><span class="w"> </span><span class="nc">TestTerminator</span><span class="p">:</span>
<span class="linenos">16</span>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">time_limit</span><span class="p">):</span>
<span class="linenos">17</span>        <span class="bp">self</span><span class="o">.</span><span class="n">start_time</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
<span class="linenos">18</span>        <span class="bp">self</span><span class="o">.</span><span class="n">time_limit</span> <span class="o">=</span> <span class="n">time_limit</span>
<span class="linenos">19</span>
<span class="linenos">20</span>    <span class="k">def</span><span class="w"> </span><span class="fm">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="linenos">21</span>        <span class="c1"># Terminate after self.time_limit ms passed</span>
<span class="linenos">22</span>        <span class="k">return</span> <span class="p">(</span><span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">start_time</span><span class="p">)</span> <span class="o">*</span> <span class="mi">1000</span> <span class="o">&gt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">time_limit</span>
<span class="linenos">23</span>
<span class="linenos">24</span><span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
<span class="linenos">25</span>
<span class="linenos">26</span>    <span class="c1"># First, create a term manager instance.</span>
<span class="linenos">27</span>    <span class="n">tm</span> <span class="o">=</span> <span class="n">TermManager</span><span class="p">()</span>
<span class="linenos">28</span>    <span class="c1"># No options configured, create Bitwuzla instance with default options.</span>
<span class="linenos">29</span>    <span class="n">bitwuzla</span> <span class="o">=</span> <span class="n">Bitwuzla</span><span class="p">(</span><span class="n">tm</span><span class="p">)</span>
<span class="linenos">30</span>
<span class="linenos">31</span>    <span class="n">bv</span> <span class="o">=</span> <span class="n">tm</span><span class="o">.</span><span class="n">mk_bv_sort</span><span class="p">(</span><span class="mi">32</span><span class="p">)</span>
<span class="linenos">32</span>
<span class="linenos">33</span>    <span class="n">x</span> <span class="o">=</span> <span class="n">tm</span><span class="o">.</span><span class="n">mk_const</span><span class="p">(</span><span class="n">bv</span><span class="p">)</span>
<span class="linenos">34</span>    <span class="n">s</span> <span class="o">=</span> <span class="n">tm</span><span class="o">.</span><span class="n">mk_const</span><span class="p">(</span><span class="n">bv</span><span class="p">)</span>
<span class="linenos">35</span>    <span class="n">t</span> <span class="o">=</span> <span class="n">tm</span><span class="o">.</span><span class="n">mk_const</span><span class="p">(</span><span class="n">bv</span><span class="p">)</span>
<span class="linenos">36</span>
<span class="linenos">37</span>    <span class="n">a</span> <span class="o">=</span> <span class="n">tm</span><span class="o">.</span><span class="n">mk_term</span><span class="p">(</span><span class="n">Kind</span><span class="o">.</span><span class="n">DISTINCT</span><span class="p">,</span>
<span class="linenos">38</span>                     <span class="p">[</span><span class="n">tm</span><span class="o">.</span><span class="n">mk_term</span><span class="p">(</span><span class="n">Kind</span><span class="o">.</span><span class="n">BV_MUL</span><span class="p">,</span> <span class="p">[</span><span class="n">s</span><span class="p">,</span> <span class="n">tm</span><span class="o">.</span><span class="n">mk_term</span><span class="p">(</span><span class="n">Kind</span><span class="o">.</span><span class="n">BV_MUL</span><span class="p">,</span> <span class="p">[</span><span class="n">x</span><span class="p">,</span> <span class="n">t</span><span class="p">])]),</span>
<span class="linenos">39</span>                      <span class="n">tm</span><span class="o">.</span><span class="n">mk_term</span><span class="p">(</span><span class="n">Kind</span><span class="o">.</span><span class="n">BV_MUL</span><span class="p">,</span> <span class="p">[</span><span class="n">tm</span><span class="o">.</span><span class="n">mk_term</span><span class="p">(</span><span class="n">Kind</span><span class="o">.</span><span class="n">BV_MUL</span><span class="p">,</span> <span class="p">[</span><span class="n">s</span><span class="p">,</span> <span class="n">x</span><span class="p">]),</span> <span class="n">t</span><span class="p">])])</span>
<span class="linenos">40</span>
<span class="linenos">41</span>    <span class="c1"># Now, we check that the following formula is unsat.</span>
<span class="linenos">42</span>    <span class="c1"># (assert (distinct (bvmul s (bvmul x t)) (bvmul (bvmul s x) t)))</span>
<span class="linenos">43</span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;&gt; Without terminator (with preprocessing):&#39;</span><span class="p">)</span>
<span class="linenos">44</span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Expect: unsat&#39;</span><span class="p">)</span>
<span class="linenos">45</span>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Bitwuzla: </span><span class="si">{</span><span class="n">bitwuzla</span><span class="o">.</span><span class="n">check_sat</span><span class="p">(</span><span class="n">a</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="linenos">46</span>
<span class="linenos">47</span>    <span class="c1"># Now, for illustration purposes, we disable preprocessing, which will</span>
<span class="linenos">48</span>    <span class="c1"># significantly increase solving time, and connect a terminator instance</span>
<span class="linenos">49</span>    <span class="c1"># that terminates after a certain time limit.</span>
<span class="linenos">50</span>    <span class="n">options</span> <span class="o">=</span> <span class="n">Options</span><span class="p">()</span>
<span class="linenos">51</span>    <span class="n">options</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">Option</span><span class="o">.</span><span class="n">PREPROCESS</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
<span class="linenos">52</span>    <span class="c1"># Create new Bitwuzla instance with reconfigured options.</span>
<span class="linenos">53</span>    <span class="n">bitwuzla2</span> <span class="o">=</span> <span class="n">Bitwuzla</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span> <span class="n">options</span><span class="p">)</span>
<span class="linenos">54</span>    <span class="c1"># Configure and connect terminator.</span>
<span class="linenos">55</span>    <span class="n">tt</span> <span class="o">=</span> <span class="n">TestTerminator</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="linenos">56</span>    <span class="n">bitwuzla2</span><span class="o">.</span><span class="n">configure_terminator</span><span class="p">(</span><span class="n">tt</span><span class="p">)</span>
<span class="linenos">57</span>
<span class="linenos">58</span>    <span class="c1"># Now, we expect Bitwuzla to be terminated during the check-sat call.</span>
<span class="linenos">59</span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;&gt; With terminator (no preprocessing):&#39;</span><span class="p">)</span>
<span class="linenos">60</span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Expect: unsat&#39;</span><span class="p">)</span>
<span class="linenos">61</span>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Bitwuzla: </span><span class="si">{</span><span class="n">bitwuzla2</span><span class="o">.</span><span class="n">check_sat</span><span class="p">(</span><span class="n">a</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div></div>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../api.html" class="btn btn-neutral float-left" title="API Documentation" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="interface.html" class="btn btn-neutral float-right" title="C++ Interface" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, the authors of Bitwuzla.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>